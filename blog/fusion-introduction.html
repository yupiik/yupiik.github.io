<!DOCTYPE html>
<html lang="en">

<head>
    <title>Yupiik Fusion Introduction</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Yupiik Open Source Portal. Discover all Yupiik Open Source Software and Libraries.">
    <meta name="author" content="Francois Papon">
    <meta name="generator" content="Yupiik Minisite Generator">
    
    <link rel="shortcut icon" href="//www.yupiik.com/img/favicon.png">

    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/asciidoctor.js/1.5.5-5/css/asciidoctor.min.css" integrity="sha512-kI7tn5cuEg16kMeXnYmg8rEJPxbxzEM7Gsr191iQdLDevFBLXPCSU9aZWSVuP61tMZWU3nBAR1cJ7SmXnOGLZw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css" integrity="sha512-oc9+XSs1H243/FRN9Rw62Fn8EtxjEYWHXRvjS43YtueEewbS6ObfXcJNyohjHqVKFPoXXUxwc+q1K7Dee6vv9g==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/vs2015.min.css" integrity="sha512-w8aclkBlN3Ha08SMwFKXFJqhSUx2qlvTBFLLelF8sm4xQnlg64qmGB/A6pBIKy0W8Bo51yDMDtQiPLNRq1WMcQ==" crossorigin="anonymous" />
    <link id="theme-style" rel="stylesheet" href="/css/theme.css?v=1.0.0-SNAPSHOT">
    <link rel="stylesheet" href="/css/yupiik.github.io.css?v=1.0.0-SNAPSHOT">
</head>
<body class="blog">
<header class="header fixed-top">
    <div class="branding docs-branding">
        <div class="container-fluid position-relative py-2">
            <div class="docs-logo-wrapper">
                <div class="site-logo"><a class="navbar-brand" href="/index.html">
                    <img class="logo-icon mr-2" src="/images/yupiik-logo.svg" alt="logo">
                    <span class="logo-text"></span></a></div>
            </div>
            <div class="docs-top-utilities d-flex justify-content-end align-items-center mt-4 mt-md-0">
                <li class="list-inline-item"><a class="btn btn-link" title="Starter" href="/project-starter.html">Starter</a></li>
                <li class="list-inline-item"><a class="btn btn-link" title="Projects" href="/projects.html">Projects</a></li>
                <li class="list-inline-item"><a class="btn btn-link" title="Community" href="/community.html">Community</a></li>
                <li class="list-inline-item"><a class="btn btn-link" title="Blog" href="/blog/">Blog</a></li>
                <li class="list-inline-item"><a title="Search" id="search-button" href="#" data-toggle="modal" data-target="#searchModal"><i data-toggle="tooltip" data-placement="top" title="Search" class="fas fa-search"></i></a></li>

                <ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
                    <li class="list-inline-item"><a href="https://www.github.com/yupiik/"><i class="fab fa-github fa-fw"></i></a></li>
                    <li class="list-inline-item"><a href="https://www.linkedin.com/company/yupiik/"><i class="fab fa-linkedin fa-fw"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</header>
<div class="page">
<div id="blog-fusion-introduction-html-container" class="page-content is-blog blog-fusion-introduction-html">
                <div class="page-header">
                <h1>Yupiik Fusion Introduction</h1>
            </div>
    <div class="page-content-body">

        <div id="preamble">
<div class="sectionbody">
<div class="paragraph metadata">
<p><span class="mr-2 category-technology"><span class="icon"><i class="fa fa-fas fa-microchip"></i></span></span>, <span class="metadata-authors"><a href="/blog/author/francois-papon/page-1.html">Francois Papon</a></span>, <span class="metadata-published">2023-04-05</span>, <span class="metadata-readingtime">4 min and 7 sec read</span></p>
</div>
<div class="quoteblock abstract">
<blockquote>
Since about 2021 all JavaEE specifications moved from javax to jakarta packages which broke basically the full Java ecosystem. In the mean time, the industry became more cloud and Kubernetes focus which triggers new challenges like being native/GraalVM friendly.
From the two strong statements, being vendor agnostic and light, Yupiik created <a href="https://yupiik.github.io/fusion/">Fusion</a>!
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_yupiik_fusion">Why Yupiik Fusion?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At Yupiik, we created an api platform and decided to open source the kernel of our product and share it with the community because we are heavily involved
in open source projects.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_yupiik_fusion">What is Yupiik Fusion?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Yupiik Fusion is a very light weight and powerful framework to build cloud native microservices.
It means that you have all your need to build the most common use cases in an efficient way by using your favorite programming language (Java).</p>
</div>
<div class="paragraph">
<p>For cloud applications, being the most reactive possible is a key criteria so Fusion chose to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Be build time oriented</strong>: only delegate to runtime the bean resolution (to enable dynamic module aggregation) and not the bean and model discovery nor proxy generation,</p>
</li>
<li>
<p><strong>Stay flexible</strong>: even if the model is generated at build time you can generally still customize it by removing a bean and adding your own one,</p>
</li>
<li>
<p><strong>Be native friendly</strong>: some applications need to be native to start very fast and bypass the classloading and a bunch of JVM init, for that purpose we ensure the framework is GraalVM friendly - using Apache Geronimo Arthur or not.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The framework come with the most common features and extension such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reflection less IoC processor,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/examples.html#_listen_to_an_event">Event</a> bus to help beans to communicate between them,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/http-server.html">HTTP server</a> which is an abstraction of the Apache Tomcat web server,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/http-client.html">HTTP client</a> based on the <code>java.net.httpClient</code> with an extended configuration,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/examples.html#_define_a_json_rpc_endpoint">JsonRPC</a> endpoint server,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/json.html">Json</a> support mapper for serialization/deserialization,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/cli.html">CLI</a> helper to easily build command line application,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/examples.html#configuration_model">Configuration model</a> with environment variables abstraction mapping designed for the cloud,</p>
</li>
<li>
<p>Full Java Record integration,</p>
</li>
<li>
<p>Simple <a href="https://www.yupiik.io/fusion//fusion/persistence.html">Persistence</a> layer based on common jdbc prepare statement and Record binding,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/observability.html">Observability</a> module to publish logs, metrics, healthchecks and tracing,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/handlebars.html">Handlebar</a> templating helper,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/examples.html#_test_with_junit_5">JUnit5</a> support for writing tests,</p>
</li>
<li>
<p><a href="https://www.yupiik.io/fusion//fusion/graalvm.html">GraalVM</a> friendly and easy build</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started">Get started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The magic of Fusion is on the processor part that has the responsibility to build the runtime, so you just need to depend on the <code>fusion-api</code> in compile
scope (which is the default with Apache Maven) to be included to the application.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
you can learn more on the <a href="https://www.yupiik.io/fusion//fusion/setup.html">Setup</a> page.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.yupiik.fusion&lt;/groupId&gt;
    &lt;artifactId&gt;fusion-api&lt;/artifactId&gt;
    &lt;version&gt;${fusion.version}&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;io.yupiik.fusion&lt;/groupId&gt;
    &lt;artifactId&gt;fusion-build-api&lt;/artifactId&gt;
    &lt;version&gt;${fusion.version}&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.yupiik.fusion&lt;/groupId&gt;
    &lt;artifactId&gt;fusion-processor&lt;/artifactId&gt;
    &lt;version&gt;${fusion.version}&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the provided scope which enables to bring automatically the build time generator without having to deliver it at runtime so your deliverable stays light!</p>
</div>
<div class="paragraph">
<p>That&#8217;s all!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example_with_jsonrpc_endpoint">Example with JsonRPC endpoint</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To implement a simple JsonRPC endpoint, you just need to add these dependencies into your pom.xml:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.yupiik.fusion&lt;/groupId&gt;
    &lt;artifactId&gt;fusion-jsonrpc&lt;/artifactId&gt;
    &lt;version&gt;${fusion.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
the <code>fusion-jsonrpc</code> module depend on the <code>fusion-http-server</code> and the <code>fusion-json</code>, so you can configure and use them without adding them to the dependencies
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class CustomerEndpoint {
    @JsonRpc(value = "createCustomer", documentation = "Creates a new customer")
    public Customer createCustomer(final Request request) {
        // ...
    }

    @JsonRpc(value = "retrieveCustomer", documentation = "Retrieve an existing customer")
    public Customer retrieveCustomer(final Request request) {
        // ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Build the application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then add the Apache Maven exec plugin to test the execution:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;&lt;!-- mvn exec:java --&gt;
            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
                &lt;mainClass&gt;io.yupiik.fusion.framework.api.main.Launcher&lt;/mainClass&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
...</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
we are using the ready to use Fusion launcher but user can create a custom main method
to <a href="https://www.yupiik.io/fusion//fusion/examples.html#_start_the_container">start the application container</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once executed, you can call your endpoint:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl \
  http://localhost:8080/jsonrpc \
  -d '{"jsonrpc":"2.0","method":"createCustomer","params":{"firstname":"John", "lastname":"Doe"}}'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thanks to JSON-RPC, if you have multiple customer to create in one time, you can use the bulk option:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl \
  http://localhost:8080/jsonrpc \
  -d '[ \
    {"id":1,"jsonrpc":"2.0","method":"createCustomer","params":{"firstname":"John", "lastname":"Doe"}}, \
    {"id":2,"jsonrpc":"2.0","method":"createCustomer","params":{"firstname":"James", "lastname":"Bond"}} \
  ]'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_graalvm_friendly">GraalVM friendly</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thanks to Apache Geronimo Arthur project, it&#8217;s very easy to build your application in native just by adding the maven plugin dependency:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;!--
                mvn arthur:native-image for binaries
                mvn arthur:native-image arthur:docker for build docker image with binaries
            --&gt;
            &lt;groupId&gt;org.apache.geronimo.arthur&lt;/groupId&gt;
            &lt;artifactId&gt;arthur-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;${arthur.version}&lt;/version&gt;
            &lt;configuration&gt;
                &lt;graalVersion&gt;22.3.0.r17&lt;/graalVersion&gt;
                &lt;main&gt;io.yupiik.fusion.framework.api.main.Launcher&lt;/main&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then you can build the binary of your application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn arthur:native-image for binaries</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or build a docker image with the binary include:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn arthur:native-image arthur:docker</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sorry to disappoint you if you are thinking that it will be hard to build a native app!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This post is the announcement of the new Yupiik Fusion project with a short startup presentation, and we will add new blog posts
about another examples to show how to use the full power Fusion.</p>
</div>
<div class="paragraph">
<p>To learn more, you can check the <a href="https://www.yupiik.io/fusion/">online documentation</a> and the <a href="https://github.com/yupiik/fusion">source code repository</a>.</p>
</div>
<div class="paragraph">
<p>Enjoy!</p>
</div>
</div>
</div>

        <div class="m-5">
            

<div class="paragraph blog-categories">
<p>From the same author:<p>
</div>
<div class="ulist blog-links blog-categories">
<ul>
<li><p><a href="/blog/author/francois-papon/page-1.html">Francois Papon</a></p></li></ul>
</div>




            

<div class="paragraph blog-categories">
<p>In the same category:</p>
</div>
<div class="ulist blog-links blog-categories">
<ul>
<li><p><a href="/blog/category/technology/page-1.html">Technology</a></p></li></ul>
</div>



        </div>
    </div>
</div>
    <div class="page-navigation-right">
        <h3>Navigation</h3>
        <nav class="generated-nav-menu"></nav>
    </div>
    </div>
    <hr />
    <footer class="footer pb-5">
	    <div class="footer-bottom text-center">
		    <ul class="social-list list-unstyled">
                <li class="list-inline-item"><a title="LinkedIn" target="_blank" href="https://www.linkedin.com/company/yupiik/"><i class="fab fa-linkedin fa-fw"></i></a></li>
              <li class="list-inline-item"><a title="Twitter" target="_blank" href="https://twitter.com/Yupiik/"><i class="fab fa-twitter fa-fw"></i></a></li>
              <li class="list-inline-item"><a title="Github" target="_blank" href="https://www.github.com/yupiik"><i class="fab fa-github fa-fw"></i></a></li>
              <li class="list-inline-item"><a title="Sitemap" target="_blank" href="/sitemap.xml"><i class="fas fa-rss-square fa-fw"></i></a></li>
              <li class="list-inline-item"><a title="Yupiik" target="_blank" href="https://www.yupiik.com/"><img class="yupiik-logo" src="/images/yupiik.png"></img></a></li>
	        </ul>
            <small class="copyright">© 2024 <strong>Yupiik</strong>. All Rights Reserved</small> | <a href="https://www.yupiik.com/terms-of-service/">Terms of service</a> | <a href="https://www.yupiik.com/privacy-policy/">Privacy policy</a>
	    </div>
    </footer>

    <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="searchModalLabel">Search</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form onsubmit="return false;" class="form-inline">
          <div class="form-group">
            <label for="searchInput"><b>Search: </b></label>
            <input class="form-control" id="searchInput" placeholder="Enter search text and hit enter...">
          </div>
        </form>
        <div class="search-hits"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" ></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js" integrity="sha512-8qmis31OQi6hIRgvkht0s6mCOittjMa9GMqtK9hes5iEQBQE/Ca6yGE5FsW36vyipGoWQswBj/QBm2JR086Rkw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js" integrity="sha512-d00ajEME7cZhepRqSIVsQVGDJBdZlfHyQLNC6tZXYKTG7iwcF8nhlFuppanz8hYgXr8VvlfKh4gLC25ud3c90A==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/languages/bash.min.js" integrity="sha512-Hg0ufGEvn0AuzKMU0psJ1iH238iUN6THh7EI0CfA0n1sd3yu6PYet4SaDMpgzN9L1yQHxfB3yc5ezw3PwolIfA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/languages/bash.min.js" integrity="sha512-Hg0ufGEvn0AuzKMU0psJ1iH238iUN6THh7EI0CfA0n1sd3yu6PYet4SaDMpgzN9L1yQHxfB3yc5ezw3PwolIfA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/languages/json.min.js" integrity="sha512-37sW1XqaJmseHAGNg4N4Y01u6g2do6LZL8tsziiL5CMXGy04Th65OXROw2jeDeXLo5+4Fsx7pmhEJJw77htBFg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/languages/dockerfile.min.js" integrity="sha512-eRNl3ty7GOJPBN53nxLgtSSj2rkYj5/W0Vg0MFQBw8xAoILeT6byOogENHHCRRvHil4pKQ/HbgeJ5DOwQK3SJA==" crossorigin="anonymous"></script>
    <script>if (!(window.minisite || {}).skipHighlightJs) { hljs.highlightAll(); }</script>
    <script src="/js/minisite.js?v=1.0.0-SNAPSHOT"></script>
    <script>$('.page-content-body').generatedNavMenu();</script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.3/fuse.min.js" integrity="sha512-neoBxVNv0UMXjoilAYGxfWrSsW6iAVclx7vQKdPJ9Peet1bM5YQjU0aIB8LtH8iNPa+pAyMZprBBw2ZQ/Q1LjQ==" crossorigin="anonymous"></script>

</body>
</html>