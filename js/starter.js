(()=>{var Cn=Object.create;var Be=Object.defineProperty,In=Object.defineProperties,En=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertyNames,ct=Object.getOwnPropertySymbols,Rn=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable;var ut=(e,n,t)=>n in e?Be(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,pe=(e,n)=>{for(var t in n||(n={}))lt.call(n,t)&&ut(e,t,n[t]);if(ct)for(var t of ct(n))Dn.call(n,t)&&ut(e,t,n[t]);return e},fe=(e,n)=>In(e,An(n)),On=e=>Be(e,"__esModule",{value:!0});var Ee=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var pt=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Bn=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of Tn(n))!lt.call(e,a)&&(t||a!=="default")&&Be(e,a,{get:()=>n[a],enumerable:!(r=En(n,a))||r.enumerable});return e},dt=(e,n)=>Bn(On(Be(e!=null?Cn(Rn(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var pn=pt((un,tt)=>{(function(e){typeof un=="object"&&typeof tt!="undefined"?tt.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).JSZip=e()})(function(){return function e(n,t,r){function a(d,m){if(!t[d]){if(!n[d]){var b=typeof Ee=="function"&&Ee;if(!m&&b)return b(d,!0);if(i)return i(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var p=t[d]={exports:{}};n[d][0].call(p.exports,function(h){var v=n[d][1][h];return a(v||h)},p,p.exports,e,n,t,r)}return t[d].exports}for(var i=typeof Ee=="function"&&Ee,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,n,t){"use strict";var r=e("./utils"),a=e("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(s){for(var d,m,b,u,p,h,v,l=[],f=0,g=s.length,k=g,C=r.getTypeOf(s)!=="string";f<s.length;)k=g-f,b=C?(d=s[f++],m=f<g?s[f++]:0,f<g?s[f++]:0):(d=s.charCodeAt(f++),m=f<g?s.charCodeAt(f++):0,f<g?s.charCodeAt(f++):0),u=d>>2,p=(3&d)<<4|m>>4,h=1<k?(15&m)<<2|b>>6:64,v=2<k?63&b:64,l.push(i.charAt(u)+i.charAt(p)+i.charAt(h)+i.charAt(v));return l.join("")},t.decode=function(s){var d,m,b,u,p,h,v=0,l=0,f="data:";if(s.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var g,k=3*(s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(s.charAt(s.length-1)===i.charAt(64)&&k--,s.charAt(s.length-2)===i.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=a.uint8array?new Uint8Array(0|k):new Array(0|k);v<s.length;)d=i.indexOf(s.charAt(v++))<<2|(u=i.indexOf(s.charAt(v++)))>>4,m=(15&u)<<4|(p=i.indexOf(s.charAt(v++)))>>2,b=(3&p)<<6|(h=i.indexOf(s.charAt(v++))),g[l++]=d,p!==64&&(g[l++]=m),h!==64&&(g[l++]=b);return g}},{"./support":30,"./utils":32}],2:[function(e,n,t){"use strict";var r=e("./external"),a=e("./stream/DataWorker"),i=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function d(m,b,u,p,h){this.compressedSize=m,this.uncompressedSize=b,this.crc32=u,this.compression=p,this.compressedContent=h}d.prototype={getContentWorker:function(){var m=new a(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),b=this;return m.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new a(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(m,b,u){return m.pipe(new i).pipe(new s("uncompressedSize")).pipe(b.compressWorker(u)).pipe(new s("compressedSize")).withStreamInfo("compression",b)},n.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,n,t){"use strict";var r=e("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(a){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,n,t){"use strict";var r=e("./utils"),a=function(){for(var i,s=[],d=0;d<256;d++){i=d;for(var m=0;m<8;m++)i=1&i?3988292384^i>>>1:i>>>1;s[d]=i}return s}();n.exports=function(i,s){return i!==void 0&&i.length?r.getTypeOf(i)!=="string"?function(d,m,b,u){var p=a,h=u+b;d^=-1;for(var v=u;v<h;v++)d=d>>>8^p[255&(d^m[v])];return-1^d}(0|s,i,i.length,0):function(d,m,b,u){var p=a,h=u+b;d^=-1;for(var v=u;v<h;v++)d=d>>>8^p[255&(d^m.charCodeAt(v))];return-1^d}(0|s,i,i.length,0):0}},{"./utils":32}],5:[function(e,n,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(e,n,t){"use strict";var r=null;r=typeof Promise!="undefined"?Promise:e("lie"),n.exports={Promise:r}},{lie:37}],7:[function(e,n,t){"use strict";var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",a=e("pako"),i=e("./utils"),s=e("./stream/GenericWorker"),d=r?"uint8array":"array";function m(b,u){s.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=u,this.meta={}}t.magic="\b\0",i.inherits(m,s),m.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(d,b.data),!1)},m.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(u){b.push({data:u,meta:b.meta})}},t.compressWorker=function(b){return new m("Deflate",b)},t.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,n,t){"use strict";function r(p,h){var v,l="";for(v=0;v<h;v++)l+=String.fromCharCode(255&p),p>>>=8;return l}function a(p,h,v,l,f,g){var k,C,x=p.file,B=p.compression,D=g!==d.utf8encode,W=i.transformTo("string",g(x.name)),T=i.transformTo("string",d.utf8encode(x.name)),H=x.comment,Y=i.transformTo("string",g(H)),w=i.transformTo("string",d.utf8encode(H)),R=T.length!==x.name.length,c=w.length!==H.length,$="",X="",F="",ee=x.dir,N=x.date,G={crc32:0,compressedSize:0,uncompressedSize:0};h&&!v||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var E=0;h&&(E|=8),D||!R&&!c||(E|=2048);var I=0,q=0;ee&&(I|=16),f==="UNIX"?(q=798,I|=function(V,ae){var ue=V;return V||(ue=ae?16893:33204),(65535&ue)<<16}(x.unixPermissions,ee)):(q=20,I|=function(V){return 63&(V||0)}(x.dosPermissions)),k=N.getUTCHours(),k<<=6,k|=N.getUTCMinutes(),k<<=5,k|=N.getUTCSeconds()/2,C=N.getUTCFullYear()-1980,C<<=4,C|=N.getUTCMonth()+1,C<<=5,C|=N.getUTCDate(),R&&(X=r(1,1)+r(m(W),4)+T,$+="up"+r(X.length,2)+X),c&&(F=r(1,1)+r(m(Y),4)+w,$+="uc"+r(F.length,2)+F);var J="";return J+=`
\0`,J+=r(E,2),J+=B.magic,J+=r(k,2),J+=r(C,2),J+=r(G.crc32,4),J+=r(G.compressedSize,4),J+=r(G.uncompressedSize,4),J+=r(W.length,2),J+=r($.length,2),{fileRecord:b.LOCAL_FILE_HEADER+J+W+$,dirRecord:b.CENTRAL_FILE_HEADER+r(q,2)+J+r(Y.length,2)+"\0\0\0\0"+r(I,4)+r(l,4)+W+$+Y}}var i=e("../utils"),s=e("../stream/GenericWorker"),d=e("../utf8"),m=e("../crc32"),b=e("../signature");function u(p,h,v,l){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=v,this.encodeFileName=l,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,s),u.prototype.push=function(p){var h=p.meta.percent||0,v=this.entriesCount,l=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,s.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:v?(h+100*(v-l-1))/v:100}}))},u.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var h=this.streamFiles&&!p.file.dir;if(h){var v=a(p,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(p){this.accumulate=!1;var h=this.streamFiles&&!p.file.dir,v=a(p,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),h)this.push({data:function(l){return b.DATA_DESCRIPTOR+r(l.crc32,4)+r(l.compressedSize,4)+r(l.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var p=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var v=this.bytesWritten-p,l=function(f,g,k,C,x){var B=i.transformTo("string",x(C));return b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(f,2)+r(f,2)+r(g,4)+r(k,4)+r(B.length,2)+B}(this.dirRecords.length,v,p,this.zipComment,this.encodeFileName);this.push({data:l,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(p){this._sources.push(p);var h=this;return p.on("data",function(v){h.processChunk(v)}),p.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),p.on("error",function(v){h.error(v)}),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(p){var h=this._sources;if(!s.prototype.error.call(this,p))return!1;for(var v=0;v<h.length;v++)try{h[v].error(p)}catch(l){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var p=this._sources,h=0;h<p.length;h++)p[h].lock()},n.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,n,t){"use strict";var r=e("../compressions"),a=e("./ZipFileWorker");t.generateWorker=function(i,s,d){var m=new a(s.streamFiles,d,s.platform,s.encodeFileName),b=0;try{i.forEach(function(u,p){b++;var h=function(g,k){var C=g||k,x=r[C];if(!x)throw new Error(C+" is not a valid compression method !");return x}(p.options.compression,s.compression),v=p.options.compressionOptions||s.compressionOptions||{},l=p.dir,f=p.date;p._compressWorker(h,v).withStreamInfo("file",{name:u,dir:l,date:f,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(m)}),m.entriesCount=b}catch(u){m.error(u)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,n,t){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new r;for(var i in this)typeof this[i]!="function"&&(a[i]=this[i]);return a}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(a,i){return new r().loadAsync(a,i)},r.external=e("./external"),n.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,n,t){"use strict";var r=e("./utils"),a=e("./external"),i=e("./utf8"),s=e("./zipEntries"),d=e("./stream/Crc32Probe"),m=e("./nodejsUtils");function b(u){return new a.Promise(function(p,h){var v=u.decompressed.getContentWorker().pipe(new d);v.on("error",function(l){h(l)}).on("end",function(){v.streamInfo.crc32!==u.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(u,p){var h=this;return p=r.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),m.isNode&&m.isStream(u)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",u,!0,p.optimizedBinaryString,p.base64).then(function(v){var l=new s(p);return l.load(v),l}).then(function(v){var l=[a.Promise.resolve(v)],f=v.files;if(p.checkCRC32)for(var g=0;g<f.length;g++)l.push(b(f[g]));return a.Promise.all(l)}).then(function(v){for(var l=v.shift(),f=l.files,g=0;g<f.length;g++){var k=f[g];h.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:p.createFolders})}return l.zipComment.length&&(h.comment=l.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,n,t){"use strict";var r=e("../utils"),a=e("../stream/GenericWorker");function i(s,d){a.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(d)}r.inherits(i,a),i.prototype._bindStream=function(s){var d=this;(this._stream=s).pause(),s.on("data",function(m){d.push({data:m,meta:{percent:0}})}).on("error",function(m){d.isPaused?this.generatedError=m:d.error(m)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},i.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,n,t){"use strict";var r=e("readable-stream").Readable;function a(i,s,d){r.call(this,s),this._helper=i;var m=this;i.on("data",function(b,u){m.push(b)||m._helper.pause(),d&&d(u)}).on("error",function(b){m.emit("error",b)}).on("end",function(){m.push(null)})}e("../utils").inherits(a,r),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,n,t){"use strict";n.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(r,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,a);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,a)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var a=new Buffer(r);return a.fill(0),a},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(e,n,t){"use strict";function r(x,B,D){var W,T=i.getTypeOf(B),H=i.extend(D||{},m);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(x=f(x)),H.createFolders&&(W=l(x))&&g.call(this,W,!0);var Y=T==="string"&&H.binary===!1&&H.base64===!1;D&&D.binary!==void 0||(H.binary=!Y),(B instanceof b&&B.uncompressedSize===0||H.dir||!B||B.length===0)&&(H.base64=!1,H.binary=!0,B="",H.compression="STORE",T="string");var w=null;w=B instanceof b||B instanceof s?B:h.isNode&&h.isStream(B)?new v(x,B):i.prepareContent(x,B,H.binary,H.optimizedBinaryString,H.base64);var R=new u(x,w,H);this.files[x]=R}var a=e("./utf8"),i=e("./utils"),s=e("./stream/GenericWorker"),d=e("./stream/StreamHelper"),m=e("./defaults"),b=e("./compressedObject"),u=e("./zipObject"),p=e("./generate"),h=e("./nodejsUtils"),v=e("./nodejs/NodejsStreamInputAdapter"),l=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var B=x.lastIndexOf("/");return 0<B?x.substring(0,B):""},f=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},g=function(x,B){return B=B!==void 0?B:m.createFolders,x=f(x),this.files[x]||r.call(this,x,null,{dir:!0,createFolders:B}),this.files[x]};function k(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var B,D,W;for(B in this.files)W=this.files[B],(D=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&x(D,W)},filter:function(x){var B=[];return this.forEach(function(D,W){x(D,W)&&B.push(W)}),B},file:function(x,B,D){if(arguments.length!==1)return x=this.root+x,r.call(this,x,B,D),this;if(k(x)){var W=x;return this.filter(function(H,Y){return!Y.dir&&W.test(H)})}var T=this.files[this.root+x];return T&&!T.dir?T:null},folder:function(x){if(!x)return this;if(k(x))return this.filter(function(T,H){return H.dir&&x.test(T)});var B=this.root+x,D=g.call(this,B),W=this.clone();return W.root=D.name,W},remove:function(x){x=this.root+x;var B=this.files[x];if(B||(x.slice(-1)!=="/"&&(x+="/"),B=this.files[x]),B&&!B.dir)delete this.files[x];else for(var D=this.filter(function(T,H){return H.name.slice(0,x.length)===x}),W=0;W<D.length;W++)delete this.files[D[W].name];return this},generate:function(x){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var B,D={};try{if((D=i.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");i.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var W=D.comment||this.comment||"";B=p.generateWorker(this,D,W)}catch(T){(B=new s("error")).error(T)}return new d(B,D.type||"string",D.mimeType)},generateAsync:function(x,B){return this.generateInternalStream(x).accumulate(B)},generateNodeStream:function(x,B){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(B)}};n.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,n,t){n.exports=e("stream")},{stream:void 0}],17:[function(e,n,t){"use strict";var r=e("./DataReader");function a(i){r.call(this,i);for(var s=0;s<this.data.length;s++)i[s]=255&i[s]}e("../utils").inherits(a,r),a.prototype.byteAt=function(i){return this.data[this.zero+i]},a.prototype.lastIndexOfSignature=function(i){for(var s=i.charCodeAt(0),d=i.charCodeAt(1),m=i.charCodeAt(2),b=i.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===s&&this.data[u+1]===d&&this.data[u+2]===m&&this.data[u+3]===b)return u-this.zero;return-1},a.prototype.readAndCheckSignature=function(i){var s=i.charCodeAt(0),d=i.charCodeAt(1),m=i.charCodeAt(2),b=i.charCodeAt(3),u=this.readData(4);return s===u[0]&&d===u[1]&&m===u[2]&&b===u[3]},a.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,s},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,n,t){"use strict";var r=e("../utils");function a(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(i){},readInt:function(i){var s,d=0;for(this.checkOffset(i),s=this.index+i-1;s>=this.index;s--)d=(d<<8)+this.byteAt(s);return this.index+=i,d},readString:function(i){return r.transformTo("string",this.readData(i))},readData:function(i){},lastIndexOfSignature:function(i){},readAndCheckSignature:function(i){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},n.exports=a},{"../utils":32}],19:[function(e,n,t){"use strict";var r=e("./Uint8ArrayReader");function a(i){r.call(this,i)}e("../utils").inherits(a,r),a.prototype.readData=function(i){this.checkOffset(i);var s=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,s},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,n,t){"use strict";var r=e("./DataReader");function a(i){r.call(this,i)}e("../utils").inherits(a,r),a.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},a.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},a.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},a.prototype.readData=function(i){this.checkOffset(i);var s=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,s},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,n,t){"use strict";var r=e("./ArrayReader");function a(i){r.call(this,i)}e("../utils").inherits(a,r),a.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,s},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,n,t){"use strict";var r=e("../utils"),a=e("../support"),i=e("./ArrayReader"),s=e("./StringReader"),d=e("./NodeBufferReader"),m=e("./Uint8ArrayReader");n.exports=function(b){var u=r.getTypeOf(b);return r.checkSupport(u),u!=="string"||a.uint8array?u==="nodebuffer"?new d(b):a.uint8array?new m(r.transformTo("uint8array",b)):new i(r.transformTo("array",b)):new s(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,n,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,n,t){"use strict";var r=e("./GenericWorker"),a=e("../utils");function i(s){r.call(this,"ConvertWorker to "+s),this.destType=s}a.inherits(i,r),i.prototype.processChunk=function(s){this.push({data:a.transformTo(this.destType,s.data),meta:s.meta})},n.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,n,t){"use strict";var r=e("./GenericWorker"),a=e("../crc32");function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(i,r),i.prototype.processChunk=function(s){this.streamInfo.crc32=a(s.data,this.streamInfo.crc32||0),this.push(s)},n.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,n,t){"use strict";var r=e("../utils"),a=e("./GenericWorker");function i(s){a.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}r.inherits(i,a),i.prototype.processChunk=function(s){if(s){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+s.data.length}a.prototype.processChunk.call(this,s)},n.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,n,t){"use strict";var r=e("../utils"),a=e("./GenericWorker");function i(s){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(m){d.dataIsReady=!0,d.data=m,d.max=m&&m.length||0,d.type=r.getTypeOf(m),d.isPaused||d._tickAndRepeat()},function(m){d.error(m)})}r.inherits(i,a),i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,d);break;case"uint8array":s=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":s=this.data.slice(this.index,d)}return this.index=d,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,n,t){"use strict";function r(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,i){return this._listeners[a].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,i){if(this._listeners[a])for(var s=0;s<this._listeners[a].length;s++)this._listeners[a][s].call(this,i)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var i=this;return a.on("data",function(s){i.processChunk(s)}),a.on("end",function(){i.end()}),a.on("error",function(s){i.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,i){return this.extraStreamInfo[a]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=r},{}],29:[function(e,n,t){"use strict";var r=e("../utils"),a=e("./ConvertWorker"),i=e("./GenericWorker"),s=e("../base64"),d=e("../support"),m=e("../external"),b=null;if(d.nodestream)try{b=e("../nodejs/NodejsStreamOutputAdapter")}catch(h){}function u(h,v){return new m.Promise(function(l,f){var g=[],k=h._internalType,C=h._outputType,x=h._mimeType;h.on("data",function(B,D){g.push(B),v&&v(D)}).on("error",function(B){g=[],f(B)}).on("end",function(){try{var B=function(D,W,T){switch(D){case"blob":return r.newBlob(r.transformTo("arraybuffer",W),T);case"base64":return s.encode(W);default:return r.transformTo(D,W)}}(C,function(D,W){var T,H=0,Y=null,w=0;for(T=0;T<W.length;T++)w+=W[T].length;switch(D){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(Y=new Uint8Array(w),T=0;T<W.length;T++)Y.set(W[T],H),H+=W[T].length;return Y;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+D+"'")}}(k,g),x);l(B)}catch(D){f(D)}g=[]}).resume()})}function p(h,v,l){var f=v;switch(v){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=v,this._mimeType=l,r.checkSupport(f),this._worker=h.pipe(new a(f)),h.lock()}catch(g){this._worker=new i("error"),this._worker.error(g)}}p.prototype={accumulate:function(h){return u(this,h)},on:function(h,v){var l=this;return h==="data"?this._worker.on(h,function(f){v.call(l,f.data,f.meta)}):this._worker.on(h,function(){r.delay(v,arguments,l)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new b(this,{objectMode:this._outputType!=="nodebuffer"},h)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",t.nodebuffer=typeof Buffer!="undefined",t.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=new Blob([r],{type:"application/zip"}).size===0}catch(i){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),t.blob=a.getBlob("application/zip").size===0}catch(s){t.blob=!1}}}try{t.nodestream=!!e("readable-stream").Readable}catch(i){t.nodestream=!1}},{"readable-stream":16}],31:[function(e,n,t){"use strict";for(var r=e("./utils"),a=e("./support"),i=e("./nodejsUtils"),s=e("./stream/GenericWorker"),d=new Array(256),m=0;m<256;m++)d[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;d[254]=d[254]=1;function b(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}t.utf8encode=function(p){return a.nodebuffer?i.newBufferFrom(p,"utf-8"):function(h){var v,l,f,g,k,C=h.length,x=0;for(g=0;g<C;g++)(64512&(l=h.charCodeAt(g)))==55296&&g+1<C&&(64512&(f=h.charCodeAt(g+1)))==56320&&(l=65536+(l-55296<<10)+(f-56320),g++),x+=l<128?1:l<2048?2:l<65536?3:4;for(v=a.uint8array?new Uint8Array(x):new Array(x),g=k=0;k<x;g++)(64512&(l=h.charCodeAt(g)))==55296&&g+1<C&&(64512&(f=h.charCodeAt(g+1)))==56320&&(l=65536+(l-55296<<10)+(f-56320),g++),l<128?v[k++]=l:(l<2048?v[k++]=192|l>>>6:(l<65536?v[k++]=224|l>>>12:(v[k++]=240|l>>>18,v[k++]=128|l>>>12&63),v[k++]=128|l>>>6&63),v[k++]=128|63&l);return v}(p)},t.utf8decode=function(p){return a.nodebuffer?r.transformTo("nodebuffer",p).toString("utf-8"):function(h){var v,l,f,g,k=h.length,C=new Array(2*k);for(v=l=0;v<k;)if((f=h[v++])<128)C[l++]=f;else if(4<(g=d[f]))C[l++]=65533,v+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&v<k;)f=f<<6|63&h[v++],g--;1<g?C[l++]=65533:f<65536?C[l++]=f:(f-=65536,C[l++]=55296|f>>10&1023,C[l++]=56320|1023&f)}return C.length!==l&&(C.subarray?C=C.subarray(0,l):C.length=l),r.applyFromCharCode(C)}(p=r.transformTo(a.uint8array?"uint8array":"array",p))},r.inherits(b,s),b.prototype.processChunk=function(p){var h=r.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=h;(h=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),h.set(v,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var l=function(g,k){var C;for((k=k||g.length)>g.length&&(k=g.length),C=k-1;0<=C&&(192&g[C])==128;)C--;return C<0||C===0?k:C+d[g[C]]>k?C:k}(h),f=h;l!==h.length&&(a.uint8array?(f=h.subarray(0,l),this.leftOver=h.subarray(l,h.length)):(f=h.slice(0,l),this.leftOver=h.slice(l,h.length))),this.push({data:t.utf8decode(f),meta:p.meta})},b.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=b,r.inherits(u,s),u.prototype.processChunk=function(p){this.push({data:t.utf8encode(p.data),meta:p.meta})},t.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,n,t){"use strict";var r=e("./support"),a=e("./base64"),i=e("./nodejsUtils"),s=e("set-immediate-shim"),d=e("./external");function m(l){return l}function b(l,f){for(var g=0;g<l.length;++g)f[g]=255&l.charCodeAt(g);return f}t.newBlob=function(l,f){t.checkSupport("blob");try{return new Blob([l],{type:f})}catch(k){try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(l),g.getBlob(f)}catch(C){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(l,f,g){var k=[],C=0,x=l.length;if(x<=g)return String.fromCharCode.apply(null,l);for(;C<x;)f==="array"||f==="nodebuffer"?k.push(String.fromCharCode.apply(null,l.slice(C,Math.min(C+g,x)))):k.push(String.fromCharCode.apply(null,l.subarray(C,Math.min(C+g,x)))),C+=g;return k.join("")},stringifyByChar:function(l){for(var f="",g=0;g<l.length;g++)f+=String.fromCharCode(l[g]);return f},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(l){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch(l){return!1}}()}};function p(l){var f=65536,g=t.getTypeOf(l),k=!0;if(g==="uint8array"?k=u.applyCanBeUsed.uint8array:g==="nodebuffer"&&(k=u.applyCanBeUsed.nodebuffer),k)for(;1<f;)try{return u.stringifyByChunk(l,g,f)}catch(C){f=Math.floor(f/2)}return u.stringifyByChar(l)}function h(l,f){for(var g=0;g<l.length;g++)f[g]=l[g];return f}t.applyFromCharCode=p;var v={};v.string={string:m,array:function(l){return b(l,new Array(l.length))},arraybuffer:function(l){return v.string.uint8array(l).buffer},uint8array:function(l){return b(l,new Uint8Array(l.length))},nodebuffer:function(l){return b(l,i.allocBuffer(l.length))}},v.array={string:p,array:m,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return i.newBufferFrom(l)}},v.arraybuffer={string:function(l){return p(new Uint8Array(l))},array:function(l){return h(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:m,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return i.newBufferFrom(new Uint8Array(l))}},v.uint8array={string:p,array:function(l){return h(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:m,nodebuffer:function(l){return i.newBufferFrom(l)}},v.nodebuffer={string:p,array:function(l){return h(l,new Array(l.length))},arraybuffer:function(l){return v.nodebuffer.uint8array(l).buffer},uint8array:function(l){return h(l,new Uint8Array(l.length))},nodebuffer:m},t.transformTo=function(l,f){if(f=f||"",!l)return f;t.checkSupport(l);var g=t.getTypeOf(f);return v[g][l](f)},t.getTypeOf=function(l){return typeof l=="string"?"string":Object.prototype.toString.call(l)==="[object Array]"?"array":r.nodebuffer&&i.isBuffer(l)?"nodebuffer":r.uint8array&&l instanceof Uint8Array?"uint8array":r.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(l){if(!r[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(l){var f,g,k="";for(g=0;g<(l||"").length;g++)k+="\\x"+((f=l.charCodeAt(g))<16?"0":"")+f.toString(16).toUpperCase();return k},t.delay=function(l,f,g){s(function(){l.apply(g||null,f||[])})},t.inherits=function(l,f){function g(){}g.prototype=f.prototype,l.prototype=new g},t.extend=function(){var l,f,g={};for(l=0;l<arguments.length;l++)for(f in arguments[l])arguments[l].hasOwnProperty(f)&&g[f]===void 0&&(g[f]=arguments[l][f]);return g},t.prepareContent=function(l,f,g,k,C){return d.Promise.resolve(f).then(function(x){return r.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new d.Promise(function(B,D){var W=new FileReader;W.onload=function(T){B(T.target.result)},W.onerror=function(T){D(T.target.error)},W.readAsArrayBuffer(x)}):x}).then(function(x){var B=t.getTypeOf(x);return B?(B==="arraybuffer"?x=t.transformTo("uint8array",x):B==="string"&&(C?x=a.decode(x):g&&k!==!0&&(x=function(D){return b(D,r.uint8array?new Uint8Array(D.length):new Array(D.length))}(x))),x):d.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,n,t){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),i=e("./signature"),s=e("./zipEntry"),d=(e("./utf8"),e("./support"));function m(b){this.files=[],this.loadOptions=b}m.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(u)+", expected "+a.pretty(b)+")")}},isSignature:function(b,u){var p=this.reader.index;this.reader.setIndex(b);var h=this.reader.readString(4)===u;return this.reader.setIndex(p),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),u=d.uint8array?"uint8array":"array",p=a.transformTo(u,b);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,u,p,h=this.zip64EndOfCentralSize-44;0<h;)b=this.reader.readInt(2),u=this.reader.readInt(4),p=this.reader.readData(u),this.zip64ExtensibleData[b]={id:b,length:u,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,u;for(b=0;b<this.files.length;b++)u=this.files[b],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(b=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var u=b;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var h=u-p;if(0<h)this.isSignature(u,i.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(b){this.reader=r(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,n,t){"use strict";var r=e("./reader/readerFor"),a=e("./utils"),i=e("./compressedObject"),s=e("./crc32"),d=e("./utf8"),m=e("./compressions"),b=e("./support");function u(p,h){this.options=p,this.loadOptions=h}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var h,v;if(p.skip(22),this.fileNameLength=p.readInt(2),v=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(l){for(var f in m)if(m.hasOwnProperty(f)&&m[f].magic===l)return m[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,h,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var h=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(h),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(p){if(this.extraFields[1]){var h=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(p){var h,v,l,f=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<f;)h=p.readInt(2),v=p.readInt(2),l=p.readData(v),this.extraFields[h]={id:h,length:v,value:l};p.setIndex(f)},handleUTF8:function(){var p=b.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var v=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var l=this.findExtraFieldUnicodeComment();if(l!==null)this.fileCommentStr=l;else{var f=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var h=r(p.value);return h.readInt(1)!==1||s(this.fileName)!==h.readInt(4)?null:d.utf8decode(h.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var h=r(p.value);return h.readInt(1)!==1||s(this.fileComment)!==h.readInt(4)?null:d.utf8decode(h.readData(p.length-5))}return null}},n.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,n,t){"use strict";function r(h,v,l){this.name=h,this.dir=l.dir,this.date=l.date,this.comment=l.comment,this.unixPermissions=l.unixPermissions,this.dosPermissions=l.dosPermissions,this._data=v,this._dataBinary=l.binary,this.options={compression:l.compression,compressionOptions:l.compressionOptions}}var a=e("./stream/StreamHelper"),i=e("./stream/DataWorker"),s=e("./utf8"),d=e("./compressedObject"),m=e("./stream/GenericWorker");r.prototype={internalStream:function(h){var v=null,l="string";try{if(!h)throw new Error("No output type specified.");var f=(l=h.toLowerCase())==="string"||l==="text";l!=="binarystring"&&l!=="text"||(l="string"),v=this._decompressWorker();var g=!this._dataBinary;g&&!f&&(v=v.pipe(new s.Utf8EncodeWorker)),!g&&f&&(v=v.pipe(new s.Utf8DecodeWorker))}catch(k){(v=new m("error")).error(k)}return new a(v,l,"")},async:function(h,v){return this.internalStream(h).accumulate(v)},nodeStream:function(h,v){return this.internalStream(h||"nodebuffer").toNodejsStream(v)},_compressWorker:function(h,v){if(this._data instanceof d&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var l=this._decompressWorker();return this._dataBinary||(l=l.pipe(new s.Utf8EncodeWorker)),d.createWorkerFrom(l,h,v)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof m?this._data:new i(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<b.length;p++)r.prototype[b[p]]=u;n.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,n,t){(function(r){"use strict";var a,i,s=r.MutationObserver||r.WebKitMutationObserver;if(s){var d=0,m=new s(h),b=r.document.createTextNode("");m.observe(b,{characterData:!0}),a=function(){b.data=d=++d%2}}else if(r.setImmediate||r.MessageChannel===void 0)a="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var v=r.document.createElement("script");v.onreadystatechange=function(){h(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},r.document.documentElement.appendChild(v)}:function(){setTimeout(h,0)};else{var u=new r.MessageChannel;u.port1.onmessage=h,a=function(){u.port2.postMessage(0)}}var p=[];function h(){var v,l;i=!0;for(var f=p.length;f;){for(l=p,p=[],v=-1;++v<f;)l[v]();f=p.length}i=!1}n.exports=function(v){p.push(v)!==1||i||a()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(e,n,t){"use strict";var r=e("immediate");function a(){}var i={},s=["REJECTED"],d=["FULFILLED"],m=["PENDING"];function b(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,f!==a&&v(this,f)}function u(f,g,k){this.promise=f,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function p(f,g,k){r(function(){var C;try{C=g(k)}catch(x){return i.reject(f,x)}C===f?i.reject(f,new TypeError("Cannot resolve promise with itself")):i.resolve(f,C)})}function h(f){var g=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof g=="function")return function(){g.apply(f,arguments)}}function v(f,g){var k=!1;function C(D){k||(k=!0,i.reject(f,D))}function x(D){k||(k=!0,i.resolve(f,D))}var B=l(function(){g(x,C)});B.status==="error"&&C(B.value)}function l(f,g){var k={};try{k.value=f(g),k.status="success"}catch(C){k.status="error",k.value=C}return k}(n.exports=b).prototype.finally=function(f){if(typeof f!="function")return this;var g=this.constructor;return this.then(function(k){return g.resolve(f()).then(function(){return k})},function(k){return g.resolve(f()).then(function(){throw k})})},b.prototype.catch=function(f){return this.then(null,f)},b.prototype.then=function(f,g){if(typeof f!="function"&&this.state===d||typeof g!="function"&&this.state===s)return this;var k=new this.constructor(a);return this.state!==m?p(k,this.state===d?f:g,this.outcome):this.queue.push(new u(k,f,g)),k},u.prototype.callFulfilled=function(f){i.resolve(this.promise,f)},u.prototype.otherCallFulfilled=function(f){p(this.promise,this.onFulfilled,f)},u.prototype.callRejected=function(f){i.reject(this.promise,f)},u.prototype.otherCallRejected=function(f){p(this.promise,this.onRejected,f)},i.resolve=function(f,g){var k=l(h,g);if(k.status==="error")return i.reject(f,k.value);var C=k.value;if(C)v(f,C);else{f.state=d,f.outcome=g;for(var x=-1,B=f.queue.length;++x<B;)f.queue[x].callFulfilled(g)}return f},i.reject=function(f,g){f.state=s,f.outcome=g;for(var k=-1,C=f.queue.length;++k<C;)f.queue[k].callRejected(g);return f},b.resolve=function(f){return f instanceof this?f:i.resolve(new this(a),f)},b.reject=function(f){var g=new this(a);return i.reject(g,f)},b.all=function(f){var g=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,C=!1;if(!k)return this.resolve([]);for(var x=new Array(k),B=0,D=-1,W=new this(a);++D<k;)T(f[D],D);return W;function T(H,Y){g.resolve(H).then(function(w){x[Y]=w,++B!==k||C||(C=!0,i.resolve(W,x))},function(w){C||(C=!0,i.reject(W,w))})}},b.race=function(f){var g=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=f.length,C=!1;if(!k)return this.resolve([]);for(var x=-1,B=new this(a);++x<k;)D=f[x],g.resolve(D).then(function(W){C||(C=!0,i.resolve(B,W))},function(W){C||(C=!0,i.reject(B,W))});var D;return B}},{immediate:36}],38:[function(e,n,t){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),n.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,n,t){"use strict";var r=e("./zlib/deflate"),a=e("./utils/common"),i=e("./utils/strings"),s=e("./zlib/messages"),d=e("./zlib/zstream"),m=Object.prototype.toString,b=0,u=-1,p=0,h=8;function v(f){if(!(this instanceof v))return new v(f);this.options=a.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},f||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var k=r.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(k!==b)throw new Error(s[k]);if(g.header&&r.deflateSetHeader(this.strm,g.header),g.dictionary){var C;if(C=typeof g.dictionary=="string"?i.string2buf(g.dictionary):m.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(k=r.deflateSetDictionary(this.strm,C))!==b)throw new Error(s[k]);this._dict_set=!0}}function l(f,g){var k=new v(g);if(k.push(f,!0),k.err)throw k.msg||s[k.err];return k.result}v.prototype.push=function(f,g){var k,C,x=this.strm,B=this.options.chunkSize;if(this.ended)return!1;C=g===~~g?g:g===!0?4:0,typeof f=="string"?x.input=i.string2buf(f):m.call(f)==="[object ArrayBuffer]"?x.input=new Uint8Array(f):x.input=f,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new a.Buf8(B),x.next_out=0,x.avail_out=B),(k=r.deflate(x,C))!==1&&k!==b)return this.onEnd(k),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(a.shrinkBuf(x.output,x.next_out))):this.onData(a.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&k!==1);return C===4?(k=r.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===b):C!==2||(this.onEnd(b),!(x.avail_out=0))},v.prototype.onData=function(f){this.chunks.push(f)},v.prototype.onEnd=function(f){f===b&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},t.Deflate=v,t.deflate=l,t.deflateRaw=function(f,g){return(g=g||{}).raw=!0,l(f,g)},t.gzip=function(f,g){return(g=g||{}).gzip=!0,l(f,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,n,t){"use strict";var r=e("./zlib/inflate"),a=e("./utils/common"),i=e("./utils/strings"),s=e("./zlib/constants"),d=e("./zlib/messages"),m=e("./zlib/zstream"),b=e("./zlib/gzheader"),u=Object.prototype.toString;function p(v){if(!(this instanceof p))return new p(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var l=this.options;l.raw&&0<=l.windowBits&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(0<=l.windowBits&&l.windowBits<16)||v&&v.windowBits||(l.windowBits+=32),15<l.windowBits&&l.windowBits<48&&(15&l.windowBits)==0&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var f=r.inflateInit2(this.strm,l.windowBits);if(f!==s.Z_OK)throw new Error(d[f]);this.header=new b,r.inflateGetHeader(this.strm,this.header)}function h(v,l){var f=new p(l);if(f.push(v,!0),f.err)throw f.msg||d[f.err];return f.result}p.prototype.push=function(v,l){var f,g,k,C,x,B,D=this.strm,W=this.options.chunkSize,T=this.options.dictionary,H=!1;if(this.ended)return!1;g=l===~~l?l:l===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof v=="string"?D.input=i.binstring2buf(v):u.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(W),D.next_out=0,D.avail_out=W),(f=r.inflate(D,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&T&&(B=typeof T=="string"?i.string2buf(T):u.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,f=r.inflateSetDictionary(this.strm,B)),f===s.Z_BUF_ERROR&&H===!0&&(f=s.Z_OK,H=!1),f!==s.Z_STREAM_END&&f!==s.Z_OK)return this.onEnd(f),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&f!==s.Z_STREAM_END&&(D.avail_in!==0||g!==s.Z_FINISH&&g!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=i.utf8border(D.output,D.next_out),C=D.next_out-k,x=i.buf2string(D.output,k),D.next_out=C,D.avail_out=W-C,C&&a.arraySet(D.output,D.output,k,C,0),this.onData(x)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(H=!0)}while((0<D.avail_in||D.avail_out===0)&&f!==s.Z_STREAM_END);return f===s.Z_STREAM_END&&(g=s.Z_FINISH),g===s.Z_FINISH?(f=r.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===s.Z_OK):g!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(v){this.chunks.push(v)},p.prototype.onEnd=function(v){v===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},t.Inflate=p,t.inflate=h,t.inflateRaw=function(v,l){return(l=l||{}).raw=!0,h(v,l)},t.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,n,t){"use strict";var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";t.assign=function(s){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var m=d.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var b in m)m.hasOwnProperty(b)&&(s[b]=m[b])}}return s},t.shrinkBuf=function(s,d){return s.length===d?s:s.subarray?s.subarray(0,d):(s.length=d,s)};var a={arraySet:function(s,d,m,b,u){if(d.subarray&&s.subarray)s.set(d.subarray(m,m+b),u);else for(var p=0;p<b;p++)s[u+p]=d[m+p]},flattenChunks:function(s){var d,m,b,u,p,h;for(d=b=0,m=s.length;d<m;d++)b+=s[d].length;for(h=new Uint8Array(b),d=u=0,m=s.length;d<m;d++)p=s[d],h.set(p,u),u+=p.length;return h}},i={arraySet:function(s,d,m,b,u){for(var p=0;p<b;p++)s[u+p]=d[m+p]},flattenChunks:function(s){return[].concat.apply([],s)}};t.setTyped=function(s){s?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(r)},{}],42:[function(e,n,t){"use strict";var r=e("./common"),a=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(b){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){i=!1}for(var s=new r.Buf8(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(b,u){if(u<65537&&(b.subarray&&i||!b.subarray&&a))return String.fromCharCode.apply(null,r.shrinkBuf(b,u));for(var p="",h=0;h<u;h++)p+=String.fromCharCode(b[h]);return p}s[254]=s[254]=1,t.string2buf=function(b){var u,p,h,v,l,f=b.length,g=0;for(v=0;v<f;v++)(64512&(p=b.charCodeAt(v)))==55296&&v+1<f&&(64512&(h=b.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),v++),g+=p<128?1:p<2048?2:p<65536?3:4;for(u=new r.Buf8(g),v=l=0;l<g;v++)(64512&(p=b.charCodeAt(v)))==55296&&v+1<f&&(64512&(h=b.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),v++),p<128?u[l++]=p:(p<2048?u[l++]=192|p>>>6:(p<65536?u[l++]=224|p>>>12:(u[l++]=240|p>>>18,u[l++]=128|p>>>12&63),u[l++]=128|p>>>6&63),u[l++]=128|63&p);return u},t.buf2binstring=function(b){return m(b,b.length)},t.binstring2buf=function(b){for(var u=new r.Buf8(b.length),p=0,h=u.length;p<h;p++)u[p]=b.charCodeAt(p);return u},t.buf2string=function(b,u){var p,h,v,l,f=u||b.length,g=new Array(2*f);for(p=h=0;p<f;)if((v=b[p++])<128)g[h++]=v;else if(4<(l=s[v]))g[h++]=65533,p+=l-1;else{for(v&=l===2?31:l===3?15:7;1<l&&p<f;)v=v<<6|63&b[p++],l--;1<l?g[h++]=65533:v<65536?g[h++]=v:(v-=65536,g[h++]=55296|v>>10&1023,g[h++]=56320|1023&v)}return m(g,h)},t.utf8border=function(b,u){var p;for((u=u||b.length)>b.length&&(u=b.length),p=u-1;0<=p&&(192&b[p])==128;)p--;return p<0||p===0?u:p+s[b[p]]>u?p:u}},{"./common":41}],43:[function(e,n,t){"use strict";n.exports=function(r,a,i,s){for(var d=65535&r|0,m=r>>>16&65535|0,b=0;i!==0;){for(i-=b=2e3<i?2e3:i;m=m+(d=d+a[s++]|0)|0,--b;);d%=65521,m%=65521}return d|m<<16|0}},{}],44:[function(e,n,t){"use strict";n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,n,t){"use strict";var r=function(){for(var a,i=[],s=0;s<256;s++){a=s;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;i[s]=a}return i}();n.exports=function(a,i,s,d){var m=r,b=d+s;a^=-1;for(var u=d;u<b;u++)a=a>>>8^m[255&(a^i[u])];return-1^a}},{}],46:[function(e,n,t){"use strict";var r,a=e("../utils/common"),i=e("./trees"),s=e("./adler32"),d=e("./crc32"),m=e("./messages"),b=0,u=4,p=0,h=-2,v=-1,l=4,f=2,g=8,k=9,C=286,x=30,B=19,D=2*C+1,W=15,T=3,H=258,Y=H+T+1,w=42,R=113,c=1,$=2,X=3,F=4;function ee(o,O){return o.msg=m[O],O}function N(o){return(o<<1)-(4<o?9:0)}function G(o){for(var O=o.length;0<=--O;)o[O]=0}function E(o){var O=o.state,A=O.pending;A>o.avail_out&&(A=o.avail_out),A!==0&&(a.arraySet(o.output,O.pending_buf,O.pending_out,A,o.next_out),o.next_out+=A,O.pending_out+=A,o.total_out+=A,o.avail_out-=A,O.pending-=A,O.pending===0&&(O.pending_out=0))}function I(o,O){i._tr_flush_block(o,0<=o.block_start?o.block_start:-1,o.strstart-o.block_start,O),o.block_start=o.strstart,E(o.strm)}function q(o,O){o.pending_buf[o.pending++]=O}function J(o,O){o.pending_buf[o.pending++]=O>>>8&255,o.pending_buf[o.pending++]=255&O}function V(o,O){var A,y,_=o.max_chain_length,j=o.strstart,P=o.prev_length,z=o.nice_match,S=o.strstart>o.w_size-Y?o.strstart-(o.w_size-Y):0,L=o.window,Z=o.w_mask,U=o.prev,K=o.strstart+H,oe=L[j+P-1],ne=L[j+P];o.prev_length>=o.good_match&&(_>>=2),z>o.lookahead&&(z=o.lookahead);do if(L[(A=O)+P]===ne&&L[A+P-1]===oe&&L[A]===L[j]&&L[++A]===L[j+1]){j+=2,A++;do;while(L[++j]===L[++A]&&L[++j]===L[++A]&&L[++j]===L[++A]&&L[++j]===L[++A]&&L[++j]===L[++A]&&L[++j]===L[++A]&&L[++j]===L[++A]&&L[++j]===L[++A]&&j<K);if(y=H-(K-j),j=K-H,P<y){if(o.match_start=O,z<=(P=y))break;oe=L[j+P-1],ne=L[j+P]}}while((O=U[O&Z])>S&&--_!=0);return P<=o.lookahead?P:o.lookahead}function ae(o){var O,A,y,_,j,P,z,S,L,Z,U=o.w_size;do{if(_=o.window_size-o.lookahead-o.strstart,o.strstart>=U+(U-Y)){for(a.arraySet(o.window,o.window,U,U,0),o.match_start-=U,o.strstart-=U,o.block_start-=U,O=A=o.hash_size;y=o.head[--O],o.head[O]=U<=y?y-U:0,--A;);for(O=A=U;y=o.prev[--O],o.prev[O]=U<=y?y-U:0,--A;);_+=U}if(o.strm.avail_in===0)break;if(P=o.strm,z=o.window,S=o.strstart+o.lookahead,L=_,Z=void 0,Z=P.avail_in,L<Z&&(Z=L),A=Z===0?0:(P.avail_in-=Z,a.arraySet(z,P.input,P.next_in,Z,S),P.state.wrap===1?P.adler=s(P.adler,z,Z,S):P.state.wrap===2&&(P.adler=d(P.adler,z,Z,S)),P.next_in+=Z,P.total_in+=Z,Z),o.lookahead+=A,o.lookahead+o.insert>=T)for(j=o.strstart-o.insert,o.ins_h=o.window[j],o.ins_h=(o.ins_h<<o.hash_shift^o.window[j+1])&o.hash_mask;o.insert&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[j+T-1])&o.hash_mask,o.prev[j&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=j,j++,o.insert--,!(o.lookahead+o.insert<T)););}while(o.lookahead<Y&&o.strm.avail_in!==0)}function ue(o,O){for(var A,y;;){if(o.lookahead<Y){if(ae(o),o.lookahead<Y&&O===b)return c;if(o.lookahead===0)break}if(A=0,o.lookahead>=T&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+T-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),A!==0&&o.strstart-A<=o.w_size-Y&&(o.match_length=V(o,A)),o.match_length>=T)if(y=i._tr_tally(o,o.strstart-o.match_start,o.match_length-T),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=T){for(o.match_length--;o.strstart++,o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+T-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart,--o.match_length!=0;);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+1])&o.hash_mask;else y=i._tr_tally(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(y&&(I(o,!1),o.strm.avail_out===0))return c}return o.insert=o.strstart<T-1?o.strstart:T-1,O===u?(I(o,!0),o.strm.avail_out===0?X:F):o.last_lit&&(I(o,!1),o.strm.avail_out===0)?c:$}function te(o,O){for(var A,y,_;;){if(o.lookahead<Y){if(ae(o),o.lookahead<Y&&O===b)return c;if(o.lookahead===0)break}if(A=0,o.lookahead>=T&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+T-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=T-1,A!==0&&o.prev_length<o.max_lazy_match&&o.strstart-A<=o.w_size-Y&&(o.match_length=V(o,A),o.match_length<=5&&(o.strategy===1||o.match_length===T&&4096<o.strstart-o.match_start)&&(o.match_length=T-1)),o.prev_length>=T&&o.match_length<=o.prev_length){for(_=o.strstart+o.lookahead-T,y=i._tr_tally(o,o.strstart-1-o.prev_match,o.prev_length-T),o.lookahead-=o.prev_length-1,o.prev_length-=2;++o.strstart<=_&&(o.ins_h=(o.ins_h<<o.hash_shift^o.window[o.strstart+T-1])&o.hash_mask,A=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),--o.prev_length!=0;);if(o.match_available=0,o.match_length=T-1,o.strstart++,y&&(I(o,!1),o.strm.avail_out===0))return c}else if(o.match_available){if((y=i._tr_tally(o,0,o.window[o.strstart-1]))&&I(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return c}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(y=i._tr_tally(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<T-1?o.strstart:T-1,O===u?(I(o,!0),o.strm.avail_out===0?X:F):o.last_lit&&(I(o,!1),o.strm.avail_out===0)?c:$}function ie(o,O,A,y,_){this.good_length=o,this.max_lazy=O,this.nice_length=A,this.max_chain=y,this.func=_}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*x+1)),this.bl_tree=new a.Buf16(2*(2*B+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(W+1),this.heap=new a.Buf16(2*C+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(o){var O;return o&&o.state?(o.total_in=o.total_out=0,o.data_type=f,(O=o.state).pending=0,O.pending_out=0,O.wrap<0&&(O.wrap=-O.wrap),O.status=O.wrap?w:R,o.adler=O.wrap===2?0:1,O.last_flush=b,i._tr_init(O),p):ee(o,h)}function be(o){var O=se(o);return O===p&&function(A){A.window_size=2*A.w_size,G(A.head),A.max_lazy_match=r[A.level].max_lazy,A.good_match=r[A.level].good_length,A.nice_match=r[A.level].nice_length,A.max_chain_length=r[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=T-1,A.match_available=0,A.ins_h=0}(o.state),O}function me(o,O,A,y,_,j){if(!o)return h;var P=1;if(O===v&&(O=6),y<0?(P=0,y=-y):15<y&&(P=2,y-=16),_<1||k<_||A!==g||y<8||15<y||O<0||9<O||j<0||l<j)return ee(o,h);y===8&&(y=9);var z=new le;return(o.state=z).strm=o,z.wrap=P,z.gzhead=null,z.w_bits=y,z.w_size=1<<z.w_bits,z.w_mask=z.w_size-1,z.hash_bits=_+7,z.hash_size=1<<z.hash_bits,z.hash_mask=z.hash_size-1,z.hash_shift=~~((z.hash_bits+T-1)/T),z.window=new a.Buf8(2*z.w_size),z.head=new a.Buf16(z.hash_size),z.prev=new a.Buf16(z.w_size),z.lit_bufsize=1<<_+6,z.pending_buf_size=4*z.lit_bufsize,z.pending_buf=new a.Buf8(z.pending_buf_size),z.d_buf=1*z.lit_bufsize,z.l_buf=3*z.lit_bufsize,z.level=O,z.strategy=j,z.method=A,be(o)}r=[new ie(0,0,0,0,function(o,O){var A=65535;for(A>o.pending_buf_size-5&&(A=o.pending_buf_size-5);;){if(o.lookahead<=1){if(ae(o),o.lookahead===0&&O===b)return c;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;var y=o.block_start+A;if((o.strstart===0||o.strstart>=y)&&(o.lookahead=o.strstart-y,o.strstart=y,I(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-Y&&(I(o,!1),o.strm.avail_out===0))return c}return o.insert=0,O===u?(I(o,!0),o.strm.avail_out===0?X:F):(o.strstart>o.block_start&&(I(o,!1),o.strm.avail_out),c)}),new ie(4,4,8,4,ue),new ie(4,5,16,8,ue),new ie(4,6,32,32,ue),new ie(4,4,16,16,te),new ie(8,16,32,32,te),new ie(8,16,128,128,te),new ie(8,32,128,256,te),new ie(32,128,258,1024,te),new ie(32,258,258,4096,te)],t.deflateInit=function(o,O){return me(o,O,g,15,8,0)},t.deflateInit2=me,t.deflateReset=be,t.deflateResetKeep=se,t.deflateSetHeader=function(o,O){return o&&o.state?o.state.wrap!==2?h:(o.state.gzhead=O,p):h},t.deflate=function(o,O){var A,y,_,j;if(!o||!o.state||5<O||O<0)return o?ee(o,h):h;if(y=o.state,!o.output||!o.input&&o.avail_in!==0||y.status===666&&O!==u)return ee(o,o.avail_out===0?-5:h);if(y.strm=o,A=y.last_flush,y.last_flush=O,y.status===w)if(y.wrap===2)o.adler=0,q(y,31),q(y,139),q(y,8),y.gzhead?(q(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),q(y,255&y.gzhead.time),q(y,y.gzhead.time>>8&255),q(y,y.gzhead.time>>16&255),q(y,y.gzhead.time>>24&255),q(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),q(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(q(y,255&y.gzhead.extra.length),q(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(o.adler=d(o.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(q(y,0),q(y,0),q(y,0),q(y,0),q(y,0),q(y,y.level===9?2:2<=y.strategy||y.level<2?4:0),q(y,3),y.status=R);else{var P=g+(y.w_bits-8<<4)<<8;P|=(2<=y.strategy||y.level<2?0:y.level<6?1:y.level===6?2:3)<<6,y.strstart!==0&&(P|=32),P+=31-P%31,y.status=R,J(y,P),y.strstart!==0&&(J(y,o.adler>>>16),J(y,65535&o.adler)),o.adler=1}if(y.status===69)if(y.gzhead.extra){for(_=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>_&&(o.adler=d(o.adler,y.pending_buf,y.pending-_,_)),E(o),_=y.pending,y.pending!==y.pending_buf_size));)q(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>_&&(o.adler=d(o.adler,y.pending_buf,y.pending-_,_)),y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(y.status===73)if(y.gzhead.name){_=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>_&&(o.adler=d(o.adler,y.pending_buf,y.pending-_,_)),E(o),_=y.pending,y.pending===y.pending_buf_size)){j=1;break}j=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0,q(y,j)}while(j!==0);y.gzhead.hcrc&&y.pending>_&&(o.adler=d(o.adler,y.pending_buf,y.pending-_,_)),j===0&&(y.gzindex=0,y.status=91)}else y.status=91;if(y.status===91)if(y.gzhead.comment){_=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>_&&(o.adler=d(o.adler,y.pending_buf,y.pending-_,_)),E(o),_=y.pending,y.pending===y.pending_buf_size)){j=1;break}j=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0,q(y,j)}while(j!==0);y.gzhead.hcrc&&y.pending>_&&(o.adler=d(o.adler,y.pending_buf,y.pending-_,_)),j===0&&(y.status=103)}else y.status=103;if(y.status===103&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&E(o),y.pending+2<=y.pending_buf_size&&(q(y,255&o.adler),q(y,o.adler>>8&255),o.adler=0,y.status=R)):y.status=R),y.pending!==0){if(E(o),o.avail_out===0)return y.last_flush=-1,p}else if(o.avail_in===0&&N(O)<=N(A)&&O!==u)return ee(o,-5);if(y.status===666&&o.avail_in!==0)return ee(o,-5);if(o.avail_in!==0||y.lookahead!==0||O!==b&&y.status!==666){var z=y.strategy===2?function(S,L){for(var Z;;){if(S.lookahead===0&&(ae(S),S.lookahead===0)){if(L===b)return c;break}if(S.match_length=0,Z=i._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++,Z&&(I(S,!1),S.strm.avail_out===0))return c}return S.insert=0,L===u?(I(S,!0),S.strm.avail_out===0?X:F):S.last_lit&&(I(S,!1),S.strm.avail_out===0)?c:$}(y,O):y.strategy===3?function(S,L){for(var Z,U,K,oe,ne=S.window;;){if(S.lookahead<=H){if(ae(S),S.lookahead<=H&&L===b)return c;if(S.lookahead===0)break}if(S.match_length=0,S.lookahead>=T&&0<S.strstart&&(U=ne[K=S.strstart-1])===ne[++K]&&U===ne[++K]&&U===ne[++K]){oe=S.strstart+H;do;while(U===ne[++K]&&U===ne[++K]&&U===ne[++K]&&U===ne[++K]&&U===ne[++K]&&U===ne[++K]&&U===ne[++K]&&U===ne[++K]&&K<oe);S.match_length=H-(oe-K),S.match_length>S.lookahead&&(S.match_length=S.lookahead)}if(S.match_length>=T?(Z=i._tr_tally(S,1,S.match_length-T),S.lookahead-=S.match_length,S.strstart+=S.match_length,S.match_length=0):(Z=i._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++),Z&&(I(S,!1),S.strm.avail_out===0))return c}return S.insert=0,L===u?(I(S,!0),S.strm.avail_out===0?X:F):S.last_lit&&(I(S,!1),S.strm.avail_out===0)?c:$}(y,O):r[y.level].func(y,O);if(z!==X&&z!==F||(y.status=666),z===c||z===X)return o.avail_out===0&&(y.last_flush=-1),p;if(z===$&&(O===1?i._tr_align(y):O!==5&&(i._tr_stored_block(y,0,0,!1),O===3&&(G(y.head),y.lookahead===0&&(y.strstart=0,y.block_start=0,y.insert=0))),E(o),o.avail_out===0))return y.last_flush=-1,p}return O!==u?p:y.wrap<=0?1:(y.wrap===2?(q(y,255&o.adler),q(y,o.adler>>8&255),q(y,o.adler>>16&255),q(y,o.adler>>24&255),q(y,255&o.total_in),q(y,o.total_in>>8&255),q(y,o.total_in>>16&255),q(y,o.total_in>>24&255)):(J(y,o.adler>>>16),J(y,65535&o.adler)),E(o),0<y.wrap&&(y.wrap=-y.wrap),y.pending!==0?p:1)},t.deflateEnd=function(o){var O;return o&&o.state?(O=o.state.status)!==w&&O!==69&&O!==73&&O!==91&&O!==103&&O!==R&&O!==666?ee(o,h):(o.state=null,O===R?ee(o,-3):p):h},t.deflateSetDictionary=function(o,O){var A,y,_,j,P,z,S,L,Z=O.length;if(!o||!o.state||(j=(A=o.state).wrap)===2||j===1&&A.status!==w||A.lookahead)return h;for(j===1&&(o.adler=s(o.adler,O,Z,0)),A.wrap=0,Z>=A.w_size&&(j===0&&(G(A.head),A.strstart=0,A.block_start=0,A.insert=0),L=new a.Buf8(A.w_size),a.arraySet(L,O,Z-A.w_size,A.w_size,0),O=L,Z=A.w_size),P=o.avail_in,z=o.next_in,S=o.input,o.avail_in=Z,o.next_in=0,o.input=O,ae(A);A.lookahead>=T;){for(y=A.strstart,_=A.lookahead-(T-1);A.ins_h=(A.ins_h<<A.hash_shift^A.window[y+T-1])&A.hash_mask,A.prev[y&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=y,y++,--_;);A.strstart=y,A.lookahead=T-1,ae(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=T-1,A.match_available=0,o.next_in=z,o.input=S,o.avail_in=P,A.wrap=j,p},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,n,t){"use strict";n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,n,t){"use strict";n.exports=function(r,a){var i,s,d,m,b,u,p,h,v,l,f,g,k,C,x,B,D,W,T,H,Y,w,R,c,$;i=r.state,s=r.next_in,c=r.input,d=s+(r.avail_in-5),m=r.next_out,$=r.output,b=m-(a-r.avail_out),u=m+(r.avail_out-257),p=i.dmax,h=i.wsize,v=i.whave,l=i.wnext,f=i.window,g=i.hold,k=i.bits,C=i.lencode,x=i.distcode,B=(1<<i.lenbits)-1,D=(1<<i.distbits)-1;e:do{k<15&&(g+=c[s++]<<k,k+=8,g+=c[s++]<<k,k+=8),W=C[g&B];t:for(;;){if(g>>>=T=W>>>24,k-=T,(T=W>>>16&255)===0)$[m++]=65535&W;else{if(!(16&T)){if((64&T)==0){W=C[(65535&W)+(g&(1<<T)-1)];continue t}if(32&T){i.mode=12;break e}r.msg="invalid literal/length code",i.mode=30;break e}H=65535&W,(T&=15)&&(k<T&&(g+=c[s++]<<k,k+=8),H+=g&(1<<T)-1,g>>>=T,k-=T),k<15&&(g+=c[s++]<<k,k+=8,g+=c[s++]<<k,k+=8),W=x[g&D];n:for(;;){if(g>>>=T=W>>>24,k-=T,!(16&(T=W>>>16&255))){if((64&T)==0){W=x[(65535&W)+(g&(1<<T)-1)];continue n}r.msg="invalid distance code",i.mode=30;break e}if(Y=65535&W,k<(T&=15)&&(g+=c[s++]<<k,(k+=8)<T&&(g+=c[s++]<<k,k+=8)),p<(Y+=g&(1<<T)-1)){r.msg="invalid distance too far back",i.mode=30;break e}if(g>>>=T,k-=T,(T=m-b)<Y){if(v<(T=Y-T)&&i.sane){r.msg="invalid distance too far back",i.mode=30;break e}if(R=f,(w=0)===l){if(w+=h-T,T<H){for(H-=T;$[m++]=f[w++],--T;);w=m-Y,R=$}}else if(l<T){if(w+=h+l-T,(T-=l)<H){for(H-=T;$[m++]=f[w++],--T;);if(w=0,l<H){for(H-=T=l;$[m++]=f[w++],--T;);w=m-Y,R=$}}}else if(w+=l-T,T<H){for(H-=T;$[m++]=f[w++],--T;);w=m-Y,R=$}for(;2<H;)$[m++]=R[w++],$[m++]=R[w++],$[m++]=R[w++],H-=3;H&&($[m++]=R[w++],1<H&&($[m++]=R[w++]))}else{for(w=m-Y;$[m++]=$[w++],$[m++]=$[w++],$[m++]=$[w++],2<(H-=3););H&&($[m++]=$[w++],1<H&&($[m++]=$[w++]))}break}}break}}while(s<d&&m<u);s-=H=k>>3,g&=(1<<(k-=H<<3))-1,r.next_in=s,r.next_out=m,r.avail_in=s<d?d-s+5:5-(s-d),r.avail_out=m<u?u-m+257:257-(m-u),i.hold=g,i.bits=k}},{}],49:[function(e,n,t){"use strict";var r=e("../utils/common"),a=e("./adler32"),i=e("./crc32"),s=e("./inffast"),d=e("./inftrees"),m=1,b=2,u=0,p=-2,h=1,v=852,l=592;function f(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(w){var R;return w&&w.state?(R=w.state,w.total_in=w.total_out=R.total=0,w.msg="",R.wrap&&(w.adler=1&R.wrap),R.mode=h,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new r.Buf32(v),R.distcode=R.distdyn=new r.Buf32(l),R.sane=1,R.back=-1,u):p}function C(w){var R;return w&&w.state?((R=w.state).wsize=0,R.whave=0,R.wnext=0,k(w)):p}function x(w,R){var c,$;return w&&w.state?($=w.state,R<0?(c=0,R=-R):(c=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?p:($.window!==null&&$.wbits!==R&&($.window=null),$.wrap=c,$.wbits=R,C(w))):p}function B(w,R){var c,$;return w?($=new g,(w.state=$).window=null,(c=x(w,R))!==u&&(w.state=null),c):p}var D,W,T=!0;function H(w){if(T){var R;for(D=new r.Buf32(512),W=new r.Buf32(32),R=0;R<144;)w.lens[R++]=8;for(;R<256;)w.lens[R++]=9;for(;R<280;)w.lens[R++]=7;for(;R<288;)w.lens[R++]=8;for(d(m,w.lens,0,288,D,0,w.work,{bits:9}),R=0;R<32;)w.lens[R++]=5;d(b,w.lens,0,32,W,0,w.work,{bits:5}),T=!1}w.lencode=D,w.lenbits=9,w.distcode=W,w.distbits=5}function Y(w,R,c,$){var X,F=w.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new r.Buf8(F.wsize)),$>=F.wsize?(r.arraySet(F.window,R,c-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):($<(X=F.wsize-F.wnext)&&(X=$),r.arraySet(F.window,R,c-$,X,F.wnext),($-=X)?(r.arraySet(F.window,R,c-$,$,0),F.wnext=$,F.whave=F.wsize):(F.wnext+=X,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=X))),0}t.inflateReset=C,t.inflateReset2=x,t.inflateResetKeep=k,t.inflateInit=function(w){return B(w,15)},t.inflateInit2=B,t.inflate=function(w,R){var c,$,X,F,ee,N,G,E,I,q,J,V,ae,ue,te,ie,le,se,be,me,o,O,A,y,_=0,j=new r.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return p;(c=w.state).mode===12&&(c.mode=13),ee=w.next_out,X=w.output,G=w.avail_out,F=w.next_in,$=w.input,N=w.avail_in,E=c.hold,I=c.bits,q=N,J=G,O=u;e:for(;;)switch(c.mode){case h:if(c.wrap===0){c.mode=13;break}for(;I<16;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(2&c.wrap&&E===35615){j[c.check=0]=255&E,j[1]=E>>>8&255,c.check=i(c.check,j,2,0),I=E=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&E)<<8)+(E>>8))%31){w.msg="incorrect header check",c.mode=30;break}if((15&E)!=8){w.msg="unknown compression method",c.mode=30;break}if(I-=4,o=8+(15&(E>>>=4)),c.wbits===0)c.wbits=o;else if(o>c.wbits){w.msg="invalid window size",c.mode=30;break}c.dmax=1<<o,w.adler=c.check=1,c.mode=512&E?10:12,I=E=0;break;case 2:for(;I<16;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(c.flags=E,(255&c.flags)!=8){w.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){w.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=E>>8&1),512&c.flags&&(j[0]=255&E,j[1]=E>>>8&255,c.check=i(c.check,j,2,0)),I=E=0,c.mode=3;case 3:for(;I<32;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}c.head&&(c.head.time=E),512&c.flags&&(j[0]=255&E,j[1]=E>>>8&255,j[2]=E>>>16&255,j[3]=E>>>24&255,c.check=i(c.check,j,4,0)),I=E=0,c.mode=4;case 4:for(;I<16;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}c.head&&(c.head.xflags=255&E,c.head.os=E>>8),512&c.flags&&(j[0]=255&E,j[1]=E>>>8&255,c.check=i(c.check,j,2,0)),I=E=0,c.mode=5;case 5:if(1024&c.flags){for(;I<16;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}c.length=E,c.head&&(c.head.extra_len=E),512&c.flags&&(j[0]=255&E,j[1]=E>>>8&255,c.check=i(c.check,j,2,0)),I=E=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(N<(V=c.length)&&(V=N),V&&(c.head&&(o=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,$,F,V,o)),512&c.flags&&(c.check=i(c.check,$,V,F)),N-=V,F+=V,c.length-=V),c.length))break e;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(N===0)break e;for(V=0;o=$[F+V++],c.head&&o&&c.length<65536&&(c.head.name+=String.fromCharCode(o)),o&&V<N;);if(512&c.flags&&(c.check=i(c.check,$,V,F)),N-=V,F+=V,o)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(N===0)break e;for(V=0;o=$[F+V++],c.head&&o&&c.length<65536&&(c.head.comment+=String.fromCharCode(o)),o&&V<N;);if(512&c.flags&&(c.check=i(c.check,$,V,F)),N-=V,F+=V,o)break e}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;I<16;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(E!==(65535&c.check)){w.msg="header crc mismatch",c.mode=30;break}I=E=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),w.adler=c.check=0,c.mode=12;break;case 10:for(;I<32;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}w.adler=c.check=f(E),I=E=0,c.mode=11;case 11:if(c.havedict===0)return w.next_out=ee,w.avail_out=G,w.next_in=F,w.avail_in=N,c.hold=E,c.bits=I,2;w.adler=c.check=1,c.mode=12;case 12:if(R===5||R===6)break e;case 13:if(c.last){E>>>=7&I,I-=7&I,c.mode=27;break}for(;I<3;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}switch(c.last=1&E,I-=1,3&(E>>>=1)){case 0:c.mode=14;break;case 1:if(H(c),c.mode=20,R!==6)break;E>>>=2,I-=2;break e;case 2:c.mode=17;break;case 3:w.msg="invalid block type",c.mode=30}E>>>=2,I-=2;break;case 14:for(E>>>=7&I,I-=7&I;I<32;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if((65535&E)!=(E>>>16^65535)){w.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&E,I=E=0,c.mode=15,R===6)break e;case 15:c.mode=16;case 16:if(V=c.length){if(N<V&&(V=N),G<V&&(V=G),V===0)break e;r.arraySet(X,$,F,V,ee),N-=V,F+=V,G-=V,ee+=V,c.length-=V;break}c.mode=12;break;case 17:for(;I<14;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(c.nlen=257+(31&E),E>>>=5,I-=5,c.ndist=1+(31&E),E>>>=5,I-=5,c.ncode=4+(15&E),E>>>=4,I-=4,286<c.nlen||30<c.ndist){w.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;I<3;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}c.lens[P[c.have++]]=7&E,E>>>=3,I-=3}for(;c.have<19;)c.lens[P[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,A={bits:c.lenbits},O=d(0,c.lens,0,19,c.lencode,0,c.work,A),c.lenbits=A.bits,O){w.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;ie=(_=c.lencode[E&(1<<c.lenbits)-1])>>>16&255,le=65535&_,!((te=_>>>24)<=I);){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(le<16)E>>>=te,I-=te,c.lens[c.have++]=le;else{if(le===16){for(y=te+2;I<y;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(E>>>=te,I-=te,c.have===0){w.msg="invalid bit length repeat",c.mode=30;break}o=c.lens[c.have-1],V=3+(3&E),E>>>=2,I-=2}else if(le===17){for(y=te+3;I<y;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}I-=te,o=0,V=3+(7&(E>>>=te)),E>>>=3,I-=3}else{for(y=te+7;I<y;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}I-=te,o=0,V=11+(127&(E>>>=te)),E>>>=7,I-=7}if(c.have+V>c.nlen+c.ndist){w.msg="invalid bit length repeat",c.mode=30;break}for(;V--;)c.lens[c.have++]=o}}if(c.mode===30)break;if(c.lens[256]===0){w.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,A={bits:c.lenbits},O=d(m,c.lens,0,c.nlen,c.lencode,0,c.work,A),c.lenbits=A.bits,O){w.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,A={bits:c.distbits},O=d(b,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,A),c.distbits=A.bits,O){w.msg="invalid distances set",c.mode=30;break}if(c.mode=20,R===6)break e;case 20:c.mode=21;case 21:if(6<=N&&258<=G){w.next_out=ee,w.avail_out=G,w.next_in=F,w.avail_in=N,c.hold=E,c.bits=I,s(w,J),ee=w.next_out,X=w.output,G=w.avail_out,F=w.next_in,$=w.input,N=w.avail_in,E=c.hold,I=c.bits,c.mode===12&&(c.back=-1);break}for(c.back=0;ie=(_=c.lencode[E&(1<<c.lenbits)-1])>>>16&255,le=65535&_,!((te=_>>>24)<=I);){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(ie&&(240&ie)==0){for(se=te,be=ie,me=le;ie=(_=c.lencode[me+((E&(1<<se+be)-1)>>se)])>>>16&255,le=65535&_,!(se+(te=_>>>24)<=I);){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}E>>>=se,I-=se,c.back+=se}if(E>>>=te,I-=te,c.back+=te,c.length=le,ie===0){c.mode=26;break}if(32&ie){c.back=-1,c.mode=12;break}if(64&ie){w.msg="invalid literal/length code",c.mode=30;break}c.extra=15&ie,c.mode=22;case 22:if(c.extra){for(y=c.extra;I<y;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}c.length+=E&(1<<c.extra)-1,E>>>=c.extra,I-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;ie=(_=c.distcode[E&(1<<c.distbits)-1])>>>16&255,le=65535&_,!((te=_>>>24)<=I);){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if((240&ie)==0){for(se=te,be=ie,me=le;ie=(_=c.distcode[me+((E&(1<<se+be)-1)>>se)])>>>16&255,le=65535&_,!(se+(te=_>>>24)<=I);){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}E>>>=se,I-=se,c.back+=se}if(E>>>=te,I-=te,c.back+=te,64&ie){w.msg="invalid distance code",c.mode=30;break}c.offset=le,c.extra=15&ie,c.mode=24;case 24:if(c.extra){for(y=c.extra;I<y;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}c.offset+=E&(1<<c.extra)-1,E>>>=c.extra,I-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){w.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(G===0)break e;if(V=J-G,c.offset>V){if((V=c.offset-V)>c.whave&&c.sane){w.msg="invalid distance too far back",c.mode=30;break}ae=V>c.wnext?(V-=c.wnext,c.wsize-V):c.wnext-V,V>c.length&&(V=c.length),ue=c.window}else ue=X,ae=ee-c.offset,V=c.length;for(G<V&&(V=G),G-=V,c.length-=V;X[ee++]=ue[ae++],--V;);c.length===0&&(c.mode=21);break;case 26:if(G===0)break e;X[ee++]=c.length,G--,c.mode=21;break;case 27:if(c.wrap){for(;I<32;){if(N===0)break e;N--,E|=$[F++]<<I,I+=8}if(J-=G,w.total_out+=J,c.total+=J,J&&(w.adler=c.check=c.flags?i(c.check,X,J,ee-J):a(c.check,X,J,ee-J)),J=G,(c.flags?E:f(E))!==c.check){w.msg="incorrect data check",c.mode=30;break}I=E=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;I<32;){if(N===0)break e;N--,E+=$[F++]<<I,I+=8}if(E!==(4294967295&c.total)){w.msg="incorrect length check",c.mode=30;break}I=E=0}c.mode=29;case 29:O=1;break e;case 30:O=-3;break e;case 31:return-4;case 32:default:return p}return w.next_out=ee,w.avail_out=G,w.next_in=F,w.avail_in=N,c.hold=E,c.bits=I,(c.wsize||J!==w.avail_out&&c.mode<30&&(c.mode<27||R!==4))&&Y(w,w.output,w.next_out,J-w.avail_out)?(c.mode=31,-4):(q-=w.avail_in,J-=w.avail_out,w.total_in+=q,w.total_out+=J,c.total+=J,c.wrap&&J&&(w.adler=c.check=c.flags?i(c.check,X,J,w.next_out-J):a(c.check,X,J,w.next_out-J)),w.data_type=c.bits+(c.last?64:0)+(c.mode===12?128:0)+(c.mode===20||c.mode===15?256:0),(q==0&&J===0||R===4)&&O===u&&(O=-5),O)},t.inflateEnd=function(w){if(!w||!w.state)return p;var R=w.state;return R.window&&(R.window=null),w.state=null,u},t.inflateGetHeader=function(w,R){var c;return w&&w.state?(2&(c=w.state).wrap)==0?p:((c.head=R).done=!1,u):p},t.inflateSetDictionary=function(w,R){var c,$=R.length;return w&&w.state?(c=w.state).wrap!==0&&c.mode!==11?p:c.mode===11&&a(1,R,$,0)!==c.check?-3:Y(w,R,$,$)?(c.mode=31,-4):(c.havedict=1,u):p},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,n,t){"use strict";var r=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,b,u,p,h,v,l,f){var g,k,C,x,B,D,W,T,H,Y=f.bits,w=0,R=0,c=0,$=0,X=0,F=0,ee=0,N=0,G=0,E=0,I=null,q=0,J=new r.Buf16(16),V=new r.Buf16(16),ae=null,ue=0;for(w=0;w<=15;w++)J[w]=0;for(R=0;R<p;R++)J[b[u+R]]++;for(X=Y,$=15;1<=$&&J[$]===0;$--);if($<X&&(X=$),$===0)return h[v++]=20971520,h[v++]=20971520,f.bits=1,0;for(c=1;c<$&&J[c]===0;c++);for(X<c&&(X=c),w=N=1;w<=15;w++)if(N<<=1,(N-=J[w])<0)return-1;if(0<N&&(m===0||$!==1))return-1;for(V[1]=0,w=1;w<15;w++)V[w+1]=V[w]+J[w];for(R=0;R<p;R++)b[u+R]!==0&&(l[V[b[u+R]]++]=R);if(D=m===0?(I=ae=l,19):m===1?(I=a,q-=257,ae=i,ue-=257,256):(I=s,ae=d,-1),w=c,B=v,ee=R=E=0,C=-1,x=(G=1<<(F=X))-1,m===1&&852<G||m===2&&592<G)return 1;for(;;){for(W=w-ee,H=l[R]<D?(T=0,l[R]):l[R]>D?(T=ae[ue+l[R]],I[q+l[R]]):(T=96,0),g=1<<w-ee,c=k=1<<F;h[B+(E>>ee)+(k-=g)]=W<<24|T<<16|H|0,k!==0;);for(g=1<<w-1;E&g;)g>>=1;if(g!==0?(E&=g-1,E+=g):E=0,R++,--J[w]==0){if(w===$)break;w=b[u+l[R]]}if(X<w&&(E&x)!==C){for(ee===0&&(ee=X),B+=c,N=1<<(F=w-ee);F+ee<$&&!((N-=J[F+ee])<=0);)F++,N<<=1;if(G+=1<<F,m===1&&852<G||m===2&&592<G)return 1;h[C=E&x]=X<<24|F<<16|B-v|0}}return E!==0&&(h[B+E]=w-ee<<24|64<<16|0),f.bits=X,0}},{"../utils/common":41}],51:[function(e,n,t){"use strict";n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,n,t){"use strict";var r=e("../utils/common"),a=0,i=1;function s(_){for(var j=_.length;0<=--j;)_[j]=0}var d=0,m=29,b=256,u=b+1+m,p=30,h=19,v=2*u+1,l=15,f=16,g=7,k=256,C=16,x=17,B=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(u+2));s(Y);var w=new Array(2*p);s(w);var R=new Array(512);s(R);var c=new Array(256);s(c);var $=new Array(m);s($);var X,F,ee,N=new Array(p);function G(_,j,P,z,S){this.static_tree=_,this.extra_bits=j,this.extra_base=P,this.elems=z,this.max_length=S,this.has_stree=_&&_.length}function E(_,j){this.dyn_tree=_,this.max_code=0,this.stat_desc=j}function I(_){return _<256?R[_]:R[256+(_>>>7)]}function q(_,j){_.pending_buf[_.pending++]=255&j,_.pending_buf[_.pending++]=j>>>8&255}function J(_,j,P){_.bi_valid>f-P?(_.bi_buf|=j<<_.bi_valid&65535,q(_,_.bi_buf),_.bi_buf=j>>f-_.bi_valid,_.bi_valid+=P-f):(_.bi_buf|=j<<_.bi_valid&65535,_.bi_valid+=P)}function V(_,j,P){J(_,P[2*j],P[2*j+1])}function ae(_,j){for(var P=0;P|=1&_,_>>>=1,P<<=1,0<--j;);return P>>>1}function ue(_,j,P){var z,S,L=new Array(l+1),Z=0;for(z=1;z<=l;z++)L[z]=Z=Z+P[z-1]<<1;for(S=0;S<=j;S++){var U=_[2*S+1];U!==0&&(_[2*S]=ae(L[U]++,U))}}function te(_){var j;for(j=0;j<u;j++)_.dyn_ltree[2*j]=0;for(j=0;j<p;j++)_.dyn_dtree[2*j]=0;for(j=0;j<h;j++)_.bl_tree[2*j]=0;_.dyn_ltree[2*k]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function ie(_){8<_.bi_valid?q(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function le(_,j,P,z){var S=2*j,L=2*P;return _[S]<_[L]||_[S]===_[L]&&z[j]<=z[P]}function se(_,j,P){for(var z=_.heap[P],S=P<<1;S<=_.heap_len&&(S<_.heap_len&&le(j,_.heap[S+1],_.heap[S],_.depth)&&S++,!le(j,z,_.heap[S],_.depth));)_.heap[P]=_.heap[S],P=S,S<<=1;_.heap[P]=z}function be(_,j,P){var z,S,L,Z,U=0;if(_.last_lit!==0)for(;z=_.pending_buf[_.d_buf+2*U]<<8|_.pending_buf[_.d_buf+2*U+1],S=_.pending_buf[_.l_buf+U],U++,z===0?V(_,S,j):(V(_,(L=c[S])+b+1,j),(Z=D[L])!==0&&J(_,S-=$[L],Z),V(_,L=I(--z),P),(Z=W[L])!==0&&J(_,z-=N[L],Z)),U<_.last_lit;);V(_,k,j)}function me(_,j){var P,z,S,L=j.dyn_tree,Z=j.stat_desc.static_tree,U=j.stat_desc.has_stree,K=j.stat_desc.elems,oe=-1;for(_.heap_len=0,_.heap_max=v,P=0;P<K;P++)L[2*P]!==0?(_.heap[++_.heap_len]=oe=P,_.depth[P]=0):L[2*P+1]=0;for(;_.heap_len<2;)L[2*(S=_.heap[++_.heap_len]=oe<2?++oe:0)]=1,_.depth[S]=0,_.opt_len--,U&&(_.static_len-=Z[2*S+1]);for(j.max_code=oe,P=_.heap_len>>1;1<=P;P--)se(_,L,P);for(S=K;P=_.heap[1],_.heap[1]=_.heap[_.heap_len--],se(_,L,1),z=_.heap[1],_.heap[--_.heap_max]=P,_.heap[--_.heap_max]=z,L[2*S]=L[2*P]+L[2*z],_.depth[S]=(_.depth[P]>=_.depth[z]?_.depth[P]:_.depth[z])+1,L[2*P+1]=L[2*z+1]=S,_.heap[1]=S++,se(_,L,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(ne,de){var Se,ve,Ce,ce,De,Ve,_e=de.dyn_tree,at=de.max_code,jn=de.stat_desc.static_tree,xn=de.stat_desc.has_stree,Sn=de.stat_desc.extra_bits,st=de.stat_desc.extra_base,Ie=de.stat_desc.max_length,Oe=0;for(ce=0;ce<=l;ce++)ne.bl_count[ce]=0;for(_e[2*ne.heap[ne.heap_max]+1]=0,Se=ne.heap_max+1;Se<v;Se++)Ie<(ce=_e[2*_e[2*(ve=ne.heap[Se])+1]+1]+1)&&(ce=Ie,Oe++),_e[2*ve+1]=ce,at<ve||(ne.bl_count[ce]++,De=0,st<=ve&&(De=Sn[ve-st]),Ve=_e[2*ve],ne.opt_len+=Ve*(ce+De),xn&&(ne.static_len+=Ve*(jn[2*ve+1]+De)));if(Oe!==0){do{for(ce=Ie-1;ne.bl_count[ce]===0;)ce--;ne.bl_count[ce]--,ne.bl_count[ce+1]+=2,ne.bl_count[Ie]--,Oe-=2}while(0<Oe);for(ce=Ie;ce!==0;ce--)for(ve=ne.bl_count[ce];ve!==0;)at<(Ce=ne.heap[--Se])||(_e[2*Ce+1]!==ce&&(ne.opt_len+=(ce-_e[2*Ce+1])*_e[2*Ce],_e[2*Ce+1]=ce),ve--)}}(_,j),ue(L,oe,_.bl_count)}function o(_,j,P){var z,S,L=-1,Z=j[1],U=0,K=7,oe=4;for(Z===0&&(K=138,oe=3),j[2*(P+1)+1]=65535,z=0;z<=P;z++)S=Z,Z=j[2*(z+1)+1],++U<K&&S===Z||(U<oe?_.bl_tree[2*S]+=U:S!==0?(S!==L&&_.bl_tree[2*S]++,_.bl_tree[2*C]++):U<=10?_.bl_tree[2*x]++:_.bl_tree[2*B]++,L=S,oe=(U=0)===Z?(K=138,3):S===Z?(K=6,3):(K=7,4))}function O(_,j,P){var z,S,L=-1,Z=j[1],U=0,K=7,oe=4;for(Z===0&&(K=138,oe=3),z=0;z<=P;z++)if(S=Z,Z=j[2*(z+1)+1],!(++U<K&&S===Z)){if(U<oe)for(;V(_,S,_.bl_tree),--U!=0;);else S!==0?(S!==L&&(V(_,S,_.bl_tree),U--),V(_,C,_.bl_tree),J(_,U-3,2)):U<=10?(V(_,x,_.bl_tree),J(_,U-3,3)):(V(_,B,_.bl_tree),J(_,U-11,7));L=S,oe=(U=0)===Z?(K=138,3):S===Z?(K=6,3):(K=7,4)}}s(N);var A=!1;function y(_,j,P,z){J(_,(d<<1)+(z?1:0),3),function(S,L,Z,U){ie(S),U&&(q(S,Z),q(S,~Z)),r.arraySet(S.pending_buf,S.window,L,Z,S.pending),S.pending+=Z}(_,j,P,!0)}t._tr_init=function(_){A||(function(){var j,P,z,S,L,Z=new Array(l+1);for(S=z=0;S<m-1;S++)for($[S]=z,j=0;j<1<<D[S];j++)c[z++]=S;for(c[z-1]=S,S=L=0;S<16;S++)for(N[S]=L,j=0;j<1<<W[S];j++)R[L++]=S;for(L>>=7;S<p;S++)for(N[S]=L<<7,j=0;j<1<<W[S]-7;j++)R[256+L++]=S;for(P=0;P<=l;P++)Z[P]=0;for(j=0;j<=143;)Y[2*j+1]=8,j++,Z[8]++;for(;j<=255;)Y[2*j+1]=9,j++,Z[9]++;for(;j<=279;)Y[2*j+1]=7,j++,Z[7]++;for(;j<=287;)Y[2*j+1]=8,j++,Z[8]++;for(ue(Y,u+1,Z),j=0;j<p;j++)w[2*j+1]=5,w[2*j]=ae(j,5);X=new G(Y,D,b+1,u,l),F=new G(w,W,0,p,l),ee=new G(new Array(0),T,0,h,g)}(),A=!0),_.l_desc=new E(_.dyn_ltree,X),_.d_desc=new E(_.dyn_dtree,F),_.bl_desc=new E(_.bl_tree,ee),_.bi_buf=0,_.bi_valid=0,te(_)},t._tr_stored_block=y,t._tr_flush_block=function(_,j,P,z){var S,L,Z=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(U){var K,oe=4093624447;for(K=0;K<=31;K++,oe>>>=1)if(1&oe&&U.dyn_ltree[2*K]!==0)return a;if(U.dyn_ltree[18]!==0||U.dyn_ltree[20]!==0||U.dyn_ltree[26]!==0)return i;for(K=32;K<b;K++)if(U.dyn_ltree[2*K]!==0)return i;return a}(_)),me(_,_.l_desc),me(_,_.d_desc),Z=function(U){var K;for(o(U,U.dyn_ltree,U.l_desc.max_code),o(U,U.dyn_dtree,U.d_desc.max_code),me(U,U.bl_desc),K=h-1;3<=K&&U.bl_tree[2*H[K]+1]===0;K--);return U.opt_len+=3*(K+1)+5+5+4,K}(_),S=_.opt_len+3+7>>>3,(L=_.static_len+3+7>>>3)<=S&&(S=L)):S=L=P+5,P+4<=S&&j!==-1?y(_,j,P,z):_.strategy===4||L===S?(J(_,2+(z?1:0),3),be(_,Y,w)):(J(_,4+(z?1:0),3),function(U,K,oe,ne){var de;for(J(U,K-257,5),J(U,oe-1,5),J(U,ne-4,4),de=0;de<ne;de++)J(U,U.bl_tree[2*H[de]+1],3);O(U,U.dyn_ltree,K-1),O(U,U.dyn_dtree,oe-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,Z+1),be(_,_.dyn_ltree,_.dyn_dtree)),te(_),z&&ie(_)},t._tr_tally=function(_,j,P){return _.pending_buf[_.d_buf+2*_.last_lit]=j>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&j,_.pending_buf[_.l_buf+_.last_lit]=255&P,_.last_lit++,j===0?_.dyn_ltree[2*P]++:(_.matches++,j--,_.dyn_ltree[2*(c[P]+b+1)]++,_.dyn_dtree[2*I(j)]++),_.last_lit===_.lit_bufsize-1},t._tr_align=function(_){J(_,2,3),V(_,k,Y),function(j){j.bi_valid===16?(q(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(e,n,t){"use strict";n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,n,t){"use strict";n.exports=typeof setImmediate=="function"?setImmediate:function(){var r=[].slice.apply(arguments);r.splice(1,0,0),setTimeout.apply(null,r)}},{}]},{},[10])(10)})});var dn=pt((nt,it)=>{(function(e,n){typeof define=="function"&&define.amd?define([],n):typeof nt!="undefined"?n():(n(),e.FileSaver={})})(nt,function(){"use strict";function e(d,m){return typeof m=="undefined"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,m,b){var u=new XMLHttpRequest;u.open("GET",d),u.responseType="blob",u.onload=function(){s(u.response,m,b)},u.onerror=function(){console.error("could not download file")},u.send()}function t(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch(b){}return 200<=m.status&&299>=m.status}function r(d){try{d.dispatchEvent(new MouseEvent("click"))}catch(b){var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(d,m,b){var u=a.URL||a.webkitURL,p=document.createElement("a");m=m||d.name||"download",p.download=m,p.rel="noopener",typeof d=="string"?(p.href=d,p.origin===location.origin?r(p):t(p.href)?n(d,m,b):r(p,p.target="_blank")):(p.href=u.createObjectURL(d),setTimeout(function(){u.revokeObjectURL(p.href)},4e4),setTimeout(function(){r(p)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,b){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(e(d,b),m);else if(t(d))n(d,m,b);else{var u=document.createElement("a");u.href=d,u.target="_blank",setTimeout(function(){r(u)})}}:function(d,m,b,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof d=="string")return n(d,m,b);var p=d.type==="application/octet-stream",h=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||p&&h||i)&&typeof FileReader!="undefined"){var l=new FileReader;l.onloadend=function(){var k=l.result;k=v?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=k:location=k,u=null},l.readAsDataURL(d)}else{var f=a.URL||a.webkitURL,g=f.createObjectURL(d);u?u.location=g:location.href=g,u=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});a.saveAs=s.saveAs=s,typeof it!="undefined"&&(it.exports=s)})});var $e,Q,ft,$n,Ae,ht,mt,Pn,Pe={},gt=[],zn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ye(e,n){for(var t in n)e[t]=n[t];return e}function bt(e){var n=e.parentNode;n&&n.removeChild(e)}function M(e,n,t){var r,a,i,s={};for(i in n)i=="key"?r=n[i]:i=="ref"?a=n[i]:s[i]=n[i];if(arguments.length>2&&(s.children=arguments.length>3?$e.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return ze(e,s,r,a,null)}function ze(e,n,t,r,a){var i={type:e,props:n,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++ft:a};return a==null&&Q.vnode!=null&&Q.vnode(i),i}function ke(e){return e.children}function Fe(e,n){this.props=e,this.context=n}function we(e,n){if(n==null)return e.__?we(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?we(e):null}function vt(e){var n,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return vt(e)}}function _t(e){(!e.__d&&(e.__d=!0)&&Ae.push(e)&&!Ne.__r++||mt!==Q.debounceRendering)&&((mt=Q.debounceRendering)||ht)(Ne)}function Ne(){for(var e;Ne.__r=Ae.length;)e=Ae.sort(function(n,t){return n.__v.__b-t.__v.__b}),Ae=[],e.some(function(n){var t,r,a,i,s,d;n.__d&&(s=(i=(t=n).__v).__e,(d=t.__P)&&(r=[],(a=ye({},i)).__v=i.__v+1,Je(d,i,a,t.__n,d.ownerSVGElement!==void 0,i.__h!=null?[s]:null,r,s==null?we(i):s,i.__h),Ct(r,i),i.__e!=s&&vt(i)))})}function yt(e,n,t,r,a,i,s,d,m,b){var u,p,h,v,l,f,g,k=r&&r.__k||gt,C=k.length;for(t.__k=[],u=0;u<n.length;u++)if((v=t.__k[u]=(v=n[u])==null||typeof v=="boolean"?null:typeof v=="string"||typeof v=="number"||typeof v=="bigint"?ze(null,v,null,null,v):Array.isArray(v)?ze(ke,{children:v},null,null,null):v.__b>0?ze(v.type,v.props,v.key,null,v.__v):v)!=null){if(v.__=t,v.__b=t.__b+1,(h=k[u])===null||h&&v.key==h.key&&v.type===h.type)k[u]=void 0;else for(p=0;p<C;p++){if((h=k[p])&&v.key==h.key&&v.type===h.type){k[p]=void 0;break}h=null}Je(e,v,h=h||Pe,a,i,s,d,m,b),l=v.__e,(p=v.ref)&&h.ref!=p&&(g||(g=[]),h.ref&&g.push(h.ref,null,v),g.push(p,v.__c||l,v)),l!=null?(f==null&&(f=l),typeof v.type=="function"&&v.__k===h.__k?v.__d=m=kt(v,m,e):m=wt(e,v,h,k,l,m),typeof t.type=="function"&&(t.__d=m)):m&&h.__e==m&&m.parentNode!=e&&(m=we(h))}for(t.__e=f,u=C;u--;)k[u]!=null&&(typeof t.type=="function"&&k[u].__e!=null&&k[u].__e==t.__d&&(t.__d=we(r,u+1)),Et(k[u],k[u]));if(g)for(u=0;u<g.length;u++)It(g[u],g[++u],g[++u])}function kt(e,n,t){for(var r,a=e.__k,i=0;a&&i<a.length;i++)(r=a[i])&&(r.__=e,n=typeof r.type=="function"?kt(r,n,t):wt(t,r,r,a,r.__e,n));return n}function wt(e,n,t,r,a,i){var s,d,m;if(n.__d!==void 0)s=n.__d,n.__d=void 0;else if(t==null||a!=i||a.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(a),s=null;else{for(d=i,m=0;(d=d.nextSibling)&&m<r.length;m+=2)if(d==a)break e;e.insertBefore(a,i),s=i}return s!==void 0?s:a.nextSibling}function Fn(e,n,t,r,a){var i;for(i in t)i==="children"||i==="key"||i in n||Le(e,i,null,t[i],r);for(i in n)a&&typeof n[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||t[i]===n[i]||Le(e,i,n[i],t[i],r)}function jt(e,n,t){n[0]==="-"?e.setProperty(n,t):e[n]=t==null?"":typeof t!="number"||zn.test(n)?t:t+"px"}function Le(e,n,t,r,a){var i;e:if(n==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(n in r)t&&n in t||jt(e.style,n,"");if(t)for(n in t)r&&t[n]===r[n]||jt(e.style,n,t[n])}else if(n[0]==="o"&&n[1]==="n")i=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?r||e.addEventListener(n,i?St:xt,i):e.removeEventListener(n,i?St:xt,i);else if(n!=="dangerouslySetInnerHTML"){if(a)n=n.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in e)try{e[n]=t==null?"":t;break e}catch(s){}typeof t=="function"||(t!=null&&(t!==!1||n[0]==="a"&&n[1]==="r")?e.setAttribute(n,t):e.removeAttribute(n))}}function xt(e){this.l[e.type+!1](Q.event?Q.event(e):e)}function St(e){this.l[e.type+!0](Q.event?Q.event(e):e)}function Je(e,n,t,r,a,i,s,d,m){var b,u,p,h,v,l,f,g,k,C,x,B=n.type;if(n.constructor!==void 0)return null;t.__h!=null&&(m=t.__h,d=n.__e=t.__e,n.__h=null,i=[d]),(b=Q.__b)&&b(n);try{e:if(typeof B=="function"){if(g=n.props,k=(b=B.contextType)&&r[b.__c],C=b?k?k.props.value:b.__:r,t.__c?f=(u=n.__c=t.__c).__=u.__E:("prototype"in B&&B.prototype.render?n.__c=u=new B(g,C):(n.__c=u=new Fe(g,C),u.constructor=B,u.render=Ln),k&&k.sub(u),u.props=g,u.state||(u.state={}),u.context=C,u.__n=r,p=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),B.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ye({},u.__s)),ye(u.__s,B.getDerivedStateFromProps(g,u.__s))),h=u.props,v=u.state,p)B.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(B.getDerivedStateFromProps==null&&g!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(g,C),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(g,u.__s,C)===!1||n.__v===t.__v){u.props=g,u.state=u.__s,n.__v!==t.__v&&(u.__d=!1),u.__v=n,n.__e=t.__e,n.__k=t.__k,n.__k.forEach(function(D){D&&(D.__=n)}),u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(g,u.__s,C),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,v,l)})}u.context=C,u.props=g,u.state=u.__s,(b=Q.__r)&&b(n),u.__d=!1,u.__v=n,u.__P=e,b=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(r=ye(ye({},r),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(l=u.getSnapshotBeforeUpdate(h,v)),x=b!=null&&b.type===ke&&b.key==null?b.props.children:b,yt(e,Array.isArray(x)?x:[x],n,t,r,a,i,s,d,m),u.base=n.__e,n.__h=null,u.__h.length&&s.push(u),f&&(u.__E=u.__=null),u.__e=!1}else i==null&&n.__v===t.__v?(n.__k=t.__k,n.__e=t.__e):n.__e=Nn(t.__e,n,t,r,a,i,s,m);(b=Q.diffed)&&b(n)}catch(D){n.__v=null,(m||i!=null)&&(n.__e=d,n.__h=!!m,i[i.indexOf(d)]=null),Q.__e(D,n,t)}}function Ct(e,n){Q.__c&&Q.__c(n,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(r){r.call(t)})}catch(r){Q.__e(r,t.__v)}})}function Nn(e,n,t,r,a,i,s,d){var m,b,u,p=t.props,h=n.props,v=n.type,l=0;if(v==="svg"&&(a=!0),i!=null){for(;l<i.length;l++)if((m=i[l])&&"setAttribute"in m==!!v&&(v?m.localName===v:m.nodeType===3)){e=m,i[l]=null;break}}if(e==null){if(v===null)return document.createTextNode(h);e=a?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),i=null,d=!1}if(v===null)p===h||d&&e.data===h||(e.data=h);else{if(i=i&&$e.call(e.childNodes),b=(p=t.props||Pe).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!d){if(i!=null)for(p={},l=0;l<e.attributes.length;l++)p[e.attributes[l].name]=e.attributes[l].value;(u||b)&&(u&&(b&&u.__html==b.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(Fn(e,h,p,a,d),u)n.__k=[];else if(l=n.props.children,yt(e,Array.isArray(l)?l:[l],n,t,r,a&&v!=="foreignObject",i,s,i?i[0]:t.__k&&we(t,0),d),i!=null)for(l=i.length;l--;)i[l]!=null&&bt(i[l]);d||("value"in h&&(l=h.value)!==void 0&&(l!==p.value||l!==e.value||v==="progress"&&!l)&&Le(e,"value",l,p.value,!1),"checked"in h&&(l=h.checked)!==void 0&&l!==e.checked&&Le(e,"checked",l,p.checked,!1))}return e}function It(e,n,t){try{typeof e=="function"?e(n):e.current=n}catch(r){Q.__e(r,t)}}function Et(e,n,t){var r,a;if(Q.unmount&&Q.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||It(r,null,n)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){Q.__e(i,n)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&Et(r[a],n,typeof e.type!="function");t||e.__e==null||bt(e.__e),e.__e=e.__d=void 0}function Ln(e,n,t){return this.constructor(e,t)}function At(e,n,t){var r,a,i;Q.__&&Q.__(e,n),a=(r=typeof t=="function")?null:t&&t.__k||n.__k,i=[],Je(n,e=(!r&&t||n).__k=M(ke,null,[e]),a||Pe,Pe,n.ownerSVGElement!==void 0,!r&&t?[t]:a?null:n.firstChild?$e.call(n.childNodes):null,i,!r&&t?t:a?a.__e:n.firstChild,r),Ct(i,e)}$e=gt.slice,Q={__e:function(e,n){for(var t,r,a;n=n.__;)if((t=n.__c)&&!t.__)try{if((r=t.constructor)&&r.getDerivedStateFromError!=null&&(t.setState(r.getDerivedStateFromError(e)),a=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(e),a=t.__d),a)return t.__E=t}catch(i){e=i}throw e}},ft=0,$n=function(e){return e!=null&&e.constructor===void 0},Fe.prototype.setState=function(e,n){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ye({},this.state),typeof e=="function"&&(e=e(ye({},t),this.props)),e&&ye(t,e),e!=null&&this.__v&&(n&&this.__h.push(n),_t(this))},Fe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_t(this))},Fe.prototype.render=ke,Ae=[],ht=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ne.__r=0,Pn=0;var Ue,he,Tt,Me=0,Ze=[],Rt=Q.__b,Dt=Q.__r,Ot=Q.diffed,Bt=Q.__c,$t=Q.unmount;function Ke(e,n){Q.__h&&Q.__h(he,e,Me||n),Me=0;var t=he.__H||(he.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function je(e){return Me=1,qe(Nt,e)}function qe(e,n,t){var r=Ke(Ue++,2);return r.t=e,r.__c||(r.__=[t?t(n):Nt(void 0,n),function(a){var i=r.t(r.__[0],a);r.__[0]!==i&&(r.__=[i,r.__[1]],r.__c.setState({}))}],r.__c=he),r.__}function Ye(e,n){var t=Ke(Ue++,3);!Q.__s&&Ft(t.__H,n)&&(t.__=e,t.__H=n,he.__H.__h.push(t))}function Pt(e){return Me=5,Un(function(){return{current:e}},[])}function Un(e,n){var t=Ke(Ue++,7);return Ft(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}function Mn(){var e;for(Ze.sort(function(n,t){return n.__v.__b-t.__v.__b});e=Ze.pop();)if(e.__P)try{e.__H.__h.forEach(He),e.__H.__h.forEach(Ge),e.__H.__h=[]}catch(n){e.__H.__h=[],Q.__e(n,e.__v)}}Q.__b=function(e){he=null,Rt&&Rt(e)},Q.__r=function(e){Dt&&Dt(e),Ue=0;var n=(he=e.__c).__H;n&&(n.__h.forEach(He),n.__h.forEach(Ge),n.__h=[])},Q.diffed=function(e){Ot&&Ot(e);var n=e.__c;n&&n.__H&&n.__H.__h.length&&(Ze.push(n)!==1&&Tt===Q.requestAnimationFrame||((Tt=Q.requestAnimationFrame)||function(t){var r,a=function(){clearTimeout(i),zt&&cancelAnimationFrame(r),setTimeout(t)},i=setTimeout(a,100);zt&&(r=requestAnimationFrame(a))})(Mn)),he=null},Q.__c=function(e,n){n.some(function(t){try{t.__h.forEach(He),t.__h=t.__h.filter(function(r){return!r.__||Ge(r)})}catch(r){n.some(function(a){a.__h&&(a.__h=[])}),n=[],Q.__e(r,t.__v)}}),Bt&&Bt(e,n)},Q.unmount=function(e){$t&&$t(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{He(r)}catch(a){n=a}}),n&&Q.__e(n,t.__v))};var zt=typeof requestAnimationFrame=="function";function He(e){var n=he,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),he=n}function Ge(e){var n=he;e.__c=e.__(),he=n}function Ft(e,n){return!e||e.length!==n.length||n.some(function(t,r){return t!==e[r]})}function Nt(e,n){return typeof n=="function"?n(e):n}var We=e=>e==!0||e=="true",Lt=({children:e,tooltip:n})=>{let[t,r]=je(!1);return M("div",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:{position:"relative",display:"inline-block"}},e,t&&M("span",{style:{width:"300px",opacity:.7,backgroundColor:"black",color:"#fff",textAlign:"center",padding:"5px 0",borderRadius:"6px",position:"absolute",zIndex:1}},n))},Ut=({label:e,id:n,dispatch:t,data:r})=>{let a=We(r[n].enabled);return M("div",{className:"form-check-inline"},M("input",{type:"checkbox",className:"form-check-input",checked:a,id:n,value:String(a),"aria-describedby":n,onChange:()=>t({type:`features.${n}`,value:fe(pe({},r[n]),{enabled:!a})})}),M("label",{htmlFor:n,className:"form-check-label"},M(Lt,{tooltip:r[n].tooltip},M("i",{className:r[n].icon})," ",e)))},Hn=({label:e,id:n,dispatch:t,data:r,switchValues:a})=>M("div",{style:{flex:1,minWidth:"130px",display:"flex",flexDirection:"column"}},M(Ut,{label:e,id:n,dispatch:t,data:r}),r[n].enabled&&M("div",{className:"form-check form-switch"},M("input",{className:"form-check-input",type:"checkbox",id:`${n}-switch`,onChange:()=>t({type:`features.${n}`,value:fe(pe({},r[n]),{switchValues:[fe(pe({},a[0]),{enabled:We(r[n].switchValues[1].enabled)}),fe(pe({},a[1]),{enabled:We(r[n].switchValues[0].enabled)})]})}),checked:We(r[n].switchValues[0].enabled)}),M("label",{className:"form-check-label",htmlFor:`${n}-switch`,style:{fontWeight:"100"}},M(Lt,{tooltip:a[0].tooltip},a[0].label)))),Wn=({label:e,id:n,dispatch:t,data:r,switchValues:a})=>M("div",{style:{flex:1,minWidth:"130px"}},a&&M(Hn,{label:e,id:n,dispatch:t,data:r,switchValues:a}),!a&&M(Ut,{label:e,id:n,dispatch:t,data:r})),Mt=({dispatch:e,data:n})=>M("div",{className:"border-bottom pb-4"},M("div",null,M("h3",null,"Features")),M("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center"}},Object.keys(n).sort((t,r)=>t.order-r.order).map(t=>M(Wn,{key:t,label:n[t].label,id:t,dispatch:e,data:n,switchValues:n[t].switchValues}))));var Ht=`<!DOCTYPE html>
<html lang="fr">
  <head>
      <meta charset="UTF-8" />

      <title>{{artifactId}}</title>

      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
      <div id="app">
            <noscript>JavaScript is required.</noscript>
      </div>
      <script type="application/javascript" src="/js/app.js?v={{static.marker}}"><\/script>
  </body>
</html>
`;var Wt=`const path = require('path');
const fse = require('fs-extra');
const postcss = require('postcss');
const cssModules = require('postcss-modules');
const util = require('util');
const tmp = require('tmp');
const crypto = require('crypto');
const readFile = util.promisify(fse.readFile);
const writeFile = util.promisify(fse.writeFile);
const ensureDir = util.promisify(fse.ensureDir);
const pluginNamespace = 'esbuild-css-modules-plugin-namespace';

const defineCssImport = \`defCss.js\`;
const defineCssContent = \`
export default function (digest, css) {
    if (!document.getElementById(digest)) {
        var el = document.createElement('style');
        el.id = digest;
        el.textContent = css;
        document.head.appendChild(el);
    }
}
\`.trim();

const buildCssModulesJS = async (cssFullPath, options = { light: true }) => {
    const css = await readFile(cssFullPath);
    let cssModulesJSON;
    const result = await postcss([
        cssModules({
            localsConvention: 'camelCaseOnly',
            scopeBehaviour: 'global',
            getJSON(cssSourceFile, json) {
                cssModulesJSON = { ...json };
                return cssModulesJSON;
            }
        })
    ]).process(css, { from: undefined, map: false });

    const hash = crypto.createHash('sha256');
    hash.update(cssFullPath);
    const digest = hash.digest('hex');

    const jsContent = (options.light ?
        \`require('\${defineCssImport}').default('\${digest}', \\\`\${result.css}\\\`);\` :
        \`
const defineCss = require('\${defineCssImport}').default;
const digest = '\${digest}';
const css = \\\`\${result.css}\\\`;
defineCss(digest, css);
export default \${JSON.stringify(cssModulesJSON)};
export { css, digest };
\`).trim();

    return Promise.resolve({
        jsContent,
        cssContent: result.css
    });
};

const CssBundlePlugin = (options = {}) => {
    return {
        name: 'esbuild-css-modules-plugin',
        setup(build) {
            const { outdir, bundle, logLevel } = build.initialOptions;
            const rootDir = process.cwd();
            const tmpDirPath = tmp.dirSync().name;

            const outputLogs = logLevel === 'debug' || logLevel === 'verbose';

            build.onResolve({ filter: /\\.modules?\\.css$/, namespace: 'file' }, async (args) => {
                const sourceFullPath = path.resolve(args.resolveDir, args.path);
                const sourceExt = path.extname(sourceFullPath);
                const sourceBaseName = path.basename(sourceFullPath, sourceExt);
                const sourceDir = path.dirname(sourceFullPath);
                const sourceRelDir = path.relative(path.dirname(rootDir), sourceDir);
                const tmpDir = path.resolve(tmpDirPath, sourceRelDir);
                await ensureDir(tmpDir);
                const tmpFilePath = path.resolve(tmpDir, \`\${sourceBaseName}.css\`);

                const { jsContent } = await buildCssModulesJS(sourceFullPath, options);

                await writeFile(\`\${tmpFilePath}.js\`, jsContent, { encoding: 'utf-8' });

                if (outdir && !bundle) {
                    const isOutdirAbsolute = path.isAbsolute(outdir);
                    const absoluteOutdir = isOutdirAbsolute
                        ? outdir
                        : path.resolve(args.resolveDir, outdir);
                    const isEntryAbsolute = path.isAbsolute(args.path);
                    const entryRelDir = isEntryAbsolute
                        ? path.dirname(path.relative(args.resolveDir, args.path))
                        : path.dirname(args.path);
                    const targetSubpath =
                        absoluteOutdir.indexOf(entryRelDir) === -1
                            ? path.join(entryRelDir, \`\${sourceBaseName}.css.js\`)
                            : \`\${sourceBaseName}.css.js\`;
                    const target = path.resolve(absoluteOutdir, targetSubpath);
                    await ensureDir(path.dirname(target));
                    fse.copyFileSync(\`\${tmpFilePath}.js\`, target);
                    outputLogs &&
                        console.log(
                            '[css-modules-plugin]',
                            path.relative(rootDir, sourceFullPath),
                            '=>',
                            path.relative(rootDir, target)
                        );
                }
                if (!bundle) {
                    return { path: sourceFullPath, namespace: 'file' };
                }
                return {
                    path: \`\${tmpFilePath}.js\`,
                    namespace: pluginNamespace,
                    pluginData: {
                        content: jsContent,
                        resolveArgs: {
                            path: args.path,
                            fullPath: sourceFullPath,
                            importer: args.importer,
                            namespace: args.namespace,
                            resolveDir: args.resolveDir,
                            kind: args.kind,
                        },
                    },
                };
            });
            build.onLoad({ filter: /\\.modules?\\.css\\.js$/, namespace: pluginNamespace }, (args) => {
                const { path: resolvePath, importer, fullPath } = args.pluginData.resolveArgs;
                const importerName = path.basename(importer);
                outputLogs &&
                    console.log(
                        '[css-modules-plugin]',
                        \`\${resolvePath} => \${resolvePath}.js => \${importerName}\`
                    );
                return { contents: args.pluginData.content, loader: 'js', watchFiles: [fullPath] };
            });

            // define a virtual file with the css injector code to avoid to repeat it for each css file
            build.onResolve({ filter: new RegExp(defineCssImport.replace('.', '\\\\.')) }, () => ({
                path: 'defineCss',
                namespace: pluginNamespace,
            }));
            build.onLoad({ filter: /defineCss/, namespace: pluginNamespace }, () => ({
                loader: 'js',
                contents: defineCssContent,
            }));
        }
    }
};

module.exports = CssBundlePlugin;
`;var Vt=`const fs = require('fs');
const path = require('path');

function doCopyFile(replacements, from, to, log) {
    if (!replacements) {
        fs.copyFileSync(from, to);
        if (log) {
            console.log(\`Copied \${from} -> \${to}\`);
        }
    } else {
        let content = fs.readFileSync(from).toString('utf8');
        replacements.forEach(({ from, to }) => content = content.replace(new RegExp(from, 'g'), to));
        fs.writeFileSync(to, content);
        if (log) {
            console.log(\`Wrote \${from} -> \${to} with \${replacements.length} replacements\`);
        }
    }
}

module.exports = (options = { assets: [] }) => {
    options.assets.forEach(({ from, to, replacements, extensions }) => {
        if (!fs.existsSync(from)) {
            throw new Error(\`No such file '\${from}'\`);
        }

        if (extensions) { // it is a dir and we want to copy from this dir to "to" dir
            if (!fs.existsSync(to)) {
                fs.mkdirSync(to, { recursive: true });
            }
            const files = fs.readdirSync(from)
                .filter(fn => extensions.some(ext => fn.endsWith(ext)))
                .map(file => {
                    doCopyFile(replacements, path.join(from, file), path.join(to, file), false);
                    return 1;
                })
                .reduce((a, i) => a + i, 0);
            console.log(\`Copied #\${files} files from '\${from}' to '\${to}'\`);
            return;
        }

        if (extensions) {
            throw new Error(\`'extensions' option ignored for files: '\${from}'\`);
        }

        const base = path.dirname(to);
        if (!fs.existsSync(base)) {
            fs.mkdirSync(base, { recursive: true });
        }
        doCopyFile(replacements, from, to, true);
    })
};

`;var ge=(e,n)=>`${e}.${n}`.replace(/-/g,"");var xe=(e,n)=>e.map(t=>t.substring(n)),Kn=["    <!-- Main Dependencies -->","    <junit5.version>5.10.0</junit5.version>"],qn=["    <yupiik-batch.version>1.0.5</yupiik-batch.version>"],Yn=["    <yupiik-logging.version>1.0.8</yupiik-logging.version>"],Gn=["","    <!-- Node/frontend related configuration -->","    <node.environment>production</node.environment>","    <node.version>v18.0.0</node.version>","    <npm.version>8.6.0</npm.version>"],Jt=["      <dependency>","        <groupId>io.yupiik.batch</groupId>","        <artifactId>simple-configuration</artifactId>","        <version>${yupiik-batch.version}</version>","        <exclusions>","          <exclusion>","            <groupId>io.yupiik.logging</groupId>","            <artifactId>yupiik-logging-jul</artifactId>","          </exclusion>","        </exclusions>","      </dependency>"],Zt=["      <dependency>","        <groupId>io.yupiik.batch</groupId>","        <artifactId>yupiik-batch-runtime</artifactId>","        <version>${yupiik-batch.version}</version>","        <exclusions>","          <exclusion>","            <groupId>io.yupiik.logging</groupId>","            <artifactId>yupiik-logging-jul</artifactId>","          </exclusion>","        </exclusions>","      </dependency>"],Kt=["    <yupiik-fusion.version>1.0.18</yupiik-fusion.version>"],Xn=["    <owb.version>2.0.27</owb.version>","    <johnzon.version>1.2.21</johnzon.version>","    <tomcat.version>10.1.24</tomcat.version>","    <xbean.version>4.25</xbean.version>"],qt=["      <dependency> <!-- for the doc -->","        <groupId>io.yupiik.fusion</groupId>","        <artifactId>fusion-documentation</artifactId>","        <version>${yupiik-fusion.version}</version>","        <scope>provided</scope>","      </dependency>"],Yt=["      <dependency> <!-- for the doc -->","        <groupId>io.yupiik.uship</groupId>","        <artifactId>jsonrpc-documentation</artifactId>","        <version>${yupiik-uship.version}</version>","        <scope>provided</scope>","      </dependency>"],Gt=["      <dependency>","        <groupId>io.yupiik.fusion</groupId>","        <artifactId>fusion-build-api</artifactId>","        <version>${yupiik-fusion.version}</version>","        <scope>provided</scope>","      </dependency>","      <dependency>","        <groupId>io.yupiik.fusion</groupId>","        <artifactId>fusion-processor</artifactId>","        <version>${yupiik-fusion.version}</version>","        <scope>provided</scope>","      </dependency>","      <dependency>","        <groupId>io.yupiik.fusion</groupId>","        <artifactId>fusion-jsonrpc</artifactId>","        <version>${yupiik-fusion.version}</version>","      </dependency>"],Xt=["      <dependency>","        <groupId>io.yupiik.uship</groupId>","        <artifactId>jsonrpc-core</artifactId>","        <version>${yupiik-uship.version}</version>","      </dependency>","      <dependency>","        <groupId>org.apache.tomcat</groupId>","        <artifactId>tomcat-catalina</artifactId>","        <version>${tomcat.version}</version>","      </dependency>","      <dependency>","        <groupId>org.apache.johnzon</groupId>","        <artifactId>johnzon-core</artifactId>","        <version>${johnzon.version}</version>","        <exclusions>","          <exclusion>","            <groupId>*</groupId>","            <artifactId>*</artifactId>","          </exclusion>","        </exclusions>","      </dependency>","      <dependency>","        <groupId>org.apache.johnzon</groupId>","        <artifactId>johnzon-mapper</artifactId>","        <version>${johnzon.version}</version>","        <exclusions>","          <exclusion>","            <groupId>*</groupId>","            <artifactId>*</artifactId>","          </exclusion>","        </exclusions>","      </dependency>","      <dependency>","        <groupId>org.apache.johnzon</groupId>","        <artifactId>johnzon-jsonb</artifactId>","        <version>${johnzon.version}</version>","        <exclusions>","          <exclusion>","            <groupId>*</groupId>","            <artifactId>*</artifactId>","          </exclusion>","        </exclusions>","      </dependency>"],Qt=["      <dependency>","        <groupId>io.yupiik.fusion</groupId>","        <artifactId>fusion-testing</artifactId>","        <version>${yupiik-fusion.version}</version>","        <scope>test</scope>","      </dependency>"],en=["      <dependency>","        <groupId>org.apache.openwebbeans</groupId>","        <artifactId>openwebbeans-junit5</artifactId>","        <version>${owb.version}</version>","        <classifier>jakarta</classifier>","        <scope>test</scope>","        <exclusions>","          <exclusion>","            <groupId>*</groupId>","            <artifactId>*</artifactId>","          </exclusion>","        </exclusions>","      </dependency>"],tn=["      <dependency>","        <groupId>io.yupiik.fusion</groupId>","        <artifactId>fusion-kubernetes-client</artifactId>","        <version>${yupiik-fusion.version}</version>","      </dependency>"],nn=["      <dependency>","        <groupId>io.yupiik.uship</groupId>","        <artifactId>kubernetes-client</artifactId>","        <version>${yupiik-uship.version}</version>","      </dependency>"],Qn=["    <yupiik-tools.version>1.2.1</yupiik-tools.version>"],ei=["    <yupiik-bundlebee.version>1.0.27</yupiik-bundlebee.version>"],ti=["    <yupiik-uship.version>1.0.19</yupiik-uship.version>"],ni=e=>["","    <!-- Image related configuration -->",e===21?"    <image.base>azul/zulu-openjdk-alpine:21.0.1@sha256:d45f86fffd7ccd63839d0518f7aa69dd8c8e1703e2c9b6a62dabb813300946cd</image.base>":"    <image.base>ossyupiik/java:17.0.9.1@sha256:a07fca34db597cdf364af84e50a5aefec9b3fc5f88145073f6e0719c85506119</image.base>","    <image.workdir>/opt/applications/${project.artifactId}</image.workdir>","    <image.version>${project.version}</image.version>","    <image.name>${project.artifactId}/${project.artifactId}:${image.version}</image.name>","    <image.registry>${project.artifactId}</image.registry>","    <jib.disableUpdateChecks>true</jib.disableUpdateChecks>"],ii=e=>["    <bundlebee.kube.verbose>false</bundlebee.kube.verbose>","    <bundlebee.namespace>default</bundlebee.namespace>","    <bundlebee.environment>default</bundlebee.environment>",`    <bundlebee.alveolus>${e}</bundlebee.alveolus>`],ri=e=>[...e?["        <executions>","          <execution>","            <id>doc</id>","            <goals>","              <goal>placeholder-extract</goal>","            </goals>","            <phase>compile</phase>","            <configuration>","              <outputType>FILE</outputType>","              <failOnInvalidDescription>true</failOnInvalidDescription>","              <dumpLocation>${project.basedir}/src/main/minisite/content/_partials/generated/deployment</dumpLocation>","              <descriptions>${project.basedir}/src/main/bundlebee/placeholders.descriptions.properties</descriptions>","            </configuration>","          </execution>","        </executions>"]:[],"        <configuration>","          <manifest>${project.basedir}/src/main/bundlebee/manifest.json</manifest>","          <alveolus>${bundlebee.alveolus}</alveolus>","          <mavenRepositoriesDownloadsEnabled>true</mavenRepositoriesDownloadsEnabled>","          <mavenRepositoriesSnapshot>https://oss.sonatype.org/content/repositories/snapshots/</mavenRepositoriesSnapshot>","          <kubeVerbose>${bundlebee.kube.verbose}</kubeVerbose>","          <kubeNamespace>${bundlebee.namespace}</kubeNamespace>","          <skipPackaging>","            <skipPackaging>none</skipPackaging>","          </skipPackaging>","          <customPlaceholders>","            <app.deploytime>${maven.build.timestamp}</app.deploytime>","            <!-- to extract the environment configuration in a file (supports maven placeholders)","            <bundlebee-placeholder-import>${project.basedir}/environment/${bundlebee.environment}.properties</bundlebee-placeholder-import>","            -->","          </customPlaceholders>","        </configuration>"],oi=["    <dependency>","      <groupId>io.yupiik.logging</groupId>","      <artifactId>yupiik-logging-jul</artifactId>","      <version>${yupiik-logging.version}</version>","      <scope>runtime</scope>","    </dependency>"],ai=["    <dependency>","      <groupId>org.junit.jupiter</groupId>","      <artifactId>junit-jupiter</artifactId>","      <version>${junit5.version}</version>","      <scope>test</scope>","    </dependency>"],si=`
<profile> <!--  mvn clean package -Pgh-pages  -->
  <id>gh-pages</id>
  <properties>
    <minisite.serverId>github.com</minisite.serverId>
  </properties>
  <build>
  <plugins>
    <plugin>
      <groupId>io.yupiik.maven</groupId>
      <artifactId>yupiik-tools-maven-plugin</artifactId>
      <executions>
        <execution>
          <id>gh-pages</id>
          <phase>prepare-package</phase>
          <goals>
              <goal>minisite</goal>
          </goals>
          <configuration>
            <git>
              <ignore>false</ignore>
              <noJekyll>true</noJekyll>
              <serverId>\${minisite.serverId}</serverId>
              <branch>refs/heads/gh-pages</branch>
              <url>\${project.scm.url}</url>
            </git>
          </configuration>
        </execution>
      </executions>
    </plugin>
  </plugins>
  </build>
</profile>`.trim().split(`
`),ci=["    <profile>","      <!-- Represents a different docker registry environment (here a Raspberry PI) -->","      <id>pi</id>","      <properties>","        <maven.build.timestamp.format>yyyyMMddHHmmss</maven.build.timestamp.format>","        <jib.allowInsecureRegistries>true</jib.allowInsecureRegistries>","        <pi.base>pi:32000/${project.artifactId}</pi.base>","        <image.base>arm64v8/openjdk:17.0.1-slim-buster@sha256:9f4f3ad2b51467ec9dbb8b780cc82734b02f42a535ccf5f58492eec497f7cf4a</image.base>","        <image.registry>${pi.base}/</image.registry>","        <image.name>${image.registry}${project.artifactId}:${image.version}</image.name>","      </properties>","      <build>","        <plugins>","          <plugin>","            <groupId>com.google.cloud.tools</groupId>","            <artifactId>jib-maven-plugin</artifactId>","            <configuration>","              <from>","                <image>${image.base}</image>","                <platforms>","                  <platform>","                    <os>linux</os>","                    <architecture>arm64</architecture>","                  </platform>","                </platforms>","              </from>","            </configuration>","          </plugin>","        </plugins>","      </build>","    </profile>"],li=["      <!-- ENABLE WHEN PUSHED ON GIT","      <plugin>","        <groupId>io.github.git-commit-id</groupId>","        <artifactId>git-commit-id-maven-plugin</artifactId>","        <version>7.0.0</version>","        <executions>","          <execution>","            <id>get-the-git-infos</id>","            <phase>initialize</phase>","            <goals>","              <goal>revision</goal>","            </goals>","          </execution>","        </executions>","        <configuration>","          <injectAllReactorProjects>true</injectAllReactorProjects>","          <generateGitPropertiesFile>false</generateGitPropertiesFile>","          <dateFormat>yyyy-MM-dd'T'HH:mm:ss'Z'</dateFormat>","          <dateFormatTimeZone>GMT</dateFormatTimeZone>","          <includeOnlyProperties>","            <includeOnlyProperty>^git.branch$</includeOnlyProperty>","            <includeOnlyProperty>^git.remote.origin.url$</includeOnlyProperty>","            <includeOnlyProperty>^git.commit.id$</includeOnlyProperty>","            <includeOnlyProperty>^git.commit.time$</includeOnlyProperty>","          </includeOnlyProperties>","        </configuration>","      </plugin>","      -->"],ui=["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-resources-plugin</artifactId>","        <version>3.3.1</version>","        <configuration>","          <encoding>UTF-8</encoding>","        </configuration>","      </plugin>"],pi=["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-clean-plugin</artifactId>","        <version>3.3.2</version>","      </plugin>"],di=["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-install-plugin</artifactId>","        <version>3.1.1</version>","      </plugin>"],fi=e=>["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-compiler-plugin</artifactId>","        <version>3.11.0</version>",...e.nav.javaVersion===21?["        <executions>","          <execution>","            <id>default-process-annotations</id>","            <goals>","              <goal>compile</goal>","            </goals>","            <phase>generate-sources</phase>","            <configuration>","              <proc>only</proc>","              <useIncrementalCompilation>true</useIncrementalCompilation>","            </configuration>","          </execution>","          <execution>","            <id>default-test-process-annotations</id>","            <goals>","              <goal>testCompile</goal>","            </goals>","            <phase>generate-test-sources</phase>","            <configuration>","              <proc>only</proc>","              <useIncrementalCompilation>true</useIncrementalCompilation>","            </configuration>","          </execution>","        </executions>"]:[],"        <configuration>",`          <source>${e.nav.javaVersion}</source>`,`          <target>${e.nav.javaVersion}</target>`,`          <release>${e.nav.javaVersion}</release>`,"          <encoding>UTF-8</encoding>",...e.nav.javaVersion===21?["          <proc>none</proc>","          <useIncrementalCompilation>false</useIncrementalCompilation>","          <annotationProcessors>","            <annotationProcessor>io.yupiik.fusion.framework.processor.FusionProcessor</annotationProcessor>","          </annotationProcessors>"]:[],"          <compilerArgs>","            <compilerArg>-parameters</compilerArg>","          </compilerArgs>","        </configuration>","      </plugin>"],hi=["      <plugin> <!--  mvn ossindex:audit -->","        <groupId>org.sonatype.ossindex.maven</groupId>","        <artifactId>ossindex-maven-plugin</artifactId>","        <version>3.1.0</version>","        <configuration>","          <scope>compile,runtime</scope>","        </configuration>","      </plugin>"],mi=(e,n,t,r,a)=>["      <plugin>","        <groupId>com.google.cloud.tools</groupId>","        <artifactId>jib-maven-plugin</artifactId>","        <version>3.4.0</version>","        <!--","        mvn package jib:build [-Dimage.registry=...] -> will be pushed","        mvn package jib:dockerBuild -> local docker image","        -->","        <configuration>","          <containerizingMode>packaged</containerizingMode>","          <from>","            <image>${image.base}</image>","          </from>","          <to>","            <image>${image.name}</image>","          </to>",...e&&n?["          <extraDirectories>",'            <paths combine.children="append">',"              <path>","                <from>${project.build.outputDirectory}/META-INF/resources</from>","                <into>${image.workdir}/docs</into>","              </path>","            </paths>","          </extraDirectories>"]:[],"          <container>",`            <mainClass>${t?a?"io.yupiik.fusion.framework.api.main.Launcher":"org.apache.openwebbeans.se.CDILauncher":r||"OVERRIDEN_IN_CHILD"}</mainClass>`,...!a&&(t||n)?["            <args>","              <arg>--openwebbeans.main</arg>","              <arg>uShipTomcatAwait</arg>","            </args>"]:[],"            <appRoot>${image.workdir}</appRoot>","            <workingDirectory>${image.workdir}</workingDirectory>","            <extraClasspath>${image.workdir}/custom/*:${image.workdir}/custom</extraClasspath>","            <creationTime>USE_CURRENT_TIMESTAMP</creationTime>","            <jvmFlags>","              <jvmFlag>-Djava.util.logging.manager=io.yupiik.logging.jul.YupiikLogManager</jvmFlag>","              <jvmFlag>-Dio.yupiik.logging.jul.handler.AsyncHandler.formatter=json</jvmFlag>","              <jvmFlag>-Djava.security.egd=file:/dev/./urandom</jvmFlag>","              <jvmFlag>-Djdk.serialFilter=!*</jvmFlag>","              <jvmFlag>-Djdk.jndi.object.factoriesFilter=!*</jvmFlag>","              <jvmFlag>-Dcom.sun.jndi.ldap.object.trustSerialData=false</jvmFlag>","            </jvmFlags>","            <labels>","              <!-- ENABLE WHEN PUSHED ON GIT if you want these info in the attributes","              <org.opencontainers.image.revision>${git.commit.id}</org.opencontainers.image.revision>","              <org.opencontainers.image.ref.name>${git.branch}</org.opencontainers.image.ref.name>","              <org.opencontainers.image.source>${git.remote.origin.url}</org.opencontainers.image.source>","              <org.opencontainers.image.url>${project.scm.url}</org.opencontainers.image.url>","              <org.opencontainers.image.documentation>${project.parent.parent.scm.url}</org.opencontainers.image.documentation>","              -->","              <org.opencontainers.image.created>${maven.build.timestamp}</org.opencontainers.image.created>","              <org.opencontainers.image.authors>${project.artifactId}</org.opencontainers.image.authors>","              <org.opencontainers.image.vendor>${project.artifactId}</org.opencontainers.image.vendor>","              <org.opencontainers.image.title>${project.artifactId}</org.opencontainers.image.title>","              <org.opencontainers.image.description>${project.description}</org.opencontainers.image.description>","              <org.opencontainers.image.version>${project.version}</org.opencontainers.image.version>","              <com.application.params>_JAVA_OPTIONS=...</com.application.params>","              <com.application.cmd>docker run ${image.name} &lt;args&gt;</com.application.cmd>","            </labels>","          </container>","          <outputPaths>","            <imageJson>${project.build.directory}/jib-image.json</imageJson>","          </outputPaths>","        </configuration>","      </plugin>"],gi=(e,n,t,r,a)=>["        <configuration>","          <siteBase>https://${project.groupId}.github.io/${project.artifactId}</siteBase>","          <logoText>${project.artifactId}</logoText>","          <indexText>${project.artifactId}</indexText>","          <copyright>${project.artifactId}</copyright>","          <linkedInCompany>${project.artifactId}</linkedInCompany>","          <indexSubTitle>${project.description}</indexSubTitle>","          <injectYupiikTemplateExtensionPoints>false</injectYupiikTemplateExtensionPoints>","          <preferYupiikAsciidoc>true</preferYupiikAsciidoc>","          <preActions>",...!n||r?["            <preAction>",`              <type>${e}.build.ConfigurationGenerator</type>`,"            </preAction>"]:[],...n?["            <preAction>","              <type>io.yupiik.fusion.documentation.DocumentationGenerator</type>","              <configuration>","                <includeEnvironmentNames>true</includeEnvironmentNames>","                <module>${project.artifactId}</module>","                <urls>file://${project.build.outputDirectory}/META-INF/fusion/configuration/documentation.json</urls>","              </configuration>","            </preAction>",...t?["            <preAction>","              <type>io.yupiik.fusion.documentation.OpenRpcGenerator</type>","              <configuration>","                <output>${project.basedir}/src/main/minisite/content/_partials/generated/${artifactId}.openrpc.json</output>","                <title>${artifactId} API</title>","              </configuration>","            </preAction>","            <preAction>","              <type>io.yupiik.fusion.documentation.OpenRPC2Adoc</type>","              <configuration>","                <input>${project.build.outputDirectory}/META-INF/fusion/jsonrpc/openrpc.json</input>","                <output>${project.basedir}/src/main/minisite/content/_partials/generated/${artifactId}.openrpc.adoc</output>","              </configuration>","            </preAction>"]:[]]:[],...a?["            <preAction>","              <type>copy</type>","              <configuration>","                <from>${project.basedir}/src/main/minisite/content/_partials/generated/deployment/placeholders.completion.properties</from>","                <to>${project.build.directory}/${project.build.finalName}/completion/placeholders.completion.properties</to>","              </configuration>","            </preAction>"]:[],"          </preActions>","          <customScripts>","          <![CDATA[[","          <script>","          $(document).ready(function(){","            function filterTables() {","              $('input[table-filter]').on('keyup', function () {","                var input = $(this);","                var value = input.val().toLowerCase();","                $('table.' + input.attr('table-filter') + ' tr').filter(function () {","                  $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);","                });","              });","            }","","            filterTables();","          });","          <\/script>","          ]]>","          </customScripts>","          <attributes>","            <partialsdir>${project.basedir}/src/main/minisite/content/_partials</partialsdir>","            <!-- ENABLE WHEN PUSHED ON GIT if you want these info in the attributes","            <gitCommitId>${git.commit.id}</gitCommitId>","            <gitBranch>${git.branch}</gitBranch>","            <gitTime>${git.commit.time}</gitTime>","            -->","          </attributes>","        </configuration>","        <dependencies>","          <dependency>","            <groupId>io.yupiik.maven</groupId>","            <artifactId>asciidoc-java</artifactId>","            <version>${yupiik-tools.version}</version>","          </dependency>","        </dependencies>"],bi=e=>["        <executions>","          <execution>","            <id>install-node-npm</id>","            <phase>generate-resources</phase>","            <goals>","              <goal>install-node-and-npm</goal>","            </goals>","            <configuration>",`              <installDirectory>\${project.basedir}/${e?"src/main/frontend/":""}.node</installDirectory>`,"              <nodeVersion>${node.version}</nodeVersion>","              <npmVersion>${npm.version}</npmVersion>","            </configuration>","          </execution>","          <execution>","            <id>npm-install</id>","            <phase>process-classes</phase>","            <goals>","              <goal>npm</goal>","            </goals>","          </execution>","          <execution>","            <id>npm-build</id>","            <phase>process-classes</phase>","            <goals>","              <goal>npm</goal>","            </goals>","            <configuration>","              <arguments>run build</arguments>","              <environmentVariables>","                <PROJECT_VERSION>${project.version}</PROJECT_VERSION>","                <BUILD_DATE>${maven.build.timestamp}</BUILD_DATE>","                <NODE_ENV>${node.environment}</NODE_ENV>","              </environmentVariables>","            </configuration>","          </execution>","        </executions>","        <configuration>",`          <installDirectory>\${project.basedir}/${e?"src/main/frontend/":""}.node</installDirectory>`,`          <workingDirectory>\${project.basedir}${e?"/src/main/frontend/":""}</workingDirectory>`,"        </configuration>"],vi=["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-jar-plugin</artifactId>","        <version>3.3.0</version>","        <configuration>","          <excludes>","            <exclude>**/.keepit</exclude>","            <exclude>**/build/**</exclude>","          </excludes>",'          <archive combine.children="append">',"            <manifestEntries>","              <App-Build-Timestamp>${maven.build.timestamp}</App-Build-Timestamp>","            </manifestEntries>","          </archive>","        </configuration>","      </plugin>"],_i=["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-release-plugin</artifactId>","        <version>3.0.0-M1</version>","        <configuration>","          <releaseProfiles>release</releaseProfiles>","          <autoVersionSubmodules>true</autoVersionSubmodules>","        </configuration>","      </plugin>"],yi=["      <plugin>","        <groupId>org.apache.maven.plugins</groupId>","        <artifactId>maven-surefire-plugin</artifactId>","        <version>3.2.3</version>","        <configuration>","          <trimStackTrace>false</trimStackTrace>",'          <statelessTestsetInfoReporter implementation="org.apache.maven.plugin.surefire.extensions.junit5.JUnit5StatelessTestsetInfoTreeReporter"/>',"          <systemPropertyVariables>","            <java.net.preferIPv4Stack>true</java.net.preferIPv4Stack>","            <java.util.logging.manager>io.yupiik.logging.jul.YupiikLogManager</java.util.logging.manager>","          </systemPropertyVariables>","        </configuration>","        <dependencies>","          <dependency>","            <groupId>me.fabriciorby</groupId>","            <artifactId>maven-surefire-junit5-tree-reporter</artifactId>","            <version>0.1.0</version>","          </dependency>","        </dependencies>","      </plugin>"],ki=e=>["  <!-- ENABLE WHEN PUSHED ON GIT","  <scm>","    <tag>HEAD</tag>",`    <url>https://github.com/${e.nav.artifactId}/${e.nav.artifactId}.git</url>`,`    <developerConnection>scm:git:git@github.com:${e.nav.artifactId}/${e.nav.artifactId}.git</developerConnection>`,`    <connection>scm:git:git@github.com:${e.nav.artifactId}/${e.nav.artifactId}.git</connection>`,"  </scm>","  -->"],rn=e=>{let n=Xe(e.features),t=Qe(n),r=n.filter(d=>d.key=="frontend").length==1,a=e.features.jib.enabled||e.features.github.enabled&&e.features.documentation.enabled,i=(e.features.jsonRpc.switchValues.filter(d=>d.enabled).map(d=>d.name)[0]||"useFusion")==="useFusion";return['<?xml version="1.0" encoding="UTF-8"?>','<project xmlns="http://maven.apache.org/POM/4.0.0"','         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">',"","  <modelVersion>4.0.0</modelVersion>","",`  <groupId>${e.nav.groupId}</groupId>`,`  <artifactId>${e.nav.artifactId}${t?"":"-parent"}</artifactId>`,`  <version>${e.nav.version}</version>`,...t?[]:["  <packaging>pom</packaging>"],`  <name>${e.nav.artifactId}</name>`,`  <description>${e.nav.artifactId}</description>`,"","  <properties>",...Kn,...e.features.jsonRpc.enabled?i?Kt:Xn:[],...i||!e.features.jsonRpc.enabled&&!e.features.kubernetesClient.enabled?[]:i?Kt:ti,...e.features.documentation.enabled?Qn:[],...e.features.bundlebee.enabled?ei:[],...!i||e.features.batch.enabled?qn:[],...Yn,...e.features.frontend.enabled?Gn:[],...e.features.jib.enabled?ni(e.nav.javaVersion):[],...!e.features.jib.enabled||!e.features.bundlebee.enabled?[]:ii(e.nav.artifactId),"  </properties>","",...t?[]:["  <modules>",...e.features.batch.enabled?[`    <module>${e.nav.artifactId}-batch${e.features.batch.useParent?"-parent":""}</module>`]:[],...e.features.jsonRpc.enabled?[`    <module>${e.nav.artifactId}-jsonrpc${e.features.jsonRpc.useParent?"-parent":""}</module>`]:[],...e.features.frontend.enabled?[`    <module>${e.nav.artifactId}-frontend${e.features.frontend.useParent?"-parent":""}</module>`]:[],...e.features.bundlebee.enabled?[`    <module>${e.nav.artifactId}-bundlebee</module>`]:[],...e.features.documentation.enabled?[`    <module>${e.nav.artifactId}-documentation</module>`]:[],"  </modules>",""],...a?["  <profiles>"]:[],...!e.features.documentation.enabled||!e.features.github.enabled?[]:si,...e.features.jib.enabled?ci:[],...a?["  </profiles>"]:[],...t?[]:["  <dependencyManagement>","    <dependencies>",...e.features.jsonRpc.enabled&&e.features.documentation.enabled?i?qt:Yt:[],...e.features.jsonRpc.enabled?i?Gt:Xt:[],...i?[]:Jt,...e.features.batch.enabled?Zt:[],...e.features.kubernetesClient.enabled?i?tn:nn:[],"","    <!-- Test dependencies -->",...e.features.jsonRpc.enabled?i?Qt:en:[],"    </dependencies>","  </dependencyManagement>",""],"  <dependencies>",...oi,...t?[...e.features.jsonRpc.enabled&&e.features.documentation.enabled?xe(i?qt:Yt,2):[],...e.features.jsonRpc.enabled?xe(i?Gt:Xt,2):[],...i&&!e.features.batch.enabled?[]:xe(Jt,2),...e.features.batch.enabled?xe(Zt,2):[],...e.features.kubernetesClient.enabled?xe(i?tn:nn,2):[]]:[],"","    <!-- Test dependencies -->",...ai,...t?[...e.features.jsonRpc.enabled?xe(i?Qt:en,2):[]]:[],"  </dependencies>","",...ki(e),"","  <build>","    <plugins>",...li,...e.features.documentation.enabled?["      <plugin> <!-- mvn [compile] yupiik-tools:serve-minisite -e [-Dyupiik.minisite.openBrowser=false] -->","        <groupId>io.yupiik.maven</groupId>","        <artifactId>yupiik-tools-maven-plugin</artifactId>","        <version>${yupiik-tools.version}</version>",...t?gi(ge(e.nav.groupId,e.nav.artifactId),i,e.features.jsonRpc.enabled,e.features.batch.enabled,e.features.bundlebee.enabled):[],"      </plugin>"]:[],...e.features.bundlebee.enabled?["      <plugin> <!-- mvn bundlebee:apply [-D....] -->","        <groupId>io.yupiik</groupId>","        <artifactId>bundlebee-maven-plugin</artifactId>","        <version>${yupiik-bundlebee.version}</version>",...t?ri(e.features.documentation.enabled):[],"      </plugin>"]:[],...e.features.frontend.enabled?["      <plugin>","        <groupId>com.github.eirslett</groupId>","        <artifactId>frontend-maven-plugin</artifactId>","        <version>1.15.0</version>",...t?bi(t):[],"      </plugin>"]:[],...e.features.jib.enabled?mi(t,r,e.features.jsonRpc.enabled,e.features.batch.enabled&&!e.features.jsonRpc.enabled?`${ge(e.nav.groupId,e.nav.artifactId)}.batch.SimpleBatch`:void 0,i):[],...pi,...ui,...fi(e),...yi,...vi,...di,..._i,...hi,"    </plugins>","  </build>","</project>",""].join(`
`)};var Te=e=>(e.switchValues.filter(n=>n.enabled).map(n=>n.name)[0]||"useFusion")==="useFusion",re=(e,n,t)=>{let r=n.split("/"),a=e;for(let i of r){let s=a.filter(m=>m.name==i);if(s.length==1){a=s[0].children;continue}let d={id:t(),name:i,children:[]};a.push(d),a=d.children}return a},Re=(e,n,t,r)=>{let a=ge(t,r).replace(/\./g,"/");return{main:re(e,`src/main/java/${a}`,n),test:re(e,`src/test/java/${a}`,n)}},wi=(e,n,t,r,a,i)=>{let{main:s,test:d}=Re(e,r,n,t),m=ge(n,t),b=re(s,"batch",r);i.push("The batch is composed of two main entry points:"),i.push(""),i.push("* Its configuration: `BatchConfiguration`,"),i.push("* Its implementation: `SimpleBatch`."),i.push(""),i.push("`SimpleBatch` owns - in this generated implementation - the batch launcher (`main`) too."),i.push("It will be responsible to instantiate the configuration (from the environment) and execute the batch."),i.push(""),i.push("`doRun` method of `SimpleBatch` define the batch pipeline and rest of its code sets up the execution from the configuration."),i.push(""),i.push("Finally, `SimpleBatchTest` is a skeleton to write a test for the batch."),i.push(""),i.push("TIP: in this mode, the tracer relies on a database but the generator does not bring h2 or any database by default to let you pick the one you prefer."),i.push("Ensure to add one if you want to enable the tracer in tests - or at runtime."),i.push(""),b.push({id:r(),name:"BatchConfiguration.java",content:[`package ${m}.batch;`,"","import io.yupiik.batch.runtime.configuration.Param;","import io.yupiik.batch.runtime.sql.DataSourceConfiguration;","","// hosts the batch configuration and is injected when the batch is launched","public class BatchConfiguration {",'    @Param(description = "If `true` will skip the execution.")',"    private boolean skip;","",'    @Param(description = "If `true` will skip the tracing of the execution (nothing written in the database).")',"    private boolean skipTracing = true;","",'    @Param(name = "tracing-datasource", description = "Tracing database.")',"    private DataSourceConfiguration tracingDatasource = new DataSourceConfiguration();","","    public boolean isSkip() {","        return skip;","    }","","    public BatchConfiguration setSkip(final boolean skip) {","        this.skip = skip;","        return this;","    }","","    public boolean isSkipTracing() {","        return skipTracing;","    }","","    public BatchConfiguration setSkipTracing(final boolean skip) {","        this.skipTracing = skip;","        return this;","    }","","    public DataSourceConfiguration getTracingDatasource() {","        return tracingDatasource;","    }","","    public BatchConfiguration setTracingDatasource(final DataSourceConfiguration tracingDatasource) {","        this.tracingDatasource = tracingDatasource;","        return this;","    }","}",""].join(`
`)}),b.push({id:r(),name:"FetchData.java",content:[`package ${m}.batch;`,"","import io.yupiik.batch.runtime.fn.CommentifiableFunction;","","public class FetchData implements CommentifiableFunction<Void, InitialData> {","    private final StringBuilder comment = new StringBuilder();","","    @Override","    public InitialData apply(final Void ignored) {","        return new InitialData(); // TODO","    }","","    @Override","    public String toComment() {","        return comment.toString();","    }","}",""].join(`
`)}),b.push({id:r(),name:"InitialData.java",content:[`package ${m}.batch;`,"","public class InitialData {","}",""].join(`
`)}),b.push({id:r(),name:"SimpleBatch.java",content:[`package ${m}.batch;`,"","import io.yupiik.batch.runtime.batch.Batch;","import io.yupiik.batch.runtime.batch.BatchMeta;","import io.yupiik.batch.runtime.batch.builder.Executable;","import io.yupiik.batch.runtime.batch.builder.RunConfiguration;","import io.yupiik.batch.runtime.sql.SQLSupplier;","import io.yupiik.batch.runtime.tracing.BaseExecutionTracer;","import io.yupiik.batch.runtime.tracing.ExecutionTracer;","import java.sql.Connection;","import java.time.Clock;","import java.time.Instant;","import java.time.LocalDateTime;","import java.util.List;","import java.util.UUID;","import java.util.logging.Logger;","","import static java.time.Clock.systemUTC;","import static java.util.logging.Level.SEVERE;","","// see https://yupiik.github.io/yupiik-batch/write-your-first-batch.html#_reusable_batch_components","// to implement doRun()",'@BatchMeta(description = "Sample generated batch.")',"public class SimpleBatch implements Batch<BatchConfiguration> {","    public static void main(final String... args) {","        Batch.run(SimpleBatch.class, args);","    }","",'    // this is the batch "pipeline", it is where you will add your steps',"    private void doRun() {","        from()",'            .map("Fetch Batch Data", new FetchData());',"    }","","    @Override","    public void accept(final BatchConfiguration configuration) {","        final var clock = systemUTC();","        final var batchClass = getClass();","        final var startInstant = clock.instant();","        final var start = LocalDateTime.ofInstant(startInstant, clock.getZone());","        final var tracer = new SimpleTracer(","            configuration.getTracingDatasource().toConnectionProvider(),","            batchClass.getSimpleName(), clock, configuration.isSkipTracing());","        final var logger = Logger.getLogger(batchClass.getName());","        if (configuration.isSkip()) {",'            logger.warning("Batch execution is skipped");',"            tracer.save(","                new BaseExecutionTracer.JobExecution(","                    UUID.randomUUID().toString(), batchClass.getSimpleName(),",'                    BaseExecutionTracer.Status.FAILURE, "Batch skipped.",',"                    start,","                    start.plusSeconds(1)),","                List.of());","            return;","        }","","        final var runConfiguration = new RunConfiguration();","        runConfiguration.setExecutionWrapper(tracer::traceExecution);","        runConfiguration.setElementExecutionWrapper(e -> (c, r) -> {","            try {","                return Executable.Result.class.cast(tracer.traceStep(c, e, r));","            } catch (final RuntimeException re) {","                logger.log(SEVERE, re, re::getMessage);","                throw re;","            }","        });","","        final var shutdownHook = createShutdownHook(batchClass, clock, startInstant, tracer);",'        logger.info(() -> "Starting batch " + batchClass.getSimpleName());',"        try {","            doRun();","        } finally {","            try {","                Runtime.getRuntime().removeShutdownHook(shutdownHook);","            } catch (final IllegalStateException ise) {","                // no-op","            }","            final var end = clock.instant();","            final var duration = end.minusMillis(startInstant.toEpochMilli()).toEpochMilli();",'            logger.info(() -> "" +','                "Batch " + batchClass.getSimpleName() +','                " ended in " + duration + "ms");',"        }","    }","","    private Thread createShutdownHook(final Class<?> batchClass, final Clock clock,","                                      final Instant start, final SimpleTracer tracer) {","        final var shutdownHook = new Thread(() -> {","            if (tracer.isAlreadySaved()) {","                return;","            }","","            final var end = clock.instant();","            final var duration = end.minusMillis(start.toEpochMilli()).toEpochMilli();","","            final var startDate = LocalDateTime.ofInstant(start, clock.getZone());","            tracer.save(","                    new BaseExecutionTracer.JobExecution(","                            UUID.randomUUID().toString(), batchClass.getSimpleName(),","                            BaseExecutionTracer.Status.FAILURE,",'                            "Batch was cancelled (shutdown hook fallback).", // deadline exceeded in general',"                            startDate,","                            duration <= 0 ? startDate : LocalDateTime.ofInstant(end, clock.getZone())),","                    List.of());",'        }, getClass().getName() + "-shutdownhook");',"        final var runtime = Runtime.getRuntime();","        runtime.addShutdownHook(shutdownHook);","        return shutdownHook;","    }","","    private static class SimpleTracer extends ExecutionTracer {","        private final boolean skip;","","        public SimpleTracer(","                final SQLSupplier<Connection> connectionSQLSupplier,","                final String name, final Clock clock, final boolean skip) {","            super(connectionSQLSupplier, name, clock);","            this.skip = skip;","        }","","        @Override","        public synchronized void save(final JobExecution job, final List<StepExecution> steps) {","            if (!skip) {","                super.save(job, steps);","            }","        }","    }","}",""].join(`
`)}),re(d,"batch",r).push({id:r(),name:"SimpleBatchTest.java",content:[`package ${m}.batch;`,"","import org.junit.jupiter.api.Test;","","class SimpleBatchTest {","    @Test","    void run() {","        final var configuration = new BatchConfiguration();","        configuration.setSkipTracing(true /* enable and set up a database (h2) if needed */);","","        // run itself","        // TIP: if you use diff logic, run it twice","        //      to ensure there is no diff the 2nd time","        new SimpleBatch().accept(configuration);","","        // todo: asserts","    }","}",""].join(`
`)})},et=(e,n)=>["{",'  "apiVersion": "v1",','  "kind": "ConfigMap",','  "metadata": {',`    "name": "${e}",`,'    "labels": {',`      "app": "${e}",`,'      "deploy.by":"{{user.name:-unknown}}"',"    }","  },",'  "data":{','    "APPLICATION_ENVIRONMENT":"{{bundlebee.environment:-default}}",','    "_DEPLOY_TIME":"{{app.deploytime:-unset}}"'+(n?",":""),...n||[],"  }","}"].join(`
`),on=e=>["{",'  "apiVersion": "v1",','  "kind": "Service",','  "metadata": {',`    "name": "${e}",`,'    "labels": {',`      "app": "${e}",`,'      "deploy.by":"{{user.name:-unknown}}"',"    }","  },",'  "spec":{','    "type": "NodePort",','    "selector": {',`      "app": "${e}"`,"    },",'    "ports": [',"      {",'        "protocol": "TCP",','        "port": 8080,','        "targetPort": 8080',"      }","    ]","  }","}"].join(`
`),an=['            "args": [','              "--openwebbeans.main",','              "uShipTomcatAwait"',"            ],"],sn=(e,n,t,r,a,i,s)=>["{",'  "apiVersion": "apps/v1",','  "kind": "Deployment",','  "metadata": {',`    "name": "${n}",`,'    "labels": {',`      "app": "${n}",`,'      "deploy.by":"{{user.name:-unknown}}"',"    }","  },",'  "spec": {','    "selector": {','      "matchLabels": {',`        "app": "${n}"`,"      }","    },",'    "template": {','      "metadata": {','        "labels": {',`          "app": "${n}",`,'          "deploy.by":"{{user.name:-unknown}}",','          "deploy.at":"{{app.deploytime:-unset}}",','          "app.environment":"{{bundlebee.environment}}"',"        }","      },",'      "spec": {','        "containers": [',"          {",`            "name": "${n}",`,`            "image":"{{image.registry}}/${t}:{{project.version}}",`,'            "imagePullPolicy": "{{image.pullPolicy:-IfNotPresent}}",',...e?['            "command": [','              "java",','              "-Djava.util.logging.manager=io.yupiik.logging.jul.YupiikLogManager",','              "-Dio.yupiik.logging.jul.handler.StandardHandler.formatter=json",','              "-Djava.security.egd=file:/dev/./urandom",',...s.map(d=>`              "${d}",`),'              "-cp",',`              "@/opt/applications/${t}/jib-classpath-file",`,`              "${r}"`,"            ],"]:[],...a,'            "env": [',"              {",'                "name": "K8S_POD_NAME",','                "valueFrom": {','                  "fieldRef": {','                    "fieldPath":"metadata.name"',"                  }","                }","              },","              {",'                "name": "K8S_POD_NAMESPACE",','                "valueFrom": {','                  "fieldRef": {','                    "fieldPath":"metadata.namespace"',"                  }","                }","              }","            ],",'            "envFrom": [',"              {",'                "configMapRef": {',`                  "name": "${n}"`,"                }","              }","            ]"+(i?",":""),...i?['            "ports": [',"              {",'                "containerPort": 8080',"              }","            ],",'            "readinessProbe": {','              "initialDelaySeconds": 3,','              "periodSeconds": 3,','              "failureThreshold": 10,','              "httpGet": {','                "path": "/health?ready",','                "port": 8080,','                "httpHeaders": [',"                  {",'                    "name": "Health-Key",','                    "value": "{{bundlebee.probes.health.key:-changeit}}"',"                  }","                ]","              }","            },",'            "livenessProbe": {','              "initialDelaySeconds": 3,','              "periodSeconds": 3,','              "failureThreshold": 10,','              "httpGet": {','                "path": "/health?live",','                "port": 8080,','                "httpHeaders": [',"                  {",'                    "name": "Health-Key",','                    "value": "{{bundlebee.probes.health.key:-changeit}}"',"                  }","                ]","              }","            }"]:[],"          }","        ]","      }","    },",`    "replicas": {{bundlebee.deployments.${n}.replicas:-1}}`,"  }","}"].join(`
`),ji=(e,n,t,r,a,i,s,d)=>{s.push("Bundlebee enables you to automate the deployment of your application in Kubernetes."),s.push(""),s.push("Generator creates a basic recipe in `manifest.json` for your application."),s.push(`it has one per type of deployment (a \`Deployment\` for a JSON-RPC server, a \`CronJob\` for a batch for example) and one "all in one" called ${t}`),s.push(""),s.push("You can deploy your application using: `mvn bundlebee:apply`."),s.push("");let m=ge(n,t),b=i?re(e,"src/main",r):e,u=re(b,"bundlebee",r),p=a("jsonRpc"),h=a("batch"),v=a("frontend"),l=t,f=["app.deploytime = Label with the deployment time injected. Using maven setup it uses `maven.build.timestamp` property.","bundlebee.environment = Label hosting the environment name (can enable to identify deployment errors).","image.pullPolicy = Deployment image pull policy (if image is moving - `snapshot` or `latest`, ensure to set it to `Always`).","image.registry = Base image registry to pull the image from.","project.version = Deployment version - injected in a label.","user.name = Deployment user - injected in a label."];(p||v)&&f.push("bundlebee.probes.health.key = Health probe security key value."),u.push({id:r(),name:"manifest.json",content:["{",'  "alveoli": [',[["    {",`      "name": "${l}",`,'      "dependencies": [',[p?["        {",`          "name": "${l}-jsonrpc-server"`,"        }"].join(`
`):"",h?["        {",`          "name": "${l}-batch"`,"        }"].join(`
`):"",v?["        {",`          "name": "${l}-frontend"`,"        }"].join(`
`):""].filter(k=>k.length>0).join(`,
`),"      ]","    }"].join(`
`),p?["    {",`      "name": "${l}-jsonrpc-server",`,'      "descriptors": [',"        {",`          "name": "${n}/${t}/jsonrpc-server/configmap.json",`,'          "interpolate": true',"        },","        {",`          "name": "${n}/${t}/jsonrpc-server/deployment.json",`,'          "interpolate": true',"        },","        {",`          "name": "${n}/${t}/jsonrpc-server/service.json",`,'          "interpolate": true',"        }","      ]","    }"].join(`
`):"",h?["    {",`      "name": "${l}-batch",`,'      "descriptors": [',"        {",`          "name": "${n}/${t}/batch/configmap.json",`,'          "interpolate": true',"        },","        {",`          "name": "${n}/${t}/batch/cronjob.json",`,'          "interpolate": true',"        }","      ]","    }"].join(`
`):"",v?["    {",`      "name": "${l}-frontend",`,'      "descriptors": [',"        {",`          "name": "${n}/${t}/frontend/configmap.json",`,'          "interpolate": true',"        },","        {",`          "name": "${n}/${t}/frontend/deployment.json",`,'          "interpolate": true',"        },","        {",`          "name": "${n}/${t}/frontend/service.json",`,'          "interpolate": true',"        }","      ]","    }"].join(`
`):""].filter(k=>k.length>0).join(`,
`),"  ]","}"].join(`
`)});let g=re(u,`kubernetes/${n}/${t}`,r);if(v){let k=re(g,"frontend",r),C=`${t}-frontend`;s.push(`\`kubernetes/${n}/${t}/frontend/configmap.json\` contains the frontend server configuration in the data map (matches \`ApplicationConfiguration\`).`),s.push("By default it forwards the environment and deploy time only (can be used with stakater reloader to restart the dpeloyment for example)."),s.push(""),s.push(`\`kubernetes/${n}/${t}/frontend/deployment.json\` contains the frontend server deployment.`),s.push(`It uses placeholders like \`bundlebee.deployments.${C}.replicas\` you can force on the command line ot override the default (1).`),s.push(""),k.push({id:r(),name:"configmap.json",content:et(C)}),k.push({id:r(),name:"service.json",content:on(C)}),k.push({id:r(),name:"deployment.json",content:sn(i,C,t,d?"io.yupiik.fusion.framework.api.main.Launcher":"org.apache.openwebbeans.se.CDILauncher",d?[]:an,!1,[`-D${t}-resources-docBase=/opt/applications/${t}/docs`])}),f.push(`bundlebee.deployments.${C}.replicas`)}if(p){let k=re(g,"jsonrpc-server",r),C=`${t}-jsonrpc-server`;s.push(`\`kubernetes/${n}/${t}/jsonrpc-server/configmap.json\` contains the JSON-RPC server configuration in the data map (matches \`ApplicationConfiguration\`).`),s.push("By default it forwards the environment and deploy time only (can be used with stakater reloader to restart the dpeloyment for example)."),s.push(""),s.push(`\`kubernetes/${n}/${t}/jsonrpc-server/deployment.json\` contains the JSON-RPC server deployment.`),s.push(`It uses placeholders like \`bundlebee.deployments.${C}.replicas\` you can force on the command line ot override the default (1).`),s.push(""),k.push({id:r(),name:"configmap.json",content:et(C)}),k.push({id:r(),name:"service.json",content:on(C)}),k.push({id:r(),name:"deployment.json",content:sn(i,C,t,d?"io.yupiik.fusion.framework.api.main.Launcher":"org.apache.openwebbeans.se.CDILauncher",d?[]:an,!0,[])}),f.push(`bundlebee.deployments.${C}.replicas`)}if(h){let k=re(g,"batch",r),C=`${t}-batch`;s.push(`\`kubernetes/${n}/${t}/batch/configmap.json\` contains the batch configuration in the data map (matches \`BatchConfiguration\`).`),s.push(""),s.push(`\`kubernetes/${n}/${t}/batch/cronjob.json\` contains the cron job to launch your batch (by default set to \`@yearly\` to not run unexpetedly).`),s.push(""),k.push({id:r(),name:"configmap.json",content:et(C,[`    "SIMPLEBATCH_SKIPTRACING":"{{bundlebee.cronjob.${t}.configuration.skipTracing:-true}}",`,`    "SIMPLEBATCH_TRACING_DATASOURCE_DRIVER":"{{bundlebee.cronjob.${t}.configuration.driver:-TBD}}",`,`    "SIMPLEBATCH_TRACING_DATASOURCE_URL":"{{bundlebee.cronjob.${t}.configuration.url:-TBD}}",`,`    "SIMPLEBATCH_TRACING_DATASOURCE_USERNAME":"{{bundlebee.cronjob.${t}.configuration.username:-TBD}}",`,`    "SIMPLEBATCH_TRACING_DATASOURCE_PASSWORD":"{{bundlebee.cronjob.${t}.configuration.password:-TBD}}"`])}),k.push({id:r(),name:"cronjob.json",content:["{",'  "apiVersion": "batch/v1",','  "kind": "CronJob",','  "metadata": {',`    "name": "${C}",`,'    "labels": {',`      "app": "${C}",`,'      "deploy.by":"{{user.name:-unknown}}"',"    }","  },",'  "spec":{','    "jobTemplate":{','      "spec":{','        "backoffLimit":1,','        "activeDeadlineSeconds":720,','        "template":{','          "metadata":{','            "labels":{',`              "app": "${C}",`,'              "deploy.by":"{{user.name:-unknown}}",','              "deploy.at":"{{app.deploytime:-unset}}",','              "app.environment":"{{bundlebee.environment}}"',"            }","          },",'          "spec":{','            "restartPolicy":"Never",','            "containers": [',"              {",`                "app": "${C}",`,`                "image":"{{image.registry}}/${t}:{{project.version}}",`,'                "imagePullPolicy": "{{image.pullPolicy:-IfNotPresent}}",',...i?['                "command": [','                  "java",','                  "-Djava.util.logging.manager=io.yupiik.logging.jul.YupiikLogManager",','                  "-Dio.yupiik.logging.jul.handler.StandardHandler.formatter=json",','                  "-Djava.security.egd=file:/dev/./urandom",','                  "-cp",',`                  "@/opt/applications/${t}/jib-classpath-file",`,`                  "${m}.batch.SimpleBatch"`,"                ],"]:[],'                "env": [',"                  {",'                    "name": "K8S_POD_NAME",','                    "valueFrom": {','                      "fieldRef": {','                        "fieldPath":"metadata.name"',"                      }","                    }","                  },","                  {",'                    "name": "K8S_POD_NAMESPACE",','                    "valueFrom": {','                      "fieldRef": {','                        "fieldPath":"metadata.namespace"',"                      }","                    }","                  }","                ],",'                "envFrom": [',"                  {",'                    "configMapRef": {',`                      "name": "${C}"`,"                    }","                  }","                ]","              }","            ]","          }","        }","      }","    },",`    "schedule":"{{bundlebee.cronjob.${t}.schedule:-@yearly}}",`,`    "successfulJobsHistoryLimit": {{bundlebee.cronjob.${t}.successfulJobsHistoryLimit:-14}},`,`    "failedJobsHistoryLimit": {{bundlebee.cronjob.${t}.failedJobsHistoryLimit:-7}},`,`    "startingDeadlineSeconds": {{bundlebee.cronjob.${t}.startingDeadlineSeconds:-500}},`,'    "concurrencyPolicy":"Forbid"',"  }","}"].join(`
`)}),f.push(`bundlebee.cronjob.${t}.failedJobsHistoryLimit`),f.push(`bundlebee.cronjob.${t}.schedule`),f.push(`bundlebee.cronjob.${t}.startingDeadlineSeconds`),f.push(`bundlebee.cronjob.${t}.successfulJobsHistoryLimit`),f.push(`bundlebee.cronjob.${t}.configuration.driver`),f.push(`bundlebee.cronjob.${t}.configuration.password`),f.push(`bundlebee.cronjob.${t}.configuration.skipTracing`),f.push(`bundlebee.cronjob.${t}.configuration.url`),f.push(`bundlebee.cronjob.${t}.configuration.username`)}u.push({id:r(),name:"placeholders.descriptions.properties",content:f.join(`
`)}),s.push("TIP: If you enabled documentation feature you can see the environment names to use there."),s.push("")},cn=(e,n,t,r,a,i)=>{let{main:s}=Re(e,r,n,t),d=ge(n,t),m=re(s,"probe",r),b=Te(i);a.push("Health checks are used by orchestrators (kubernetes typically) to check if an application is started, ready, live, ..."),a.push(""),b?a.push("The `HealthCheckEndpoints` provides a base implementation for ready and live checks."):a.push("The `HealthCheckServlet` provides a base implementation for ready and live checks."),a.push("First one (generally) must check if the application has the required dependencies and last one if the application is well behaving at runtime."),a.push(""),a.push("To customize it at need in your application you should fill the `specific checks` parts."),a.push(""),a.push("A common example is to `@Inject DataSource datasource;` if your application configured a datasource (not done in the generator) and check it is up:"),a.push(""),a.push("[source,java]"),a.push("----"),a.push("try (final var connection = dataSource.getConnection()) {"),a.push("    if (!connection.isValid(10_000)) {"),a.push('        throw new IllegalStateException("datasource not valid");'),a.push("    }"),a.push("}"),a.push("----"),a.push(""),a.push("These probes are then wired to Kubernetes (or any orchestrator) to report the application status."),a.push(""),b?m.push({id:r(),name:"HealthCheckEndpoints.java",content:[`package ${d}.probe;`,"",`import ${d}.configuration.ApplicationConfiguration;`,"import io.yupiik.fusion.framework.api.scope.ApplicationScoped;","import io.yupiik.fusion.framework.build.api.http.HttpMatcher;","import io.yupiik.fusion.framework.build.api.http.HttpMatcher.PathMatching;","import io.yupiik.fusion.http.server.api.Request;","import io.yupiik.fusion.http.server.api.Response;","import java.util.Objects;","","import static java.util.Locale.ROOT;","import static java.util.Optional.ofNullable;","","@ApplicationScoped","public class HealthCheckEndpoints {","    private final ApplicationConfiguration configuration;","","    public HealthCheckEndpoints(final ApplicationConfiguration configuration) {","        this.configuration = configuration;","    }","",'    @HttpMatcher(methods = "GET", path = "/health", pathMatching = PathMatching.EXACT)',"    protected Response health(final Request req) {","        // heck the caller is allowed to access the probe (~security)",'        if (!Objects.equals(req.header("Health-Key"), configuration.healthKey())) {',"            return Response.of().status(404).build();","        }","","        // no need of another server nor to pollute access log with this probe",'        req.setAttribute("skip-access-log", true);',"","        // extract the kind of health probe","        final var healthCheckType = ofNullable(req.query())","                .map(it -> it.toLowerCase(ROOT))",'                .map(q -> q.contains("ready") ? "ready" : "live")','                .orElse("live");',"","        // do the needed checks, do fail (exception) if there is an issue","        switch (healthCheckType) {",'           case "ready":','               // do "readiness" specific checks',"               break;",'           case "live":',"           default:",'               // do "liveness" specific checks',"        }","","        // optional, returns something in success case",'        return Response.of().status(200).body("{\\"status\\":\\"OK\\"}").build();',"    }","}",""].join(`
`)}):(m.push({id:r(),name:"HealthCheckServlet.java",content:[`package ${d}.probe;`,"",`import ${d}.configuration.ApplicationConfiguration;`,"import jakarta.enterprise.context.Dependent;","import jakarta.inject.Inject;","import jakarta.servlet.http.HttpServlet;","import jakarta.servlet.http.HttpServletRequest;","import jakarta.servlet.http.HttpServletResponse;","import java.io.IOException;","import java.util.Objects;","","import static java.util.Locale.ROOT;","import static java.util.Optional.ofNullable;","","@Dependent","public class HealthCheckServlet extends HttpServlet {","    @Inject","    private ApplicationConfiguration configuration;","","    @Override","    protected void doGet(final HttpServletRequest req, final HttpServletResponse resp) throws IOException {","        // heck the caller is allowed to access the probe (~security)",'        if (!Objects.equals(req.getHeader("Health-Key"), configuration.getHealthKey())) {',"            resp.sendError(HttpServletResponse.SC_NOT_FOUND);","            return;","        }","","        // no need of another server nor to pollute access log with this probe",'        req.setAttribute("skip-access-log", true);',"","        // extract the kind of health probe","        final var healthCheckType = ofNullable(req.getQueryString())","                .map(it -> it.toLowerCase(ROOT))",'                .map(q -> q.contains("ready") ? "ready" : "live")','                .orElse("live");',"","        // do the needed checks, do fail (exception) if there is an issue","        switch (healthCheckType) {",'           case "ready":','               // do "readiness" specific checks',"               break;",'           case "live":',"           default:",'               // do "liveness" specific checks',"        }","","        // optional, returns something in success case","        try (final var writer = resp.getWriter()) {",'            writer.write("{\\"status\\":\\"OK\\"}");',"        }","    }","}",""].join(`
`)}),m.push({id:r(),name:"HealthCheckServletRegistrar.java",content:[`package ${d}.probe;`,"","import jakarta.enterprise.context.Dependent;","import jakarta.inject.Inject;","import jakarta.servlet.ServletContainerInitializer;","import jakarta.servlet.ServletContext;","import java.util.Set;","","// thanks uship tomcat-webserver, we can register the health servlet this way","@Dependent","public class HealthCheckServletRegistrar implements ServletContainerInitializer {","    @Inject","    private HealthCheckServlet healthServlet;","","    @Override","    public void onStartup(final Set<Class<?>> c, final ServletContext ctx) {",'        final var health = ctx.addServlet("health", healthServlet);',"        health.setLoadOnStartup(1);",'        health.addMapping("/health");','        ctx.log("Registered health check");',"    }","}",""].join(`
`)}))},xi=(e,n,t,r,a,i,s)=>{let{main:d,test:m}=Re(e,r,n,t),b=ge(n,t),u=a("kubernetesClient"),p=a("frontend"),h=Te(s);h?i.push("The application uses Yupiik Fusion IoC."):i.push("The application uses CDI as IoC, this is why `beans.xml` file is there - but you don't need to edit it in general."),i.push(""),i.push("`ServerConfigurationProducer` file configured from the application specific configuration the embedded Tomcat."),i.push(""),s.skipGeneration||(i.push("`GreetingEndpoint` is a sample JSON-RPC endpoint. You can add as much `@JsonRpcMethod` you need in this class or another one marked with `@JsonRpc`."),h?i.push("These endpoints use Fusion JSON to map the models, you have to use records and `@JsonXXX` annotations."):i.push("These endpoints use JSON-B to map the models, you can use POJO or records and `@JsonbXXX` annotations."),i.push(""),i.push("Finally, `GreetingEndpointTest` shows a basic test using a random port for Tomcat server."),i.push("It relies on a JUnit5 stereotype `@ApplicationSupport` which ensure the test is executed in the application context."),h||i.push("By default (`@Cdi(reusable = true)`), the context is reused accross tests so ensure to not leak any state."),i.push(""),h?i.push("TIP: the test is written as a client test but you can also inject your `GreetingEndpoint` bean marking a method parameter with `@Fusion` and test it as a standard bean in such a test."):i.push("TIP: the test is written as a client test but you can also `@Inject` your `GreetingEndpoint` bean and test it as a standard bean in such a test."),i.push("")),h||re(e,"src/main/resources/META-INF",r).push({id:r(),name:"beans.xml",content:['<?xml version="1.0" encoding="UTF-8"?>','<beans bean-discovery-mode="all" version="2.0"','       xmlns="http://xmlns.jcp.org/xml/ns/javaee"','       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"','       xsi:schemaLocation="',"        http://xmlns.jcp.org/xml/ns/javaee",'        http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd">',"  <trim/>","</beans>",""].join(`
`)});let v=re(d,"web/server",r);if(h?v.push({id:r(),name:"ServerConfigurationProducer.java",content:[`package ${b}.web.server;`,"",...p?["import org.apache.catalina.Lifecycle;","import org.apache.catalina.servlets.DefaultServlet;"]:[],`import ${b}.configuration.ApplicationConfiguration;`,"import io.yupiik.fusion.framework.api.scope.DefaultScoped;","import io.yupiik.fusion.framework.build.api.event.OnEvent;","import io.yupiik.fusion.http.server.api.WebServer;",...p?["import io.yupiik.fusion.http.server.impl.tomcat.TomcatWebServerConfiguration;","import org.apache.catalina.startup.Tomcat;","import java.util.List;"]:[],"","@DefaultScoped","public class ServerConfigurationProducer {","    // propagate our configuration to Tomcat Server (unified configuration key)","    public void configuration(","            @OnEvent final WebServer.Configuration webConf,","            final ApplicationConfiguration configuration) {","        webConf.port(configuration.port());","        webConf.accessLogPattern(configuration.accessLogPattern());",...p?["","        final var tomcat = webConf.unwrap(TomcatWebServerConfiguration.class);","        tomcat.setContextCustomizers(List.of(ctx -> {","               // configure frontend resource binding when set up","               final var resources = configuration.resources();","               if (resources != null && resources.docBase() != null) {","                   ctx.setDocBase(resources.docBase());","                   if (!resources.webResourcesCached()) {","                       ctx.addLifecycleListener(event -> {","                           if (Lifecycle.CONFIGURE_START_EVENT.equals(event.getType())) {","                               ctx.getResources().setCachingAllowed(resources.webResourcesCached());","                           }","                       });","                   }",'                   final var defaultServlet = Tomcat.addServlet(ctx, "default", DefaultServlet.class.getName());',"                   defaultServlet.setLoadOnStartup(1);",'                   ctx.addServletMappingDecoded("/", "default");','                   ctx.addMimeMapping("css", "text/css");','                   ctx.addMimeMapping("js", "application/javascript");','                   ctx.addMimeMapping("html", "text/html");','                   ctx.addMimeMapping("svg", "image/svg+xml");','                   ctx.addMimeMapping("png", "image/png");','                   ctx.addMimeMapping("jpg", "image/jpg");','                   ctx.addMimeMapping("jpeg", "image/jpeg");','                   ctx.addWelcomeFile("index.html");','                   ctx.getLogger().info("Registered frontend");',"               }","        }));"]:[],"    }","}",""].join(`
`)}):v.push({id:r(),name:"ServerConfigurationProducer.java",content:[`package ${b}.web.server;`,"","import org.apache.catalina.Lifecycle;","import org.apache.catalina.servlets.DefaultServlet;",`import ${b}.configuration.ApplicationConfiguration;`,"import io.yupiik.uship.webserver.tomcat.TomcatWebServerConfiguration;","import jakarta.enterprise.context.ApplicationScoped;","import jakarta.enterprise.inject.Produces;","import org.apache.catalina.valves.AbstractAccessLogValve;",...p?["import org.apache.catalina.startup.Tomcat;"]:[],"import java.util.List;","import java.util.stream.Stream;","","@ApplicationScoped","public class ServerConfigurationProducer {","    // propagate our configuration to Tomcat Server (unified configuration key)","    @Produces","    @ApplicationScoped","    public TomcatWebServerConfiguration configuration(","            final ApplicationConfiguration configuration) {","        final var tomcat = new TomcatWebServerConfiguration();","        tomcat.setPort(configuration.getPort());","        tomcat.setAccessLogPattern(configuration.getAccessLogPattern());","","        // ensure we can set skip-access-log attribute in servlet request to skip the access log","        // it is very useful for probes for example","        tomcat.setContextCustomizers(List.of(ctx -> {","            ctx.setParentClassLoader(Thread.currentThread().getContextClassLoader());","","            Stream.of(ctx.getPipeline().getValves())","                .filter(AbstractAccessLogValve.class::isInstance)","                .map(AbstractAccessLogValve.class::cast)",'               .forEach(v -> v.setCondition("skip-access-log"));',...p?["","               // configure frontend resource binding when set up","               final var resources = configuration.getResources();","               if (resources != null && resources.getDocBase() != null) {","                   ctx.setDocBase(resources.getDocBase());","                   if (!resources.isWebResourcesCached()) {","                       ctx.addLifecycleListener(event -> {","                           if (Lifecycle.CONFIGURE_START_EVENT.equals(event.getType())) {","                               ctx.getResources().setCachingAllowed(resources.isWebResourcesCached());","                           }","                       });","                   }",'                   final var defaultServlet = Tomcat.addServlet(ctx, "default", DefaultServlet.class.getName());',"                   defaultServlet.setLoadOnStartup(1);",'                   ctx.addServletMappingDecoded("/", "default");','                   ctx.addMimeMapping("css", "text/css");','                   ctx.addMimeMapping("js", "application/javascript");','                   ctx.addMimeMapping("html", "text/html");','                   ctx.addMimeMapping("svg", "image/svg+xml");','                   ctx.addMimeMapping("png", "image/png");','                   ctx.addMimeMapping("jpg", "image/jpg");','                   ctx.addMimeMapping("jpeg", "image/jpeg");','                   ctx.addWelcomeFile("index.html");','                   ctx.getLogger().info("Registered frontend");',"               }"]:[],"        }));","        return tomcat;","    }","}",""].join(`
`)}),u){let k=re(d,"k8s/client",r);h?k.push({id:r(),name:"K8sClientProducer.java",content:[`package ${b}.k8s.client;`,"",`import ${b}.configuration.ApplicationConfiguration;`,"import io.yupiik.fusion.kubernetes.client.KubernetesClient;","import io.yupiik.fusion.kubernetes.client.KubernetesClientConfiguration;","import io.yupiik.fusion.framework.api.scope.ApplicationScoped;","import io.yupiik.fusion.framework.api.scope.DefaultScoped;","import io.yupiik.fusion.framework.build.api.scanning.Bean;","","@DefaultScoped","public class K8sClientProducer {","    @Bean","    @ApplicationScoped","    public KubernetesClient client(final ApplicationConfiguration configuration) {",'        // TODO: wire more confguration from this.configuration to enable "out of cluster" clients for example, depends your need',"        return new KubernetesClient(new KubernetesClientConfiguration());","    }","}",""].join(`
`)}):k.push({id:r(),name:"K8sClientProducer.java",content:[`package ${b}.k8s.client;`,"",`import ${b}.configuration.ApplicationConfiguration;`,"import io.yupiik.uship.kubernetes.client.KubernetesClient;","import io.yupiik.uship.kubernetes.client.KubernetesClientConfiguration;","import jakarta.inject.Inject;","import jakarta.enterprise.context.ApplicationScoped;","import jakarta.enterprise.inject.Produces;","import jakarta.annotation.PostConstruct;","import jakarta.annotation.PreDestroy;","","@ApplicationScoped","public class K8sClientProducer {","    @Inject","    private ApplicationConfiguration configuration;","","    private KubernetesClient client;","","    @PostConstruct","    private void create() {","        client = new KubernetesClient(configuration.getK8sClient());","    }","","    @PreDestroy","    private void release() {","        client.close();","    }","","    @Produces","    public KubernetesClient client() {","        return client;","    }","}",""].join(`
`)})}if(s.skipGeneration)return;let l=re(d,"jsonrpc",r);l.push({id:r(),name:"Greeting.java",content:[`package ${b}.jsonrpc;`,"",...h?["import io.yupiik.fusion.framework.build.api.json.JsonModel;","","@JsonModel"]:[],"public record Greeting(String message) {","}",""].join(`
`)}),h?l.push({id:r(),name:"GreetingEndpoint.java",content:[`package ${b}.jsonrpc;`,"","import io.yupiik.fusion.framework.api.scope.ApplicationScoped;","import io.yupiik.fusion.framework.build.api.jsonrpc.JsonRpc;","import io.yupiik.fusion.framework.build.api.jsonrpc.JsonRpcError;","import io.yupiik.fusion.framework.build.api.jsonrpc.JsonRpcParam;","","@ApplicationScoped","public class GreetingEndpoint {","    // if needed you can inject other beans inject them using a constructor:","    // public GreetingEndpoint(","    //    final ApplicationConfiguration configuration"+(u?",":""),...u?["    // final KubernetesClient k8sClient"]:[],"    // ) {","    //     this.configuration = configuration;",...u?["    //     this.k8sClient = k8sClient;"]:[],"    // }","","    @JsonRpc(",'        value = "greet", documentation = "Returns some greeting.",','        errors = @JsonRpcError(code = 400, documentation = "Invalid incoming data."))',"    public Greeting greet(",'          @JsonRpcParam(documentation = "Name of the person.", required = true)',"          final String name) {",'        return new Greeting("Hi " + name);',"    }","}",""].join(`
`)}):l.push({id:r(),name:"GreetingEndpoint.java",content:[`package ${b}.jsonrpc;`,"","import io.yupiik.uship.jsonrpc.core.api.JsonRpc;","import io.yupiik.uship.jsonrpc.core.api.JsonRpcError;","import io.yupiik.uship.jsonrpc.core.api.JsonRpcMethod;","import io.yupiik.uship.jsonrpc.core.api.JsonRpcParam;","import jakarta.enterprise.context.ApplicationScoped;","","@JsonRpc","@ApplicationScoped","public class GreetingEndpoint {","","    // if needed you can inject other beans:","    // @Inject ApplicationConfiguration configuration;",...u?["    // @Inject KubernetesClient k8sClient;"]:[],"",'    @JsonRpcError(code = 400, documentation = "Invalid incoming data.")','    @JsonRpcMethod(name = "greet", documentation = "Returns some greeting.")',"    public Greeting greet(",'          @JsonRpcParam(documentation = "Name of the person.", required = true)',"          final String name) {",'        return new Greeting("Hi " + name);',"    }","}",""].join(`
`)});let f=re(m,"jsonrpc",r),g=re(m,"test",r);h?g.push({id:r(),name:"ApplicationSupport.java",content:[`package ${b}.test;`,"","import io.yupiik.fusion.testing.MonoFusionSupport;","import org.junit.jupiter.api.extension.ExtendWith;","","import java.lang.annotation.Retention;","import java.lang.annotation.Target;","","import static java.lang.annotation.ElementType.TYPE;","import static java.lang.annotation.RetentionPolicy.RUNTIME;","","@Target(TYPE)","@Retention(RUNTIME)","@ExtendWith({","  SetEnvironment.class","  // add your other extensions there to ensure they are available for all tests","})","@MonoFusionSupport","public @interface ApplicationSupport {","}",""].join(`
`)}):g.push({id:r(),name:"ApplicationSupport.java",content:[`package ${b}.test;`,"","import org.apache.openwebbeans.junit5.Cdi;","import org.junit.jupiter.api.extension.ExtendWith;","","import java.lang.annotation.Retention;","import java.lang.annotation.Target;","","import static java.lang.annotation.ElementType.TYPE;","import static java.lang.annotation.RetentionPolicy.RUNTIME;","","@Target(TYPE)","@Retention(RUNTIME)","@ExtendWith({","  SetEnvironment.class","  // add your other extensions there to ensure they are available for all tests","})","@Cdi(reusable = true)","public @interface ApplicationSupport {","}",""].join(`
`)}),g.push({id:r(),name:"SetEnvironment.java",content:[`package ${b}.test;`,"","import org.junit.jupiter.api.extension.Extension;","","public class SetEnvironment implements Extension {","    static {","        // You can configure your test environment there, it is setup before CDI container starts","","        // use a random tomcat port for tests using our specific configuration"+(h?", fusion.http-server.port would work too":""),`        System.setProperty("${t}-tomcat-port", "0");`,"    }","}",""].join(`
`)}),h?f.push({id:r(),name:"GreetingEndpointTest.java",content:[`package ${b}.jsonrpc;`,"","import io.yupiik.fusion.http.server.api.WebServer;","import io.yupiik.fusion.json.JsonMapper;","import io.yupiik.fusion.testing.Fusion;",`import ${b}.test.ApplicationSupport;`,"import org.junit.jupiter.api.Test;","import org.junit.jupiter.api.TestInstance;","import java.util.Map;","import java.io.IOException;","import java.net.URI;","import java.net.http.HttpClient;","import java.net.http.HttpRequest;","import java.net.http.HttpResponse;","","import static java.nio.charset.StandardCharsets.UTF_8;","import static org.junit.jupiter.api.Assertions.assertEquals;","import static org.junit.jupiter.api.TestInstance.Lifecycle.PER_CLASS;","","@ApplicationSupport","@TestInstance(PER_CLASS)","public class GreetingEndpointTest {","    private final HttpClient client = HttpClient.newHttpClient();","","    @Test","    void greet(@Fusion final WebServer.Configuration server, @Fusion final JsonMapper json) throws IOException, InterruptedException {","        final var res = client.send(","            HttpRequest.newBuilder()","                .POST(HttpRequest.BodyPublishers.ofString(json.toString(Map.of(",'                    "jsonrpc", "2.0", "method", "greet", "params", Map.of("name", "test"))), UTF_8))','                .uri(URI.create("http://localhost:" + server.port() + "/jsonrpc"))','                .header("Accept", "application/json")','                .header("Content-Type", "application/json")',"                .build(),","            HttpResponse.BodyHandlers.ofString(UTF_8));","        assertEquals(200, res.statusCode());",'        assertEquals("{\\"jsonrpc\\":\\"2.0\\",\\"result\\":{\\"message\\":\\"Hi test\\"}}", res.body());',"    }","}",""].join(`
`)}):f.push({id:r(),name:"GreetingEndpointTest.java",content:[`package ${b}.jsonrpc;`,"","import io.yupiik.uship.webserver.tomcat.TomcatWebServerConfiguration;",`import ${b}.test.ApplicationSupport;`,"import jakarta.inject.Inject;","import jakarta.json.JsonBuilderFactory;","import org.junit.jupiter.api.Test;","import org.junit.jupiter.api.TestInstance;","import java.io.IOException;","import java.net.URI;","import java.net.http.HttpClient;","import java.net.http.HttpRequest;","import java.net.http.HttpResponse;","","import static java.nio.charset.StandardCharsets.UTF_8;","import static org.junit.jupiter.api.Assertions.assertEquals;","import static org.junit.jupiter.api.TestInstance.Lifecycle.PER_CLASS;","","@ApplicationSupport","@TestInstance(PER_CLASS)","public class GreetingEndpointTest {","    @Inject","    private JsonBuilderFactory json;","","    @Inject // enables to get the random server port","    private TomcatWebServerConfiguration server;","","    private final HttpClient client = HttpClient.newHttpClient();","","    @Test","    void greet() throws IOException, InterruptedException {","        final var res = client.send(","            HttpRequest.newBuilder()","                .POST(HttpRequest.BodyPublishers.ofString(json.createObjectBuilder()",'                    .add("jsonrpc", "2.0")','                    .add("method", "greet")','                    .add("params", json.createObjectBuilder()','                        .add("name", "test"))',"                    .build()","                    .toString(), UTF_8))",'                .uri(URI.create("http://localhost:" + server.getPort() + "/jsonrpc"))','                .header("Accept", "application/json")','                .header("Content-Type", "application/json")',"                .build(),","            HttpResponse.BodyHandlers.ofString(UTF_8));","        assertEquals(200, res.statusCode());",'        assertEquals("{\\"jsonrpc\\":\\"2.0\\",\\"result\\":{\\"message\\":\\"Hi test\\"}}", res.body());',"    }","}",""].join(`
`)})},Si=(e,{groupId:n,artifactId:t},r,a,i,s)=>{let d=ge(n,t),m=a("jsonRpc"),b=a("kubernetesClient"),u=a("frontend"),p=a("jib")||a("bundlebee"),h=Te(s);i.push("`ApplicationConfiguration` contains the application configuration."),i.push(""),h?i.push("It uses Yupiik Fusion Configuration mecanism which uses system properties and environment variable to bind values on a record."):i.push("It uses Yupiik `simple-configuration` and `@Param` to bind the configuration."),i.push(""),i.push("It enables to inject the configuration from system properties or environment variable."),i.push("");let v=re(Re(e,r,n,t).main,"configuration",r);h?v.push({id:r(),name:"ApplicationConfiguration.java",content:[`package ${d}.configuration;`,"","import io.yupiik.fusion.framework.api.scope.ApplicationScoped;","import io.yupiik.fusion.framework.build.api.configuration.Property;","import io.yupiik.fusion.framework.build.api.configuration.RootConfiguration;","","// hosts the application configuration, you can add @Param as you need","// by default fusion makes it injectable directly in any bean","@ApplicationScoped",`@RootConfiguration("${t}") // will be the prefix of the system properties filtered to bind on the instance`,"public record ApplicationConfiguration(",...m?['    @Property(value = "tomcat-port", documentation = "Tomcat port.", defaultValue = "8080")',"    int port,","",'    @Property(value = "tomcat-accessLogPattern", documentation = "Tomcat access log pattern.", defaultValue = "\\"common\\"")',"    String accessLogPattern"+(u||p?",":""),""]:[],...u?['    @Property(value = "resources", documentation = "Frontend resources configuration.", defaultValue = "new ApplicationConfiguration.ResourceConfiguration()")',"    ResourceConfiguration resources"+(p?",":""),""]:[],...p?[`    @Property(value = "health-key", documentation = "The value of the 'Health-Key'/api key header to access health probe.", defaultValue = "\\"changeit\\"")`,"    String healthKey",""]:[],") {",...u?["","    public record ResourceConfiguration(",'        @Property(documentation = "If set, the folder is served through HTTP.")',"        String docBase,","",'        @Property(documentation = "Should web resource be cached, mainly useful when docBase is set.", defaultValue = "true")',"        boolean webResourcesCached","    ) {","    }"]:[],"}",""].join(`
`)}):v.push({id:r(),name:"ApplicationConfiguration.java",content:[`package ${d}.configuration;`,"","import io.yupiik.batch.runtime.configuration.Binder;","import io.yupiik.batch.runtime.configuration.Param;","import io.yupiik.batch.runtime.configuration.Prefix;",...b?["import io.yupiik.uship.kubernetes.client.KubernetesClientConfiguration;"]:[],"import jakarta.annotation.PostConstruct;","import jakarta.enterprise.context.ApplicationScoped;","","// hosts the application configuration, you can add @Param as you need","@ApplicationScoped",`@Prefix("${t}") // will be the prefix of the system properties filtered to bind on the instance`,"public class ApplicationConfiguration {",...m?[`    @Param(name = "${t}-tomcat-port", description = "Tomcat port.")`,"    private int port = 8080;","",`    @Param(name = "${t}-tomcat-accessLogPattern", description = "Tomcat access log pattern.")`,'    private String accessLogPattern = "common";',""]:[],...u?[`    @Param(name = "${t}-resources", description = "Frontend resources configuration.")`,"    private ResourceConfiguration resources = new ResourceConfiguration();",""]:[],...p?[`    @Param(name = "${t}-health-key", description = "The value of the 'Health-Key'/api key header to access health probe.")`,'    private String healthKey = "changeit";',""]:[],...b?[`    @Param(name = "${t}-kubernetes-client", description = "Kubernetes client configuration.")`,"    private KubernetesClientConfiguration k8sClient = new KubernetesClientConfiguration();",""]:[],"    @PostConstruct","    private void init() {","        Binder.bindPrefixed(this);","    }",...m?["","    public int getPort() {","        return port;","    }","","    public String getAccessLogPattern() {","        return accessLogPattern;","    }"]:[],...u?["","    public ResourceConfiguration getResources() {","        return resources;","    }"]:[],...p?["","    public String getHealthKey() {","        return healthKey;","    }"]:[],...b?["","    public KubernetesClientConfiguration getK8sClient() {","        return k8sClient;","    }"]:[],...u?["","    public static class ResourceConfiguration {",'        @Param(description = "If set, the folder is served through HTTP.")',"        private String docBase;","",'        @Param(description = "Should web resource be cached, mainly useful when docBase is set.")',"        private boolean webResourcesCached = true;","","        public String getDocBase() {","            return docBase;","        }","","        public boolean isWebResourcesCached() {","            return webResourcesCached;","        }","    }",""]:[],"}",""].join(`
`)})},Ci=(e,n,t,r,a,i,s)=>{let d=i?re(e,"src/main/frontend",r):e;s.push("The frontend module sets up:"),s.push(""),s.push("* ESBuild to build quickly your application with an extension to enable to import CSS and one to synchronize resources"),s.push("* Preact to write components (like React but way lighter)"),s.push(""),d.push({id:r(),name:"package.json",content:`{
            "private": true,
            "description": "${t}",
            "scripts": {
                "build": "node ./esbuild",
                "watch": "NODE_ENV=dev npm run build"
            },
            "devDependencies": {
                "postcss": "^8.4.12",
                "postcss-modules": "^4.3.1",
                "preact": "^10.7.1",
                "esbuild": "^0.14.9",
                "fs-extra": "^10.0.0",
                "tmp": "^0.2.1"
            }
        }`.trim().replace(/^        /gm,"")});let m=re(d,"esbuild",r);m.push({id:r(),name:"index.js",content:["const dev = process.env.NODE_ENV === 'dev';","","const resourcesPlugin = require('./resources.js');","const cssBundlePlugin = require('./css.js');","","const outDir = '../../../target/classes/META-INF/resources/';","const projectVersion = process.env.PROJECT_VERSION || 'dev';","const indexHtmlVersion = projectVersion.endsWith('-SNAPSHOT') ?","    process.env.BUILD_DATE.replace(':', '-') :","    projectVersion;","","const onRebuild = () => resourcesPlugin({","    assets: [","        // resources to copy in target folder,","        // from/to can be folders if an array of extensions to keep is passed in _extensions_ attribute","        {","            from: './index.html',","            to: outDir + 'index.html',","            replacements: [","                {","                    from: '{{static.marker}}',","                    to: indexHtmlVersion,","                },","            ],","        },","    ],","});","","require('esbuild').build({","    loader: { '.js': 'jsx' },","    entryPoints: [ './index.js' ],","    bundle: true,","    metafile: dev,","    minify: !dev,","    sourcemap: dev,","    legalComments: 'none',","    logLevel: 'info',","    target: [ 'chrome58', 'firefox57', 'safari11' ],","    outfile: outDir + 'js/app.js',","    jsxFactory: 'h',","    jsxFragment: 'Fragment',","    plugins: [ cssBundlePlugin() ],","    watch: dev && { onRebuild },","})",".catch(() => process.exit(1))",".finally(onRebuild);",""].join(`
`)}),m.push({id:r(),name:"resources.js",content:Vt}),m.push({id:r(),name:"css.js",content:Wt}),d.push({id:r(),name:"index.html",content:Ht.replace("{{artifactId}}",t)}),d.push({id:r(),name:"index.js",content:`
        import { h, render } from 'preact';
        import { App } from './components/App';
        import './main.module.css';

        render(<App />, document.getElementById('app'));
        `.trim().replace(/^        /gm,"")}),re(d,"components",r).push({id:r(),name:"App.js",content:`
        import { h } from 'preact';

        export const App = () => (
            <h1>Hello ${t}</h1>
        );
        `.trim().replace(/^        /gm,"")}),d.push({id:r(),name:"main.module.css",content:`
        html {
          padding: 0;
          margin: 0;
        }
        `.trim().replace(/^        /gm,"")})},Ii=(e,n,t,r,a,i,s)=>{let d=a("batch"),m=a("jsonRpc"),b=a("bundlebee"),u=Te(s),p=re(e,"src/main",r),{main:h}=Re(e,r,n,t),v=re(p,"minisite",r),l=re(v,"content",r);i.push("The documentation module sets up:"),i.push(""),i.push("* Documentation using yupiik minisite in `src/main/minisite/content`"),i.push(""),i.push("You can visualize the documentation running: `mvn process-classes yupiik-tools:serve-minisite [-Dyupiik.minisite.port=8080 [-Dyupiik.minisite.openBrowser=false]]`."),i.push("");let f=ge(n,t),g=re(h,"build",r);u?d&&g.push({id:r(),name:"ConfigurationGenerator.java",content:[`package ${f}.build;`,"",...d?["import io.yupiik.batch.runtime.documentation.ConfigurationParameterCollector;",`import ${f}.batch.SimpleBatch;`]:[],...m?["import io.yupiik.fusion.documentation.OpenRpcGenerator;","import io.yupiik.fusion.documentation.OpenRPC2Adoc;"]:[],"import java.io.IOException;","import java.io.PrintStream;","import java.nio.file.Files;","import java.nio.file.Path;","import java.util.List;","import java.util.Map;","","import static java.util.Locale.ROOT;","import static java.util.stream.Collectors.joining;","","// used by minisite at build time to enrich the doc content","public class ConfigurationGenerator implements Runnable {","    private final Path sourceBase;","","    public ConfigurationGenerator(final Path sourceBase) {","        this.sourceBase = sourceBase;","    }","","    @Override","    public void run() {","        // here you can generate anything you want in generated partials dir and include it in your .adoc",'        final var base = sourceBase.resolve("content/_partials/generated");',"        try { // ensure base exists","            Files.createDirectories(base);","        } catch (final IOException e) {","            throw new IllegalStateException(e);","        }","",`        generateBatchConfiguration(base.resolve("${t}.batch.configuration.adoc"), SimpleBatch.class);`,"    }","","    private void generateBatchConfiguration(final Path target, final Class<?> clazz) {","        final var collector = new ConfigurationParameterCollector(List.of(Class.class.cast(clazz)));","        final var params = collector.getWithPrefix(c -> null);",'        final var name = target.getFileName().toString().replace(".configuration.adoc", "");','        final var adoc = "" +','                "++++\\n" +','                "<input table-filter=\\"" + name + "-configuration\\" class=\\"form-control\\" type=\\"text\\" placeholder=\\"Filter...\\">\\n" +','                "++++\\n" +','                "[." + name + "-configuration,options=\\"header\\",cols=\\"a,a,2\\",role=\\"autowrap\\"]\\n" +','                "|===\\n" +','                "|Name|Env Variable|Description\\n" +',"                params.entrySet().stream()","                    .sorted(Map.Entry.comparingByKey())",'                    .map(e -> "" +','                        "| `--" + e.getKey() + "` " + (e.getValue().param().required() ? "*" : "") +','                        "| `" + e.getKey().replaceAll("[^A-Za-z0-9]", "_").toUpperCase(ROOT) + "` " +','                        "| " + e.getValue().param().description() + "\\n")',"                    .sorted()",'                    .collect(joining()) + "\\n" +','                "|===\\n" +','                "";',"","        try {","            Files.writeString(target, adoc);","        } catch (final IOException e) {","            throw new IllegalStateException(e);","        }","    }","}",""].join(`
`)}):g.push({id:r(),name:"ConfigurationGenerator.java",content:[`package ${f}.build;`,"",...d?[`import ${f}.batch.SimpleBatch;`]:[],...m?[`import ${f}.configuration.ApplicationConfiguration;`,`import ${f}.jsonrpc.GreetingEndpoint;`,"import io.yupiik.uship.jsonrpc.doc.AsciidoctorJsonRpcDocumentationGenerator;","import io.yupiik.batch.runtime.batch.Batch;"]:[],"import io.yupiik.batch.runtime.documentation.ConfigurationParameterCollector;","import java.io.IOException;","import java.io.PrintStream;","import java.nio.file.Files;","import java.nio.file.Path;","import java.util.List;","import java.util.Map;","","import static java.util.Locale.ROOT;","import static java.util.stream.Collectors.joining;","","// used by minisite at build time to enrich the doc content","public class ConfigurationGenerator implements Runnable {","    private final Path sourceBase;","","    public ConfigurationGenerator(final Path sourceBase) {","        this.sourceBase = sourceBase;","    }","","    @Override","    public void run() {","        // here you can generate anything you want in generated partials dir and include it in your .adoc",'        final var base = sourceBase.resolve("content/_partials/generated");',"        try { // ensure base exists","            Files.createDirectories(base);","        } catch (final IOException e) {","            throw new IllegalStateException(e);","        }",...d?["",`        generateConfiguration(base.resolve("${t}.batch.configuration.adoc"), SimpleBatch.class);`]:[],...m?["",`        generateConfiguration(base.resolve("documentation.${t}.adoc"), AppFakeBatch.class);`,`        generateJsonRpcApi("${t} API", base.resolve("${t}.jsonrpc.adoc"), List.of(GreetingEndpoint.class));`]:[],"    }","","    private void generateJsonRpcApi(final String name, final Path target, final List<Class<?>> classes) {","        try (final var out = new PrintStream(Files.newOutputStream(target))) {","            new AsciidoctorJsonRpcDocumentationGenerator(name, classes, out).run();","        } catch (final IOException e) {","            throw new IllegalStateException(e);","        }","    }","","    private void generateConfiguration(final Path target, final Class<?> clazz) {","        final var collector = new ConfigurationParameterCollector(List.of(Class.class.cast(clazz)));","        final var params = collector.getWithPrefix(c -> null);",'        final var name = target.getFileName().toString().replace(".configuration.adoc", "");','        final var adoc = "" +','                "++++\\n" +','                "<input table-filter=\\"" + name + "-configuration\\" class=\\"form-control\\" type=\\"text\\" placeholder=\\"Filter...\\">\\n" +','                "++++\\n" +','                "[." + name + "-configuration,options=\\"header\\",cols=\\"a,a,2\\",role=\\"autowrap\\"]\\n" +','                "|===\\n" +','                "|Name|Env Variable|Description\\n" +',"                params.entrySet().stream()","                    .sorted(Map.Entry.comparingByKey())",'                    .map(e -> "" +','                        "| `--" + e.getKey() + "` " + (e.getValue().param().required() ? "*" : "") +','                        "| `" + e.getKey().replaceAll("[^A-Za-z0-9]", "_").toUpperCase(ROOT) + "` " +','                        "| " + e.getValue().param().description() + "\\n")',"                    .sorted()",'                    .collect(joining()) + "\\n" +','                "|===\\n" +','                "";',"","        try {","            Files.writeString(target, adoc);","        } catch (final IOException e) {","            throw new IllegalStateException(e);","        }","    }",...m?["","    // fake batch class to use the parameter collector","    public static class AppFakeBatch implements Batch<ApplicationConfiguration> {","        @Override public void accept(final ApplicationConfiguration conf) {}","    }"]:[],"}",""].join(`
`)}),l.push({id:r(),name:"getting-started.adoc",content:["= Getting Started",":minisite-index: 100",":minisite-index-title: Getting Started",":minisite-index-description: Demo documentation page.",":minisite-index-icon: desktop",":minisite-keywords: demo, documentation",":minisite-breadcrumb: Home[/] > Getting Started",":minisite-nav-next-label: Configuration","","This documentation is generated by Yupiik minisite.",""].join(`
`)}),a("jsonRpc")&&l.push({id:r(),name:"json-rpc.adoc",content:["= JSON-RPC API",":minisite-index: 300",":minisite-index-title: JSON-RPC",":minisite-index-description: JSON-RPC API.",":minisite-index-icon: laptop-house",":minisite-keywords: api, json-rpc, documentation",":minisite-breadcrumb: Home[/] > JSON-RPC API",":minisite-nav-prev-label: Configuration",...b?[":minisite-nav-next-label: Deployment"]:[],"","== API","",u?`include::{partialsdir}/generated/${t}.openrpc.adoc[leveloffset=+1]

=== JSON

[source,json]
----
include::{partialsdir}/generated/${t}.openrpc.json[]
----

`:`include::{partialsdir}/generated/${t}.jsonrpc.adoc[lines=3..-1,leveloffset=+1]`,""].join(`
`)}),a("batch")&&l.push({id:r(),name:"batch.adoc",content:["= Batch",":minisite-index: 400",":minisite-index-title: Batch",":minisite-index-description: Batch API.",":minisite-index-icon: code",":minisite-keywords: batch, configuration, documentation",":minisite-breadcrumb: Home[/] > Batch",":minisite-nav-prev-label: Configuration","","Here is the batch configuration:","",`include::{partialsdir}/generated/${t}.batch.configuration.adoc[]`,""].join(`
`)}),l.push({id:r(),name:"configuration.adoc",content:["= Configuration",":minisite-index: 300",":minisite-index-title: Configuration",":minisite-index-description: Application Configuration.",":minisite-index-icon: code",":minisite-keywords: configuration, json-rpc, documentation",":minisite-breadcrumb: Home[/] > Configuration",":minisite-nav-prev-label: Getting Started",...m?[":minisite-nav-next-label: JSON-RPC"]:[],"","Here is the application configuration:","",`include::{partialsdir}/generated/documentation.${t}.adoc[${u?"lines=4..-1":""}]`,""].join(`
`)}),b&&l.push({id:r(),name:"deployment.adoc",content:["= Deployment",":minisite-index: 800",":minisite-index-title: Deployment",":minisite-index-description: Deploy.",":minisite-index-icon: fas fa-space-shuttle",":minisite-keywords: configuration, json-rpc, documentation",":minisite-breadcrumb: Home[/] > Configuration",m?":minisite-nav-prev-label: JSON-RPC":":minisite-nav-prev-label: Configuration","","This page lists deployment configuration.","It is based on placeholders (variables) and tunable using an environment file or maven properties.","You can check the pom for `bundlebee-placeholder-import` comment to see how to enable an externalised file to host the environment variables.","","== Placeholders","","include::{partialsdir}/generated/deployment/placeholders.adoc[]","","== Sample","","This part shows a a sample configuration file you can use as a base for `bundlebee-placeholder-import` file.","","TIP: if you use link:https://code.visualstudio.com/[VSCode,window=_blank] you can install link:https://marketplace.visualstudio.com/items?itemName=rmannibucau.properties-completion[properties completion,window=_blank] extension to fill this page.","Use this link:completion/placeholders.completion.properties[link] url as a header of the file: `# vscode_properties_completion_proposals=https://.../completion/placeholders.completion.properties.`.","","[source,properties]","----","include::{partialsdir}/generated/deployment/placeholders.properties[]","----",""].join(`
`)})},Ei=(e,n,t,r,a)=>{let i=t("documentation");r.push("Github workflow enables you to automatically execute command for your project for commits/pr."),r.push(""),r.push("The `github` feature generated a basic Github workflow in `.github/workflows/maven.yaml` which builds the project automatically on commit."),i&&(r.push(""),r.push("IMPORTANT: since you enabled documentation feature the project set up a deployment skeleton (commented by default in `maven.yaml`)."),r.push("If you want to enable continuous documentation deployment, ensure to create a `gh-pages` branch and to enable Github Pages for it."),r.push("See `DOC: ` comments in the yaml.")),r.push("");let s=re(e,".github",n);s.push({id:n(),name:"settings.xml",content:['<?xml version="1.0" encoding="UTF-8"?>',"<settings>","  <servers>","    <server>","      <id>github.com</id>","      <!-- DOC: you can also setup a custom token in your secrets and wire it there and env: of the maven.yaml -->","      <password>${env.GITHUB_TOKEN}</password>","    </server>","  </servers>","</settings>",""].join(`
`)});let d="ubuntu-20.04",m=["      - name: Clone","        id: clone","        uses: actions/checkout@v4",`      - name: Set up JDK ${a.nav.javaVersion}`,`        id: java${a.nav.javaVersion}`,"        uses: actions/setup-java@v4","        with:","          distribution: 'zulu'",`          java-version: '${a.nav.javaVersion}'`,"          cache: 'maven'"],b=["      - name: Remove Snapshots Before Caching","        run: find ~/.m2/repository -name '*SNAPSHOT' | xargs rm -Rf"];re(s,"workflows",n).push({id:n(),name:"maven.yaml",content:["name: Github CI","","on: [ push, pull_request ]","","env:","  MAVEN_OPTS: -Dmaven.artifact.threads=256 -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn",...i?["  GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}"]:[],"","jobs:","  build:","    name: Main Build",`    runs-on: ${d}`,"    steps:",...m,"      - name: Build","        run: mvn package -e",...b,...i?["  DOC: ensure to set the needed secrets (see README.adoc)","  deploy-doc:","    if: github.ref == 'refs/heads/main'","    name: Documentation",`    runs-on: ${d}`,"    steps:",...m,"      - name: Deploy-Documentation","        run: mvn package -Pgh-pages -e",...b].map(u=>u.replace("  ","  # ")):[],""].join(`
`)})},Ai=(e,{groupId:n,artifactId:t},r,a,i,s,d)=>{switch(r.key){case"jsonRpc":{s.push("== Application Configuration"),s.push(""),Si(e,{groupId:n,artifactId:t},a,i,s,r),s.push("== JSON-RPC server"),s.push(""),xi(e,n,t,a,i,s,r);break}case"kubernetesClient":break;case"frontend":s.push("== Frontend application"),s.push(""),Ci(e,n,t,a,i,!0,s);break;case"batch":{s.push("== Batch job"),s.push(""),wi(e,n,t,a,i,s);break}case"jib":!i("bundlebee")&&i("jsonRpc")&&(s.push("== Health Probe"),s.push(""),cn(e,n,t,a,s,d.features.jsonRpc)),s.push("== Jib/Docker images"),s.push(""),s.push("You can build the project docker image using: `mvn package jib:dockerBuild [-DskipTests]` (docker) or `mvn package jib:build [-DskipTests]` (remote registry if configured with related properties)."),s.push("");break;case"bundlebee":i("jsonRpc")&&(s.push("== Health Probe"),s.push(""),cn(e,n,t,a,s,d.features.jsonRpc)),ji(e,n,t,a,i,!0,s,Te(d.features.jsonRpc));break;case"documentation":s.push("== Documentation"),s.push(""),Ii(e,n,t,a,i,s,d.features.jsonRpc);break;case"github":s.push("== Github Workflow"),s.push(""),Ei(e,a,i,s,d);break;default:throw new Error(`Unknown feature: ${r.key}.`)}},Ti=(e,n,{artifactId:t},r,a,i)=>{i.push("Multimodule generator not yet implemented")},Xe=e=>Object.keys(e).map(n=>fe(pe({},e[n]),{key:n})).filter(n=>n.enabled),Qe=e=>e.length==0||e.filter(n=>n.supportSubModule&&n.useParent).length==0,Ri=(e,n)=>n.filter(t=>t.key=="frontend").length==1&&n.filter(t=>t.key=="jsonRpc").length==0?[...n,fe(pe({},e.jsonRpc),{key:"jsonRpc",skipGeneration:!0})]:n,ln=e=>{let n=Ri(e.features,Xe(e.features)),t=Qe(n),r=[],a=0;r.push({id:a++,name:"pom.xml",content:rn(e)}),r.push({id:a++,name:".gitignore",content:`.idea
*.iml
*.ipr
*.iws
.settings
.classpath
.vscode
.code
.node
target
generated
generated_*
node_modules
`});let i=()=>a++,s=m=>n.filter(b=>b.key==m).length>0,d=[];return n.forEach(m=>{t?Ai(r,e.nav,m,i,s,d,e):Ti(r,e.nav,m,i,s)}),r.push({id:a++,name:"README.adoc",content:`= ${e.nav.artifactId}
:toc:

Generated project.

IMPORTANT: ensure to use maven >= 3.8 and Java >= ${e.nav.javaVersion}.

${d.join(`
`)}`}),re(r,".mvn",i).push({id:i(),name:"jvm.config",content:"-Djava.util.logging.SimpleFormatter.format=[%4$s]\u3164%5$s%6$s%n"}),r};var fn=dt(pn()),hn=dt(dn()),mn=(e,n)=>!e.children&&n.children?1:e.children&&!n.children?-1:e.name.localeCompare(n.name),rt=({children:e,key:n,onClick:t})=>M("li",{key:n,style:{listStyleType:"none"},onClick:t},e),gn=({item:e,setSelectedFile:n})=>M(ke,null,e.children&&M(Oi,{folder:e,setSelectedFile:n}),!e.children&&M(Bi,{file:e,setSelectedFile:n})),Di=e=>{let n=pe({},e);for(;n.children.length==1&&n.children[0].children;)n={key:e.key,name:`${n.name}/${n.children[0].name}`,children:n.children[0].children};return n},Oi=({folder:e,setSelectedFile:n})=>{let[t,r]=je(!1),a=Di(e),i=M("span",{onClick:()=>{r(!t),n(null)}},M("i",{className:`mr-1 ${bn(e.name,()=>`far fa-folder${t?"-open":""}`)}`}),a.name," ",M("span",{style:{verticalAlign:"super",fontSize:"xx-small"}},"(",a.children.length,")"));return M(ke,null,!t&&M(rt,{key:i.key},i),t&&M(rt,{key:i.key},i,M("ul",{className:"nested",key:a.id,style:{marginLeft:"0.5rem"}},a.children.sort(mn).map(s=>M(gn,{item:s,setSelectedFile:n})))))},bn=(e,n)=>e.endsWith(".java")||e.endsWith(".json")||e.endsWith(".xml")||e.endsWith(".yaml")?"far fa-file-code":e.endsWith(".js")?"fab fa-js":e.endsWith(".adoc")?"fa fa-book":n(),Bi=({file:e,setSelectedFile:n})=>M(rt,{key:e.id,onClick:()=>n(e)},M("i",{className:`mr-1 ${bn(e.name,()=>"far fa-file-alt")}`}),e.name),$i=e=>e?e.name.endsWith(".xml")?"language-xml":e.name.endsWith(".java")?"language-java":e.name.endsWith(".properties")?"language-properties":e.name.endsWith(".json")?"language-json":e.name.endsWith(".yaml")?"language-yaml":e.name.endsWith(".js")?"language-javascript":e.name.endsWith(".adoc")?"language-asciidoc":e.name==".gitignore"?"language-bash":e.name.endsWith(".css")?"language-css":e.name.endsWith(".html")?"language-html":"nohighlight":"nohighlight",vn=(e,n)=>{if(n.children){let t=e.folder(n.name);n.children.forEach(r=>vn(t,r))}else e.file(n.name,n.content)},Pi=(e,n)=>{let t=new fn.default;vn(t,{name:e.nav.artifactId,children:n}),t.generateAsync({type:"blob"}).then(r=>hn.default.saveAs(r,`${e.nav.artifactId||"project"}-${e.nav.version||"1.0.0-SNAPSHOT"}.zip`))},zi=({file:e})=>{let n=Pt();return Ye(()=>{n.current&&window.hljs&&window.hljs.highlightElement(n.current)},[e]),M("code",{key:e.name,ref:n,className:$i(e)},e.content)},_n=({dispatch:e,data:n})=>{let[t,r]=je([]),[a,i]=je(null);return Ye(()=>{r(ln(n)),i(null)},[n]),M(ke,null,M("h3",{className:"mt-3"},"Skeleton Project Files"),M("div",{className:"row"},M("div",{className:"col-sm-4",style:{overflowX:"auto"}},M("ul",{style:{marginLeft:0}},t.sort(mn).map(s=>M(gn,{item:s,setSelectedFile:i}))),M("div",{className:"mt-5"},M("button",{type:"button",className:"btn btn-primary",onClick:()=>Pi(n,t)},M("i",{className:"fa fa-file-archive mr-1"}),"Download Project"))),M("div",{className:"col-sm-8"},a&&a.content&&M("pre",null,M(zi,{file:a})))))};var ot=({name:e,dispatch:n,data:t})=>{let r=`${e.substring(0,1).toUpperCase()}${e.substring(1)}`;return M("div",{className:"form-group",style:{marginBottom:"0.3rem",marginRight:"1rem",flex:"1"}},M("label",{for:e},M("b",null,r)),M("div",null,M("input",{id:e,value:t[e],onChange:a=>n({type:`nav.${e}`,value:a.target.value}),className:"col-sm-12 form-control form-control-sm",placeholder:`${r}...`})))},yn=({data:e,dispatch:n})=>M("div",{className:"border-bottom pb-4"},M("div",null,M("h3",null,"Metadata")),M("div",null,M("form",{style:{display:"flex"}},M("div",{className:"form-group",style:{flex:"1"}},M("div",null,M("b",null,"Java Version")),M("div",null,["17","21"].map(t=>M("div",{className:"form-check form-check-inline",key:t},M("input",{type:"radio",className:"form-check-input",checked:e.javaVersion+""===t,onChange:r=>n({type:"nav.javaVersion",value:parseInt(r.target.value)}),id:"javaVersion",value:t,"aria-describedby":"javaVersion",placeholder:"Java Version"}),M("label",{for:"javaVersion",className:"form-check-label"},t))))),M(ot,{name:"groupId",dispatch:n,data:e}),M(ot,{name:"artifactId",dispatch:n,data:e}),M(ot,{name:"version",dispatch:n,data:e}))));var kn={nav:{javaVersion:17,groupId:"org.example",artifactId:"application",version:"1.0.0-SNAPSHOT"},features:{jsonRpc:{label:"JSON-RPC",order:1,enabled:!0,supportSubModule:!0,useParent:!1,tooltip:"Enables JSON-RPC backend",icon:"fa fa-server",switchValues:[{name:"useFusion",enabled:!0,label:"Use Fusion",tooltip:"Backend will use Fusion IoC/JSON-RPC server if checked else a CDI IoC with uShip JSON-RPC server"},{name:"useUship",enabled:!1}]},frontend:{label:"Frontend",order:2,enabled:!1,supportSubModule:!0,useParent:!1,tooltip:"Enables Preact/ESBuild",icon:"fab fa-js"},batch:{label:"Batch",order:3,enabled:!1,supportSubModule:!0,useParent:!1,tooltip:"Enables Yupiik Batch",icon:"fa fa-dumbbell"},kubernetesClient:{label:"K8s Client",order:4,enabled:!1,supportSubModule:!1,useParent:!1,tooltip:"Creates a K8s HTTP Client in the backend",icon:"fa fa-cloud"},jib:{label:"JIB (docker)",order:5,enabled:!1,supportSubModule:!1,useParent:!1,tooltip:"Setup docker image creation",icon:"fab fa-docker"},bundlebee:{label:"BundleBee",order:6,enabled:!1,supportSubModule:!1,useParent:!1,tooltip:"Create a (Kubernetes) bundlebee deployment recipe",icon:"fa fa-network-wired"},documentation:{label:"Minisite",order:7,enabled:!1,supportSubModule:!1,useParent:!1,tooltip:"Setup a documentation module for the project",icon:"fa fa-book"},github:{label:"Github",order:8,enabled:!1,supportSubModule:!1,useParent:!1,tooltip:"Generate a basic Github Workflow",icon:"fab fa-github"}}};var Fi=(e,n)=>{let t=n.type.split(".");switch(t.length){case 1:return fe(pe({},e),{[n.type]:n.value});case 2:let r=e[t[0]];return fe(pe({},e),{[t[0]]:fe(pe({},r||{}),{[t[1]]:n.value})});default:throw new Error(`invalid action type: ${n.type}`)}},wn=()=>{let[e,n]=qe((t,r)=>Fi(t,r),kn);return M("div",{className:"project-starter container"},M("h2",{class:"pt-5"},"Yupiik OSS - Project Starter"),M("div",{style:{marginRight:"0",marginLeft:"0"}},M("div",null,M(yn,{data:e.nav,dispatch:n})),M("div",null,M(Mt,{data:e.features,dispatch:n}))),M("div",{style:{width:"100%"}},M(_n,{dispatch:n,data:e})))};At(M(wn,null),document.getElementById("starter-app"));})();
